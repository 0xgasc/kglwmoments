/*! For license information please see main.3ca81977.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(i(e)!==e)throw Error(o(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var m=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var M=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var z=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===z?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case h:return"Portal";case w:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var _=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},F=[],R=-1;function U(e){return{current:e}}function $(e){0>R||(e.current=F[R],F[R]=null,R--)}function I(e,t){R++,F[R]=e.current,e.current=t}var B=U(null),H=U(null),W=U(null),Q=U(null);function q(e,t){switch(I(W,t),I(H,e),I(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?au(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=lu(t=au(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(B),I(B,e)}function V(){$(B),$(H),$(W)}function G(e){null!==e.memoizedState&&I(Q,e);var t=B.current,n=lu(t,e.type);t!==n&&(I(H,e),I(B,n))}function Y(e){H.current===e&&($(B),$(H)),Q.current===e&&($(Q),Gu._currentValue=O)}var K=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,le=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,ie=r.log,ce=r.unstable_setDisableYieldValue,de=null,ue=null;function me(e){if("function"===typeof ie&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/he|0)|0},pe=Math.log,he=Math.LN2;var ge=256,xe=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,l=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~l)?a=be(r):0!==(o&=s)?a=be(o):n||0!==(n=s&~e)&&(a=be(n)):0!==(s=r&~l)?a=be(s):0!==o?a=be(o):n||0!==(n=r&~e)&&(a=be(n)),0===a?0:0!==t&&t!==a&&0===(t&l)&&((l=a&-a)>=(n=t&-t)||32===l&&0!==(4194048&n))?t:a}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ne(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var ze=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ze,_e="__reactProps$"+ze,De="__reactContainer$"+ze,Le="__reactEvents$"+ze,Oe="__reactListeners$"+ze,Fe="__reactHandles$"+ze,Re="__reactResources$"+ze,Ue="__reactMarker$"+ze;function $e(e){delete e[Ae],delete e[_e],delete e[Le],delete e[Oe],delete e[Fe]}function Ie(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yu(e);null!==e;){if(n=e[Ae])return n;e=yu(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Ae]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function We(e){var t=e[Re];return t||(t=e[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Ue]=!0}var qe=new Set,Ve={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ve[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ke,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,K.call(et,a)||!K.call(Ze,a)&&(Xe.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Ke)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Je}var lt=!1;function ot(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){r=l}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=r.DetermineComponentFrameRoot(),o=l[0],s=l[1];if(o&&s){var i=o.split("\n"),c=s.split("\n");for(a=r=0;r<i.length&&!i[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===i.length||a===c.length)for(r=i.length-1,a=c.length-1;1<=r&&0<=a&&i[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(i[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||i[r]!==c[a]){var d="\n"+i[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return at("Activity");default:return""}}function it(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function ht(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,l,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ct(t)):null!=n?bt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=l&&(e.defaultChecked=!!l),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function xt(e,t,n,r,a,l,o,s){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=n){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(_(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var l in t)t.hasOwnProperty(l)&&kt(e,l,t[l])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,_t=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[_e]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[_e]||null;if(!a)throw Error(o(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Ot(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==At||null!==_t)&&(Ic(),At&&(t=At,e=_t,_t=At=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[_e]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Rt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Rt)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(_m){Ut=!1}var It=null,Bt=null,Ht=null;function Wt(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,a="value"in It?It.value:It.textContent,l=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[l-t];t++);return Ht=a.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Vt(){return!1}function Gt(e){function t(t,n,r,a,l){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?qt:Vt,this.isPropagationStopped=Vt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Yt,Kt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Xt),en=m({},Xt,{view:0,detail:0}),tn=Gt(en),nn=m({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Kt=e.screenY-Jt.screenY):Kt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),rn=Gt(nn),an=Gt(m({},nn,{dataTransfer:0})),ln=Gt(m({},en,{relatedTarget:0})),on=Gt(m({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Gt(m({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(m({},Xt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function pn(){return fn}var hn=Gt(m({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(m({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Gt(m({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),bn=Gt(m({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Gt(m({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Gt(m({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=Rt&&"CompositionEvent"in window,Nn=null;Rt&&"documentMode"in document&&(Nn=document.documentMode);var kn=Rt&&"TextEvent"in window&&!Nn,Sn=Rt&&(!jn||Nn&&8<Nn&&11>=Nn),Cn=String.fromCharCode(32),En=!1;function Pn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function _n(e,t,n,r){At?_t?_t.push(r):_t=[r]:At=r,0<(t=Wd(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Ln=null;function On(e){Od(e,0)}function Fn(e){if(mt(He(e)))return e}function Rn(e,t){if("change"===e)return t}var Un=!1;if(Rt){var $n;if(Rt){var In="oninput"in document;if(!In){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),In="function"===typeof Bn.oninput}$n=In}else $n=!1;Un=$n&&(!document.documentMode||9<document.documentMode)}function Hn(){Dn&&(Dn.detachEvent("onpropertychange",Wn),Ln=Dn=null)}function Wn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];_n(t,Ln,e,zt(e)),Ot(On,t)}}function Qn(e,t,n){"focusin"===e?(Hn(),Ln=n,(Dn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Vn(e,t){if("click"===e)return Fn(t)}function Gn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!K.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Rt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,lr=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Kn(lr,r)||(lr=r,0<(r=Wd(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},dr={},ur={};function mr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}Rt&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=mr("animationend"),pr=mr("animationiteration"),hr=mr("animationstart"),gr=mr("transitionrun"),xr=mr("transitionstart"),br=mr("transitioncancel"),yr=mr("transitionend"),vr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){vr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Nr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:it(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:it(t)}}var Sr=[],Cr=0,Er=0;function Pr(){for(var e=Cr,t=Er=Cr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var l=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var o=r.pending;null===o?a.next=a:(a.next=o.next,o.next=a),r.pending=a}0!==l&&Ar(n,a,l)}}function Mr(e,t,n,r){Sr[Cr++]=e,Sr[Cr++]=t,Sr[Cr++]=n,Sr[Cr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Mr(e,t,n,r),_r(e)}function zr(e,t){return Mr(e,null,null,t),_r(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(r=l.alternate)&&(r.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(a=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=l.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),l):null}function _r(e){if(50<Ac)throw Ac=0,_c=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,r,a,l){var s=0;if(r=e,"function"===typeof e)Fr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Or(31,n,t,a)).elementType=E,e.lanes=l,e;case g:return Ir(n.children,a,l,t);case x:s=8,a|=24;break;case b:return(e=Or(12,n,t,2|a)).elementType=b,e.lanes=l,e;case N:return(e=Or(13,n,t,a)).elementType=N,e.lanes=l,e;case k:return(e=Or(19,n,t,a)).elementType=k,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case w:s=10;break e;case v:s=9;break e;case j:s=11;break e;case S:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Or(s,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Ir(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Qr=0,qr=null,Vr=0,Gr=[],Yr=0,Kr=null,Jr=1,Xr="";function Zr(e,t){Wr[Qr++]=Vr,Wr[Qr++]=qr,qr=e,Vr=t}function ea(e,t,n){Gr[Yr++]=Jr,Gr[Yr++]=Xr,Gr[Yr++]=Kr,Kr=e;var r=Jr;e=Xr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var l=32-fe(t)+a;if(30<l){var o=a-a%5;l=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Jr=1<<32-fe(t)+a|n<<a|r,Xr=l+e}else Jr=1<<l|n<<a|r,Xr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===qr;)qr=Wr[--Qr],Wr[Qr]=null,Vr=Wr[--Qr],Wr[Qr]=null;for(;e===Kr;)Kr=Gr[--Yr],Gr[Yr]=null,Xr=Gr[--Yr],Gr[Yr]=null,Jr=Gr[--Yr],Gr[Yr]=null}var ra=null,aa=null,la=!1,oa=null,sa=!1,ia=Error(o(519));function ca(e){throw ha(kr(Error(o(418,"")),e)),ia}function da(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[_e]=r,n){case"dialog":Fd("cancel",t),Fd("close",t);break;case"iframe":case"object":case"embed":Fd("load",t);break;case"video":case"audio":for(n=0;n<Dd.length;n++)Fd(Dd[n],t);break;case"source":Fd("error",t);break;case"img":case"image":case"link":Fd("error",t),Fd("load",t);break;case"details":Fd("toggle",t);break;case"input":Fd("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Fd("invalid",t);break;case"textarea":Fd("invalid",t),wt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Kd(t.textContent,n)?(null!=r.popover&&(Fd("beforetoggle",t),Fd("toggle",t)),null!=r.onScroll&&Fd("scroll",t),null!=r.onScrollEnd&&Fd("scrollend",t),null!=r.onClick&&(t.onclick=Jd),t=!0):t=!1,t||ca(e)}function ua(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(sa=!1);case 27:case 3:return void(sa=!0);default:ra=ra.return}}function ma(e){if(e!==ra)return!1;if(!la)return ua(e),la=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ou(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),ua(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=xu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,fu(e.type)?(e=bu,bu=null,aa=e):aa=n):aa=ra?xu(e.stateNode.nextSibling):null;return!0}function fa(){aa=ra=null,la=!1}function pa(){var e=oa;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),oa=null),e}function ha(e){null===oa?oa=[e]:oa.push(e)}var ga=U(null),xa=null,ba=null;function ya(e,t,n){I(ga,t._currentValue),t._currentValue=n}function va(e){e._currentValue=ga.current,$(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){var s=a.child;l=l.firstContext;e:for(;null!==l;){var i=l;l=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),wa(l.return,n,e),r||(s=null);break e}l=i.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wa(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Na(e,t,n,r){e=null;for(var a=t,l=!1;null!==a;){if(!l)if(0!==(524288&a.flags))l=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var i=a.type;Yn(a.pendingProps.value,s.value)||(null!==e?e.push(i):e=[i])}}else if(a===Q.current){if(null===(s=a.alternate))throw Error(o(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gu):e=[Gu])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){xa=e,ba=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ca(e){return Pa(xa,e)}function Ea(e,t){return null===xa&&Sa(e),Pa(e,t)}function Pa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ba){if(null===e)throw Error(o(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var Ma="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ta=r.unstable_scheduleCallback,za=r.unstable_NormalPriority,Aa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _a(){return{controller:new Ma,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Ta(za,function(){e.controller.abort()})}var La=null,Oa=0,Fa=0,Ra=null;function Ua(){if(0===--Oa&&null!==La){null!==Ra&&(Ra.status="fulfilled");var e=La;La=null,Fa=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $a=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===La){var n=La=[];Oa=0,Fa=Md(),Ra={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oa++,t.then(Ua,Ua)}(0,t),null!==$a&&$a(e,t)};var Ia=U(null);function Ba(){var e=Ia.current;return null!==e?e:rc.pooledCache}function Ha(e,t){I(Ia,null===t?Ia.current:t.pool)}function Wa(){var e=Ba();return null===e?null:{parent:Aa._currentValue,pool:e}}var Qa=Error(o(460)),qa=Error(o(474)),Va=Error(o(542)),Ga={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ka(){}function Ja(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ka,Ka),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ka,Ka);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e}throw Xa=t,Qa}}var Xa=null;function Za(){if(null===Xa)throw Error(o(459));var e=Xa;return Xa=null,e}function el(e){if(e===Qa||e===Va)throw Error(o(483))}var tl=!1;function nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function al(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ll(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=_r(e),Ar(e,null,n),t}return Mr(e,r,t,n),_r(e)}function ol(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function sl(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?a=l=o:l=l.next=o,n=n.next}while(null!==n);null===l?a=l=t:l=l.next=t}else a=l=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var il=!1;function cl(){if(il){if(null!==Ra)throw Ra}}function dl(e,t,n,r){il=!1;var a=e.updateQueue;tl=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var i=s,c=i.next;i.next=null,null===o?l=c:o.next=c,o=i;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=i))}if(null!==l){var u=a.baseState;for(o=0,d=c=i=null,s=l;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(lc&f)===f:(r&f)===f){0!==f&&f===Fa&&(il=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var h=e,g=s;f=t;var x=n;switch(g.tag){case 1:if("function"===typeof(h=g.payload)){u=h.call(x,u,f);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=g.payload)?h.call(x,u,f):h)||void 0===f)break e;u=m({},u,f);break e;case 2:tl=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,i=u):d=d.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===d&&(i=u),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===l&&(a.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=u}}function ul(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ml(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ul(n[e],t)}var fl=U(null),pl=U(0);function hl(e,t){I(pl,e=uc),I(fl,t),uc=e|t.baseLanes}function gl(){I(pl,uc),I(fl,fl.current)}function xl(){uc=pl.current,$(fl),$(pl)}var bl=0,yl=null,vl=null,wl=null,jl=!1,Nl=!1,kl=!1,Sl=0,Cl=0,El=null,Pl=0;function Ml(){throw Error(o(321))}function Tl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function zl(e,t,n,r,a,l){return bl=l,yl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?qo:Vo,kl=!1,l=n(r,a),kl=!1,Nl&&(l=_l(t,n,r,a)),Al(e),l}function Al(e){D.H=Qo;var t=null!==vl&&null!==vl.next;if(bl=0,wl=vl=yl=null,jl=!1,Cl=0,El=null,t)throw Error(o(300));null===e||Es||null!==(e=e.dependencies)&&ka(e)&&(Es=!0)}function _l(e,t,n,r){yl=e;var a=0;do{if(Nl&&(El=null),Cl=0,Nl=!1,25<=a)throw Error(o(301));if(a+=1,wl=vl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}D.H=Go,l=t(n,r)}while(Nl);return l}function Dl(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?$l(t):t,e=e.useState()[0],(null!==vl?vl.memoizedState:null)!==e&&(yl.flags|=1024),t}function Ll(){var e=0!==Sl;return Sl=0,e}function Ol(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fl(e){if(jl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}jl=!1}bl=0,wl=vl=yl=null,Nl=!1,Cl=Sl=0,El=null}function Rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wl?yl.memoizedState=wl=e:wl=wl.next=e,wl}function Ul(){if(null===vl){var e=yl.alternate;e=null!==e?e.memoizedState:null}else e=vl.next;var t=null===wl?yl.memoizedState:wl.next;if(null!==t)wl=t,vl=e;else{if(null===e){if(null===yl.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(vl=e).memoizedState,baseState:vl.baseState,baseQueue:vl.baseQueue,queue:vl.queue,next:null},null===wl?yl.memoizedState=wl=e:wl=wl.next=e}return wl}function $l(e){var t=Cl;return Cl+=1,null===El&&(El=[]),e=Ja(El,e,t),t=yl,null===(null===wl?t.memoizedState:wl.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?qo:Vo),e}function Il(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return $l(e);if(e.$$typeof===w)return Ca(e)}throw Error(o(438,String(e)))}function Bl(e){var t=null,n=yl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=yl.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=P;return t.index++,n}function Hl(e,t){return"function"===typeof t?t(e):t}function Wl(e){return Ql(Ul(),vl,e)}function Ql(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var a=e.baseQueue,l=r.pending;if(null!==l){if(null!==a){var s=a.next;a.next=l.next,l.next=s}t.baseQueue=a=l,r.pending=null}if(l=e.baseState,null===a)e.memoizedState=l;else{var i=s=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(lc&m)===m:(bl&m)===m){var f=d.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Fa&&(u=!0);else{if((bl&f)===f){d=d.next,f===Fa&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=m,s=l):c=c.next=m,yl.lanes|=f,fc|=f}m=d.action,kl&&n(l,m),l=d.hasEagerState?d.eagerState:n(l,m)}else f={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=f,s=l):c=c.next=f,yl.lanes|=m,fc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?s=l:c.next=i,!Yn(l,e.memoizedState)&&(Es=!0,u&&null!==(n=Ra)))throw n;e.memoizedState=l,e.baseState=s,e.baseQueue=c,r.lastRenderedState=l}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ql(e){var t=Ul(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{l=e(l,s.action),s=s.next}while(s!==a);Yn(l,t.memoizedState)||(Es=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Vl(e,t,n){var r=yl,a=Ul(),l=la;if(l){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Yn((vl||a).memoizedState,n);if(s&&(a.memoizedState=n,Es=!0),a=a.queue,xo(2048,8,Kl.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==wl&&1&wl.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yl.bind(null,r,a,n,t),null),null===rc)throw Error(o(349));l||0!==(124&bl)||Gl(r,t,n)}return n}function Gl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yl(e,t,n,r){t.value=n,t.getSnapshot=r,Jl(t)&&Xl(e)}function Kl(e,t,n){return n(function(){Jl(t)&&Xl(e)})}function Jl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Xl(e){var t=zr(e,2);null!==t&&Oc(t,e,2)}function Zl(e){var t=Rl();if("function"===typeof e){var n=e;if(e=n(),kl){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Ql(e,vl,"function"===typeof r?r:Hl)}function to(e,t,n,r,a){if(Bo(e))throw Error(o(485));if(null!==(e=t.action)){var l={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==D.T?n(!0):l.isTransition=!1,r(l),null===(n=t.pending)?(l.next=t.pending=l,no(t,l)):(l.next=n.next,t.pending=n.next=l)}}function no(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var l=D.T,o={};D.T=o;try{var s=n(a,r),i=D.S;null!==i&&i(o,s),ro(e,t,s)}catch(c){lo(e,t,c)}finally{D.T=l}}else try{ro(e,t,l=n(a,r))}catch(d){lo(e,t,d)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ao(e,t,n)},function(n){return lo(e,t,n)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function lo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function io(e,t){if(la){var n=rc.formState;if(null!==n){e:{var r=yl;if(la){if(aa){t:{for(var a=aa,l=sa;8!==a.nodeType;){if(!l){a=null;break t}if(null===(a=xu(a.nextSibling))){a=null;break t}}a="F!"===(l=a.data)||"F"===l?a:null}if(a){aa=xu(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Rl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=r,n=Uo.bind(null,yl,r),r.dispatch=n,r=Zl(!1),l=Io.bind(null,yl,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Rl()).queue=a,n=to.bind(null,yl,a,l,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(Ul(),vl,e)}function uo(e,t,n){if(t=Ql(e,t,so)[0],e=Wl(Hl)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=$l(t)}catch(o){if(o===Qa)throw Va;throw o}else r=t;var a=(t=Ul()).queue,l=a.dispatch;return n!==t.memoizedState&&(yl.flags|=2048,po(9,{destroy:void 0,resource:void 0},mo.bind(null,a,n),null)),[r,l,e]}function mo(e,t){e.action=t}function fo(e){var t=Ul(),n=vl;if(null!==n)return uo(t,n,e);Ul(),t=t.memoizedState;var r=(n=Ul()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=yl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ho(){return Ul().memoizedState}function go(e,t,n,r){var a=Rl();r=void 0===r?null:r,yl.flags|=e,a.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function xo(e,t,n,r){var a=Ul();r=void 0===r?null:r;var l=a.memoizedState.inst;null!==vl&&null!==r&&Tl(r,vl.memoizedState.deps)?a.memoizedState=po(t,l,n,r):(yl.flags|=e,a.memoizedState=po(1|t,l,n,r))}function bo(e,t){go(8390656,8,e,t)}function yo(e,t){xo(2048,8,e,t)}function vo(e,t){return xo(4,2,e,t)}function wo(e,t){return xo(4,4,e,t)}function jo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function No(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,4,jo.bind(null,t,e),n)}function ko(){}function So(e,t){var n=Ul();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Tl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=Ul();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Tl(t,r[1]))return r[0];if(r=e(),kl){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Eo(e,t,n){return void 0===n||0!==(1073741824&bl)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),yl.lanes|=e,fc|=e,n)}function Po(e,t,n,r){return Yn(n,t)?n:null!==fl.current?(e=Eo(e,n,r),Yn(e,t)||(Es=!0),e):0===(42&bl)?(Es=!0,e.memoizedState=n):(e=Lc(),yl.lanes|=e,fc|=e,t)}function Mo(e,t,n,r,a){var l=L.p;L.p=0!==l&&8>l?l:8;var o=D.T,s={};D.T=s,Io(e,!1,t,n);try{var i=a(),c=D.S;if(null!==c&&c(s,i),null!==i&&"object"===typeof i&&"function"===typeof i.then)$o(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(i,r),Dc());else $o(e,t,r,Dc())}catch(d){$o(e,t,{then:function(){},status:"rejected",reason:d},Dc())}finally{L.p=l,D.T=o}}function To(){}function zo(e,t,n,r){if(5!==e.tag)throw Error(o(476));var a=Ao(e).queue;Mo(e,a,t,O,null===n?To:function(){return _o(e),n(r)})}function Ao(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function _o(e){$o(e,Ao(e).next.queue,{},Dc())}function Do(){return Ca(Gu)}function Lo(){return Ul().memoizedState}function Oo(){return Ul().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ll(t,e=al(n),n);return null!==r&&(Oc(r,t,n),ol(r,t,n)),t={cache:_a()},void(e.payload=t)}t=t.return}}function Ro(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)?Ho(t,n):null!==(n=Tr(e,t,n,r))&&(Oc(n,e,r),Wo(n,t,r))}function Uo(e,t,n){$o(e,t,n,Dc())}function $o(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))Ho(t,a);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=l(o,n);if(a.hasEagerState=!0,a.eagerState=s,Yn(s,o))return Mr(e,t,a,0),null===rc&&Pr(),!1}catch(i){}if(null!==(n=Tr(e,t,a,r)))return Oc(n,e,r),Wo(n,t,r),!0}return!1}function Io(e,t,n,r){if(r={lane:2,revertLane:Md(),action:r,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(t)throw Error(o(479))}else null!==(t=Tr(e,n,r,2))&&Oc(t,e,2)}function Bo(e){var t=e.alternate;return e===yl||null!==t&&t===yl}function Ho(e,t){Nl=jl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Qo={readContext:Ca,use:Il,useCallback:Ml,useContext:Ml,useEffect:Ml,useImperativeHandle:Ml,useLayoutEffect:Ml,useInsertionEffect:Ml,useMemo:Ml,useReducer:Ml,useRef:Ml,useState:Ml,useDebugValue:Ml,useDeferredValue:Ml,useTransition:Ml,useSyncExternalStore:Ml,useId:Ml,useHostTransitionStatus:Ml,useFormState:Ml,useActionState:Ml,useOptimistic:Ml,useMemoCache:Ml,useCacheRefresh:Ml},qo={readContext:Ca,use:Il,useCallback:function(e,t){return Rl().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:bo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=Rl();t=void 0===t?null:t;var r=e();if(kl){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Rl();if(void 0!==n){var a=n(t);if(kl){me(!0);try{n(t)}finally{me(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ro.bind(null,yl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Rl().memoizedState=e},useState:function(e){var t=(e=Zl(e)).queue,n=Uo.bind(null,yl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ko,useDeferredValue:function(e,t){return Eo(Rl(),e,t)},useTransition:function(){var e=Zl(!1);return e=Mo.bind(null,yl,e.queue,!0,!1),Rl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=yl,a=Rl();if(la){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&lc)||Gl(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,bo(Kl.bind(null,r,l,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yl.bind(null,r,l,n,t),null),n},useId:function(){var e=Rl(),t=rc.identifierPrefix;if(la){var n=Xr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Sl++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Pl++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:io,useActionState:io,useOptimistic:function(e){var t=Rl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Io.bind(null,yl,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bl,useCacheRefresh:function(){return Rl().memoizedState=Fo.bind(null,yl)}},Vo={readContext:Ca,use:Il,useCallback:So,useContext:Ca,useEffect:yo,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:wo,useMemo:Co,useReducer:Wl,useRef:ho,useState:function(){return Wl(Hl)},useDebugValue:ko,useDeferredValue:function(e,t){return Po(Ul(),vl.memoizedState,e,t)},useTransition:function(){var e=Wl(Hl)[0],t=Ul().memoizedState;return["boolean"===typeof e?e:$l(e),t]},useSyncExternalStore:Vl,useId:Lo,useHostTransitionStatus:Do,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Ul(),0,e,t)},useMemoCache:Bl,useCacheRefresh:Oo},Go={readContext:Ca,use:Il,useCallback:So,useContext:Ca,useEffect:yo,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:wo,useMemo:Co,useReducer:ql,useRef:ho,useState:function(){return ql(Hl)},useDebugValue:ko,useDeferredValue:function(e,t){var n=Ul();return null===vl?Eo(n,e,t):Po(n,vl.memoizedState,e,t)},useTransition:function(){var e=ql(Hl)[0],t=Ul().memoizedState;return["boolean"===typeof e?e:$l(e),t]},useSyncExternalStore:Vl,useId:Lo,useHostTransitionStatus:Do,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Ul();return null!==vl?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bl,useCacheRefresh:Oo},Yo=null,Ko=0;function Jo(e){var t=Ko;return Ko+=1,null===Yo&&(Yo=[]),Ja(Yo,e,t)}function Xo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Rr(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var l=n.type;return l===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===C&&es(l)===t.type)?(Xo(t=a(t,n.props),n),t.return=e,t):(Xo(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,l){return null===t||7!==t.tag?((t=Ir(n,e.mode,r,l)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xo(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Hr(t,e.mode,n)).return=e,t;case C:return m(e,t=(0,t._init)(t._payload),n)}if(_(t)||T(t))return(t=Ir(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,Jo(t),n);if(t.$$typeof===w)return m(e,Ea(e,t),n);Zo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case h:return n.key===a?d(e,t,n,r):null;case C:return f(e,t,n=(a=n._init)(n._payload),r)}if(_(n)||T(n))return null!==a?null:u(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Jo(n),r);if(n.$$typeof===w)return f(e,t,Ea(e,n),r);Zo(e,n)}return null}function x(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case h:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return x(e,t,n,r=(0,r._init)(r._payload),a)}if(_(r)||T(r))return u(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return x(e,t,n,Jo(r),a);if(r.$$typeof===w)return x(e,t,n,Ea(t,r),a);Zo(t,r)}return null}function b(i,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case p:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===g){if(7===c.tag){n(i,c.sibling),(u=a(c,d.props.children)).return=i,i=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&es(y)===c.type){n(i,c.sibling),Xo(u=a(c,d.props),d),u.return=i,i=u;break e}n(i,c);break}t(i,c),c=c.sibling}d.type===g?((u=Ir(d.props.children,i.mode,u,d.key)).return=i,i=u):(Xo(u=$r(d.type,d.key,d.props,null,i.mode,u),d),u.return=i,i=u)}return s(i);case h:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(i,c.sibling),(u=a(c,d.children||[])).return=i,i=u;break e}n(i,c);break}t(i,c),c=c.sibling}(u=Hr(d,i.mode,u)).return=i,i=u}return s(i);case C:return b(i,c,d=(y=d._init)(d._payload),u)}if(_(d))return function(a,o,s,i){for(var c=null,d=null,u=o,p=o=0,h=null;null!==u&&p<s.length;p++){u.index>p?(h=u,u=null):h=u.sibling;var g=f(a,u,s[p],i);if(null===g){null===u&&(u=h);break}e&&u&&null===g.alternate&&t(a,u),o=l(g,o,p),null===d?c=g:d.sibling=g,d=g,u=h}if(p===s.length)return n(a,u),la&&Zr(a,p),c;if(null===u){for(;p<s.length;p++)null!==(u=m(a,s[p],i))&&(o=l(u,o,p),null===d?c=u:d.sibling=u,d=u);return la&&Zr(a,p),c}for(u=r(u);p<s.length;p++)null!==(h=x(u,a,p,s[p],i))&&(e&&null!==h.alternate&&u.delete(null===h.key?p:h.key),o=l(h,o,p),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach(function(e){return t(a,e)}),la&&Zr(a,p),c}(i,c,d,u);if(T(d)){if("function"!==typeof(y=T(d)))throw Error(o(150));return function(a,s,i,c){if(null==i)throw Error(o(151));for(var d=null,u=null,p=s,h=s=0,g=null,b=i.next();null!==p&&!b.done;h++,b=i.next()){p.index>h?(g=p,p=null):g=p.sibling;var y=f(a,p,b.value,c);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(a,p),s=l(y,s,h),null===u?d=y:u.sibling=y,u=y,p=g}if(b.done)return n(a,p),la&&Zr(a,h),d;if(null===p){for(;!b.done;h++,b=i.next())null!==(b=m(a,b.value,c))&&(s=l(b,s,h),null===u?d=b:u.sibling=b,u=b);return la&&Zr(a,h),d}for(p=r(p);!b.done;h++,b=i.next())null!==(b=x(p,a,h,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?h:b.key),s=l(b,s,h),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach(function(e){return t(a,e)}),la&&Zr(a,h),d}(i,c,d=y.call(d),u)}if("function"===typeof d.then)return b(i,c,Jo(d),u);if(d.$$typeof===w)return b(i,c,Ea(i,d),u);Zo(i,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(i,c.sibling),(u=a(c,d)).return=i,i=u):(n(i,c),(u=Br(d,i.mode,u)).return=i,i=u),s(i)):n(i,c)}return function(e,t,n,r){try{Ko=0;var a=b(e,t,n,r);return Yo=null,a}catch(o){if(o===Qa||o===Va)throw o;var l=Or(29,o,null,e.mode);return l.lanes=r,l.return=e,l}}}var ns=ts(!0),rs=ts(!1),as=U(null),ls=null;function os(e){var t=e.alternate;I(ds,1&ds.current),I(as,e),null===ls&&(null===t||null!==fl.current||null!==t.memoizedState)&&(ls=e)}function ss(e){if(22===e.tag){if(I(ds,ds.current),I(as,e),null===ls){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ls=e)}}else is()}function is(){I(ds,ds.current),I(as,as.current)}function cs(e){$(as),ls===e&&(ls=null),$(ds)}var ds=U(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ms(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=al(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ll(e,a,r))&&(Oc(t,e,r),ol(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=al(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ll(e,a,r))&&(Oc(t,e,r),ol(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=al(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ll(e,r,n))&&(Oc(t,e,n),ol(t,e,n))}};function ps(e,t,n,r,a,l,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,o):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,r)||!Kn(a,l))}function hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=m({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var xs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bs(e){xs(e)}function ys(e){console.error(e)}function vs(e){xs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function js(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ns(e,t,n){return(n=al(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function ks(e){return(e=al(e)).tag=3,e}function Ss(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var l=r.value;e.payload=function(){return a(l)},e.callback=function(){js(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){js(t,n,r),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Cs=Error(o(461)),Es=!1;function Ps(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ms(e,t,n,r,a){n=n.render;var l=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Sa(t),r=zl(e,t,n,o,l,a),s=Ll(),null===e||Es?(la&&s&&ta(t),t.flags|=1,Ps(e,t,r,a),t.child):(Ol(e,t,a),Ys(e,t,a))}function Ts(e,t,n,r,a){if(null===e){var l=n.type;return"function"!==typeof l||Fr(l)||void 0!==l.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,zs(e,t,l,r,a))}if(l=e.child,!Ks(e,a)){var o=l.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(o,r)&&e.ref===t.ref)return Ys(e,t,a)}return t.flags|=1,(e=Rr(l,r)).ref=t.ref,e.return=t,t.child=e}function zs(e,t,n,r,a){if(null!==e){var l=e.memoizedProps;if(Kn(l,r)&&e.ref===t.ref){if(Es=!1,t.pendingProps=r=l,!Ks(e,a))return t.lanes=e.lanes,Ys(e,t,a);0!==(131072&e.flags)&&(Es=!0)}}return Ls(e,t,n,r,a)}function As(e,t,n){var r=t.pendingProps,a=r.children,l=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==l?l.baseLanes|n:n,null!==e){for(a=t.child=e.child,l=0;null!==a;)l=l|a.lanes|a.childLanes,a=a.sibling;t.childLanes=l&~r}else t.childLanes=0,t.child=null;return _s(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,_s(e,t,null!==l?l.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==l?l.cachePool:null),null!==l?hl(t,l):gl(),ss(t)}else null!==l?(Ha(0,l.cachePool),hl(t,l),is(),t.memoizedState=null):(null!==e&&Ha(0,null),gl(),is());return Ps(e,t,a,n),t.child}function _s(e,t,n,r){var a=Ba();return a=null===a?null:{parent:Aa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ha(0,null),gl(),ss(t),null!==e&&Na(e,t,r,!0),null}function Ds(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ls(e,t,n,r,a){return Sa(t),n=zl(e,t,n,r,void 0,a),r=Ll(),null===e||Es?(la&&r&&ta(t),t.flags|=1,Ps(e,t,n,a),t.child):(Ol(e,t,a),Ys(e,t,a))}function Os(e,t,n,r,a,l){return Sa(t),t.updateQueue=null,n=_l(t,r,n,a),Al(e),r=Ll(),null===e||Es?(la&&r&&ta(t),t.flags|=1,Ps(e,t,n,l),t.child):(Ol(e,t,l),Ys(e,t,l))}function Fs(e,t,n,r,a){if(Sa(t),null===t.stateNode){var l=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(l=Ca(o)),l=new n(r,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=fs,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=r,l.state=t.memoizedState,l.refs={},nl(t),o=n.contextType,l.context="object"===typeof o&&null!==o?Ca(o):Dr,l.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ms(t,n,o,r),l.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(o=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),o!==l.state&&fs.enqueueReplaceState(l,l.state,null),dl(t,r,l,a),cl(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){l=t.stateNode;var s=t.memoizedProps,i=gs(n,s);l.props=i;var c=l.context,d=n.contextType;o=Dr,"object"===typeof d&&null!==d&&(o=Ca(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof l.getSnapshotBeforeUpdate,s=t.pendingProps!==s,d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s||c!==o)&&hs(t,l,r,o),tl=!1;var m=t.memoizedState;l.state=m,dl(t,r,l,a),cl(),c=t.memoizedState,s||m!==c||tl?("function"===typeof u&&(ms(t,n,u,r),c=t.memoizedState),(i=tl||ps(t,n,i,r,m,c,o))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=o,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,rl(e,t),d=gs(n,o=t.memoizedProps),l.props=d,u=t.pendingProps,m=l.context,c=n.contextType,i=Dr,"object"===typeof c&&null!==c&&(i=Ca(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==u||m!==i)&&hs(t,l,r,i),tl=!1,m=t.memoizedState,l.state=m,dl(t,r,l,a),cl();var f=t.memoizedState;o!==u||m!==f||tl||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof s&&(ms(t,n,s,r),f=t.memoizedState),(d=tl||ps(t,n,d,r,m,f,i)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,f,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,f,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=i,r=d):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return l=r,Ds(e,t),r=0!==(128&t.flags),l||r?(l=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,a),t.child=ns(t,null,n,a)):Ps(e,t,n,a),t.memoizedState=l.state,e=t.child):e=Ys(e,t,a),e}function Rs(e,t,n,r){return fa(),t.flags|=256,Ps(e,t,n,r),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(e){return{baseLanes:e,cachePool:Wa()}}function Is(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bs(e,t,n){var r,a=t.pendingProps,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ds.current)),r&&(l=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(la){if(l?os(t):is(),la){var i,c=aa;if(i=c){e:{for(i=c,c=sa;8!==i.nodeType;){if(!c){c=null;break e}if(null===(i=xu(i.nextSibling))){c=null;break e}}c=i}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Kr?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(i=Or(18,null,null,0)).stateNode=c,i.return=t,t.child=i,ra=t,aa=null,i=!0):i=!1}i||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=a.children,a=a.fallback,l?(is(),c=Ws({mode:"hidden",children:c},l=t.mode),a=Ir(a,l,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(l=t.child).memoizedState=$s(n),l.childLanes=Is(e,r,n),t.memoizedState=Us,a):(os(t),Hs(t,c))}if(null!==(i=e.memoizedState)&&null!==(c=i.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Qs(e,t,n)):null!==t.memoizedState?(is(),t.child=e.child,t.flags|=128,t=null):(is(),l=a.fallback,c=t.mode,a=Ws({mode:"visible",children:a.children},c),(l=Ir(l,c,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ns(t,e.child,null,n),(a=t.child).memoizedState=$s(n),a.childLanes=Is(e,r,n),t.memoizedState=Us,t=l);else if(os(t),gu(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(o(419))).stack="",a.digest=r,ha({value:a,source:null,stack:null}),t=Qs(e,t,n)}else if(Es||Na(e,t,n,!1),r=0!==(n&e.childLanes),Es||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Pe(a))&(r.suspendedLanes|n))?0:a)&&a!==i.retryLane))throw i.retryLane=a,zr(e,a),Oc(r,e,a),Cs;"$?"===c.data||Vc(),t=Qs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=i.treeContext,aa=xu(c.nextSibling),ra=t,la=!0,oa=null,sa=!1,null!==e&&(Gr[Yr++]=Jr,Gr[Yr++]=Xr,Gr[Yr++]=Kr,Jr=e.id,Xr=e.overflow,Kr=t),(t=Hs(t,a.children)).flags|=4096);return t}return l?(is(),l=a.fallback,c=t.mode,d=(i=e.child).sibling,(a=Rr(i,{mode:"hidden",children:a.children})).subtreeFlags=65011712&i.subtreeFlags,null!==d?l=Rr(d,l):(l=Ir(l,c,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,null===(c=e.child.memoizedState)?c=$s(n):(null!==(i=c.cachePool)?(d=Aa._currentValue,i=i.parent!==d?{parent:d,pool:d}:i):i=Wa(),c={baseLanes:c.baseLanes|n,cachePool:i}),l.memoizedState=c,l.childLanes=Is(e,r,n),t.memoizedState=Us,a):(os(t),e=(n=e.child).sibling,(n=Rr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hs(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qs(e,t,n){return ns(t,e.child,null,n),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Vs(e,t,n,r,a){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function Gs(e,t,n){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(Ps(e,t,r.children,n),0!==(2&(r=ds.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(I(ds,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vs(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===us(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vs(t,!0,n,null,l);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Na(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Es=!0;else{if(!Ks(e,n)&&0===(128&t.flags))return Es=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),ya(0,Aa,e.memoizedState.cache),fa();break;case 27:case 5:G(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:ya(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(os(t),null!==(e=Ys(e,t,n))?e.sibling:null);os(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Na(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),I(ds,ds.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n);case 24:ya(0,Aa,e.memoizedState.cache)}return Ys(e,t,n)}(e,t,n);Es=0!==(131072&e.flags)}else Es=!1,la&&0!==(1048576&t.flags)&&ea(t,Vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=Ms(null,t,r,e,n);break e}if(a===S){t.tag=14,t=Ts(null,t,r,e,n);break e}}throw t=A(r)||r,Error(o(306,t,""))}Fr(r)?(e=gs(r,e),t.tag=1,t=Fs(null,t,r,e,n)):(t.tag=0,t=Ls(null,t,r,e,n))}return t;case 0:return Ls(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,r=t.type,a=gs(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var l=t.memoizedState;a=l.element,rl(e,t),dl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ya(0,Aa,r),r!==l.cache&&ja(t,[Aa],n,!0),cl(),r=s.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Rs(e,t,r,n);break e}if(r!==a){ha(a=kr(Error(o(424)),t)),t=Rs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=xu(e.firstChild),ra=t,la=!0,oa=null,sa=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Ys(e,t,n);break e}Ps(e,t,r,n)}t=t.child}return t;case 26:return Ds(e,t),null===e?(n=Pu(t.type,null,t.pendingProps,null))?t.memoizedState=n:la||(n=t.type,e=t.pendingProps,(r=ru(W.current).createElement(n))[Ae]=t,r[_e]=e,eu(r,n,e),Qe(r),t.stateNode=r):t.memoizedState=Pu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&la&&(r=t.stateNode=vu(t.type,t.pendingProps,W.current),ra=t,sa=!0,a=aa,fu(t.type)?(bu=a,aa=xu(r.firstChild)):aa=a),Ps(e,t,t.pendingProps.children,n),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&la&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===l)return e}if(null===(e=xu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,sa))?(t.stateNode=r,ra=t,aa=xu(r.firstChild),sa=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,l=t.pendingProps,s=null!==e?e.memoizedProps:null,r=l.children,ou(a,l)?r=null:null!==s&&ou(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=zl(e,t,Dl,null,null,n),Gu._currentValue=a),Ds(e,t),Ps(e,t,r,n),t.child;case 6:return null===e&&la&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xu(e.nextSibling)))return null}return e}(n,t.pendingProps,sa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Bs(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Ps(e,t,r,n),t.child;case 11:return Ms(e,t,t.type,t.pendingProps,n);case 7:return Ps(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ps(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ya(0,t.type,r.value),Ps(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Sa(t),r=r(a=Ca(a)),t.flags|=1,Ps(e,t,r,n),t.child;case 14:return Ts(e,t,t.type,t.pendingProps,n);case 15:return zs(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ws(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Rr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return As(e,t,n);case 24:return Sa(t),r=Ca(Aa),null===e?(null===(a=Ba())&&(a=rc,l=_a(),a.pooledCache=l,l.refCount++,null!==l&&(a.pooledCacheLanes|=n),a=l),t.memoizedState={parent:r,cache:a},nl(t),ya(0,Aa,a)):(0!==(e.lanes&n)&&(rl(e,t),dl(t,null,null,n),cl()),a=e.memoizedState,l=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ya(0,Aa,r)):(r=l.cache,ya(0,Aa,r),r!==a.cache&&ja(t,[Aa],n,!0))),Ps(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xs(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Iu(t)){if(null!==(t=as.current)&&((4194048&lc)===lc?null!==ls:(62914560&lc)!==lc&&0===(536870912&lc)||t!==ls))throw Xa=Ga,qa;e.flags|=8192}}function ei(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,xc|=t)}function ti(e,t){if(!la)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ni(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ri(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ni(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),va(Aa),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ma(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),ni(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(ni(t),Zs(t,n)):(ni(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),ni(t),Zs(t,n)):(ni(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xs(t),ni(t),t.flags&=-16777217),null;case 27:Y(t),n=W.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ni(t),null}e=B.current,ma(t)?da(t):(e=vu(a,r,n),t.stateNode=e,Xs(t))}return ni(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ni(t),null}if(e=B.current,ma(t))da(t);else{switch(a=ru(W.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ae]=t,e[_e]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(eu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return ni(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=W.current,ma(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Kd(e.nodeValue,n)))||ca(t)}else(e=ru(e).createTextNode(r))[Ae]=t,t.stateNode=e}return ni(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ma(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[Ae]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ni(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var l=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ei(t,t.updateQueue),ni(t),null;case 4:return V(),null===e&&$d(t.stateNode.containerInfo),ni(t),null;case 10:return va(t.type),ni(t),null;case 19:if($(ds),null===(a=t.memoizedState))return ni(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)ti(a,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,ti(a,!1),e=l.updateQueue,t.updateQueue=e,ei(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return I(ds,1&ds.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,r=!0,ti(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ei(t,e),ti(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!la)return ni(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,ti(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=a.last)?e.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=ds.current,I(ds,r?1&e|2:1&e),t):(ni(t),null);case 22:case 23:return cs(t),xl(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ni(t),6&t.subtreeFlags&&(t.flags|=8192)):ni(t),null!==(n=t.updateQueue)&&ei(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&$(Ia),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),va(Aa),ni(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ai(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return va(Aa),V(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(ds),null;case 4:return V(),null;case 10:return va(t.type),null;case 22:case 23:return cs(t),xl(),null!==e&&$(Ia),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return va(Aa),null;default:return null}}function li(e,t){switch(na(t),t.tag){case 3:va(Aa),V();break;case 26:case 27:case 5:Y(t);break;case 4:V();break;case 13:cs(t);break;case 19:$(ds);break;case 10:va(t.type);break;case 22:case 23:cs(t),xl(),null!==e&&$(Ia);break;case 24:va(Aa)}}function oi(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var l=n.create,o=n.inst;r=l(),o.destroy=r}n=n.next}while(n!==a)}}catch(s){dd(t,t.return,s)}}function si(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var l=a.next;r=l;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,a=t;var i=n,c=s;try{c()}catch(d){dd(a,i,d)}}}r=r.next}while(r!==l)}}catch(d){dd(t,t.return,d)}}function ii(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ml(t,n)}catch(r){dd(e,e.return,r)}}}function ci(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){dd(e,t,r)}}function di(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){dd(e,t,a)}}function ui(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){dd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(l){dd(e,t,l)}else n.current=null}function mi(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){dd(e,e.return,a)}}function fi(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,l=null,s=null,i=null,c=null,d=null,u=null;for(p in n){var m=n[p];if(n.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:r.hasOwnProperty(p)||Xd(e,t,p,null,r,m)}}for(var f in r){var p=r[f];if(m=n[f],r.hasOwnProperty(f)&&(null!=p||null!=m))switch(f){case"type":l=p;break;case"name":a=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":s=p;break;case"defaultValue":i=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==m&&Xd(e,t,f,p,r,m)}}return void gt(e,s,i,c,d,u,l,a);case"select":for(l in p=s=i=f=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(l)||Xd(e,t,l,null,r,c)}for(a in r)if(l=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=l||null!=c))switch(a){case"value":f=l;break;case"defaultValue":i=l;break;case"multiple":s=l;default:l!==c&&Xd(e,t,a,l,r,c)}return t=i,n=s,r=p,void(null!=f?yt(e,!!n,f,!1):!!r!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(i in p=f=null,n)if(a=n[i],n.hasOwnProperty(i)&&null!=a&&!r.hasOwnProperty(i))switch(i){case"value":case"children":break;default:Xd(e,t,i,null,r,a)}for(s in r)if(a=r[s],l=n[s],r.hasOwnProperty(s)&&(null!=a||null!=l))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==l&&Xd(e,t,s,a,r,l)}return void vt(e,f,p);case"option":for(var h in n)if(f=n[h],n.hasOwnProperty(h)&&null!=f&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Xd(e,t,h,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xd(e,t,g,null,r,f);for(d in r)if(f=r[d],p=n[d],r.hasOwnProperty(d)&&f!==p&&(null!=f||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Xd(e,t,d,f,r,p)}return;default:if(Ct(t)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&void 0!==f&&!r.hasOwnProperty(x)&&Zd(e,t,x,void 0,r,f);for(u in r)f=r[u],p=n[u],!r.hasOwnProperty(u)||f===p||void 0===f&&void 0===p||Zd(e,t,u,f,r,p);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!r.hasOwnProperty(b)&&Xd(e,t,b,null,r,f);for(m in r)f=r[m],p=n[m],!r.hasOwnProperty(m)||f===p||null==f&&null==p||Xd(e,t,m,f,r,p)}(r,e.type,n,t),r[_e]=t}catch(a){dd(e,e.return,a)}}function pi(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fu(e.type)||4===e.tag}function hi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jd));else if(4!==r&&(27===r&&fu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gi(e,t,n),e=e.sibling;null!==e;)gi(e,t,n),e=e.sibling}function xi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xi(e,t,n),e=e.sibling;null!==e;)xi(e,t,n),e=e.sibling}function bi(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);eu(t,r,n),t[Ae]=e,t[_e]=n}catch(l){dd(e,e.return,l)}}var yi=!1,vi=!1,wi=!1,ji="function"===typeof WeakSet?WeakSet:Set,Ni=null;function ki(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fi(e,n),4&r&&oi(5,n);break;case 1:if(Fi(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){dd(n,n.return,o)}else{var a=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){dd(n,n.return,s)}}64&r&&ii(n),512&r&&di(n,n.return);break;case 3:if(Fi(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ml(e,t)}catch(o){dd(n,n.return,o)}}break;case 27:null===t&&4&r&&bi(n);case 26:case 5:Fi(e,n),null===t&&4&r&&mi(n),512&r&&di(n,n.return);break;case 12:Fi(e,n);break;case 13:Fi(e,n),4&r&&Ti(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pd.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||yi)){t=null!==t&&null!==t.memoizedState||vi,a=yi;var l=vi;yi=r,(vi=t)&&!l?Ui(e,n,0!==(8772&n.subtreeFlags)):Fi(e,n),yi=a,vi=l}break;case 30:break;default:Fi(e,n)}}function Si(e){var t=e.alternate;null!==t&&(e.alternate=null,Si(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ci=null,Ei=!1;function Pi(e,t,n){for(n=n.child;null!==n;)Mi(e,t,n),n=n.sibling}function Mi(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(l){}switch(n.tag){case 26:vi||ui(n,t),Pi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vi||ui(n,t);var r=Ci,a=Ei;fu(n.type)&&(Ci=n.stateNode,Ei=!1),Pi(e,t,n),wu(n.stateNode),Ci=r,Ei=a;break;case 5:vi||ui(n,t);case 6:if(r=Ci,a=Ei,Ci=null,Pi(e,t,n),Ei=a,null!==(Ci=r))if(Ei)try{(9===Ci.nodeType?Ci.body:"HTML"===Ci.nodeName?Ci.ownerDocument.body:Ci).removeChild(n.stateNode)}catch(o){dd(n,t,o)}else try{Ci.removeChild(n.stateNode)}catch(o){dd(n,t,o)}break;case 18:null!==Ci&&(Ei?(pu(9===(e=Ci).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Em(e)):pu(Ci,n.stateNode));break;case 4:r=Ci,a=Ei,Ci=n.stateNode.containerInfo,Ei=!0,Pi(e,t,n),Ci=r,Ei=a;break;case 0:case 11:case 14:case 15:vi||si(2,n,t),vi||si(4,n,t),Pi(e,t,n);break;case 1:vi||(ui(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ci(n,t,r)),Pi(e,t,n);break;case 21:Pi(e,t,n);break;case 22:vi=(r=vi)||null!==n.memoizedState,Pi(e,t,n),vi=r;break;default:Pi(e,t,n)}}function Ti(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Em(e)}catch(n){dd(t,t.return,n)}}function zi(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ji),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ji),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=hd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ai(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],l=e,s=t,i=s;e:for(;null!==i;){switch(i.tag){case 27:if(fu(i.type)){Ci=i.stateNode,Ei=!1;break e}break;case 5:Ci=i.stateNode,Ei=!1;break e;case 3:case 4:Ci=i.stateNode.containerInfo,Ei=!0;break e}i=i.return}if(null===Ci)throw Error(o(160));Mi(l,s,a),Ci=null,Ei=!1,null!==(l=a.alternate)&&(l.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Di(t,e),t=t.sibling}var _i=null;function Di(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ai(t,e),Li(e),4&r&&(si(3,e,e.return),oi(3,e),si(5,e,e.return));break;case 1:Ai(t,e),Li(e),512&r&&(vi||null===n||ui(n,n.return)),64&r&&yi&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=_i;if(Ai(t,e),Li(e),512&r&&(vi||null===n||ui(n,n.return)),4&r){var l=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(l=a.getElementsByTagName("title")[0])||l[Ue]||l[Ae]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=a.createElement(r),a.head.insertBefore(l,a.querySelector("head > title"))),eu(l,r,n),l[Ae]=e,Qe(l),r=l;break e;case"link":var s=Uu("link","href",a).get(r+(n.href||""));if(s)for(var i=0;i<s.length;i++)if((l=s[i]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(i,1);break t}eu(l=a.createElement(r),r,n),a.head.appendChild(l);break;case"meta":if(s=Uu("meta","content",a).get(r+(n.content||"")))for(i=0;i<s.length;i++)if((l=s[i]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(i,1);break t}eu(l=a.createElement(r),r,n),a.head.appendChild(l);break;default:throw Error(o(468,r))}l[Ae]=e,Qe(l),r=l}e.stateNode=r}else $u(a,e.type,e.stateNode);else e.stateNode=Du(a,r,e.memoizedProps);else l!==r?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===r?$u(a,e.type,e.stateNode):Du(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fi(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ai(t,e),Li(e),512&r&&(vi||null===n||ui(n,n.return)),null!==n&&4&r&&fi(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ai(t,e),Li(e),512&r&&(vi||null===n||ui(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(p){dd(e,e.return,p)}}4&r&&null!=e.stateNode&&fi(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wi=!0);break;case 6:if(Ai(t,e),Li(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){dd(e,e.return,p)}}break;case 3:if(Ru=null,a=_i,_i=ku(t.containerInfo),Ai(t,e),_i=a,Li(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Em(t.containerInfo)}catch(p){dd(e,e.return,p)}wi&&(wi=!1,Oi(e));break;case 4:r=_i,_i=ku(e.stateNode.containerInfo),Ai(t,e),Li(e),_i=r;break;case 12:default:Ai(t,e),Li(e);break;case 13:Ai(t,e),Li(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,zi(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=yi,u=vi;if(yi=d||a,vi=u||c,Ai(t,e),vi=u,yi=d,Li(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||yi||vi||Ri(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,a)"function"===typeof(s=l.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{i=c.stateNode;var m=c.memoizedProps.style,f=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;i.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){dd(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){dd(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,zi(e,n))));break;case 19:Ai(t,e),Li(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,zi(e,r)));case 30:case 21:}}function Li(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pi(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode;xi(e,hi(e),a);break;case 5:var l=n.stateNode;32&n.flags&&(jt(l,""),n.flags&=-33),xi(e,hi(e),l);break;case 3:case 4:var s=n.stateNode.containerInfo;gi(e,hi(e),s);break;default:throw Error(o(161))}}catch(i){dd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Oi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Oi(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fi(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ki(e,t.alternate,t),t=t.sibling}function Ri(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:si(4,t,t.return),Ri(t);break;case 1:ui(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ci(t,t.return,n),Ri(t);break;case 27:wu(t.stateNode);case 26:case 5:ui(t,t.return),Ri(t);break;case 22:null===t.memoizedState&&Ri(t);break;default:Ri(t)}e=e.sibling}}function Ui(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,l=t,o=l.flags;switch(l.tag){case 0:case 11:case 15:Ui(a,l,n),oi(4,l);break;case 1:if(Ui(a,l,n),"function"===typeof(a=(r=l).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){dd(r,r.return,c)}if(null!==(a=(r=l).updateQueue)){var s=r.stateNode;try{var i=a.shared.hiddenCallbacks;if(null!==i)for(a.shared.hiddenCallbacks=null,a=0;a<i.length;a++)ul(i[a],s)}catch(c){dd(r,r.return,c)}}n&&64&o&&ii(l),di(l,l.return);break;case 27:bi(l);case 26:case 5:Ui(a,l,n),n&&null===r&&4&o&&mi(l),di(l,l.return);break;case 12:Ui(a,l,n);break;case 13:Ui(a,l,n),n&&4&o&&Ti(a,l);break;case 22:null===l.memoizedState&&Ui(a,l,n),di(l,l.return);break;case 30:break;default:Ui(a,l,n)}t=t.sibling}}function $i(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Da(n))}function Ii(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Bi(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hi(e,t,n,r),t=t.sibling}function Hi(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Bi(e,t,n,r),2048&a&&oi(9,t);break;case 1:case 13:default:Bi(e,t,n,r);break;case 3:Bi(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Bi(e,t,n,r),e=t.stateNode;try{var l=t.memoizedProps,o=l.id,s=l.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){dd(t,t.return,i)}}else Bi(e,t,n,r);break;case 23:break;case 22:l=t.stateNode,o=t.alternate,null!==t.memoizedState?2&l._visibility?Bi(e,t,n,r):Qi(e,t):2&l._visibility?Bi(e,t,n,r):(l._visibility|=2,Wi(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&$i(o,t);break;case 24:Bi(e,t,n,r),2048&a&&Ii(t.alternate,t)}}function Wi(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var l=e,o=t,s=n,i=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(l,o,s,i,a),oi(8,o);break;case 23:break;case 22:var d=o.stateNode;null!==o.memoizedState?2&d._visibility?Wi(l,o,s,i,a):Qi(l,o):(d._visibility|=2,Wi(l,o,s,i,a)),a&&2048&c&&$i(o.alternate,o);break;case 24:Wi(l,o,s,i,a),a&&2048&c&&Ii(o.alternate,o);break;default:Wi(l,o,s,i,a)}t=t.sibling}}function Qi(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Qi(n,r),2048&a&&$i(r.alternate,r);break;case 24:Qi(n,r),2048&a&&Ii(r.alternate,r);break;default:Qi(n,r)}t=t.sibling}}var qi=8192;function Vi(e){if(e.subtreeFlags&qi)for(e=e.child;null!==e;)Gi(e),e=e.sibling}function Gi(e){switch(e.tag){case 26:Vi(e),e.flags&qi&&null!==e.memoizedState&&function(e,t,n){if(null===Bu)throw Error(o(475));var r=Bu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Mu(n.href),l=e.querySelector(Tu(a));if(l)return null!==(e=l._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=l,void Qe(l);l=e.ownerDocument||e,n=zu(n),(a=ju.get(a))&&Ou(n,a),Qe(l=l.createElement("link"));var s=l;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eu(l,"link",n),t.instance=l}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(_i,e.memoizedState,e.memoizedProps);break;case 5:default:Vi(e);break;case 3:case 4:var t=_i;_i=ku(e.stateNode.containerInfo),Vi(e),_i=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=qi,qi=16777216,Vi(e),qi=t):Vi(e))}}function Yi(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ki(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ni=r,Zi(r,e)}Yi(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ji(e),e=e.sibling}function Ji(e){switch(e.tag){case 0:case 11:case 15:Ki(e),2048&e.flags&&si(9,e,e.return);break;case 3:case 12:default:Ki(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xi(e)):Ki(e)}}function Xi(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ni=r,Zi(r,e)}Yi(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:si(8,t,t.return),Xi(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xi(t));break;default:Xi(t)}e=e.sibling}}function Zi(e,t){for(;null!==Ni;){var n=Ni;switch(n.tag){case 0:case 11:case 15:si(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ni=r;else e:for(n=e;null!==Ni;){var a=(r=Ni).sibling,l=r.return;if(Si(r),r===n){Ni=null;break e}if(null!==a){a.return=l,Ni=a;break e}Ni=l}}}var ec={getCacheForType:function(e){var t=Ca(Aa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,lc=0,oc=0,sc=null,ic=!1,cc=!1,dc=!1,uc=0,mc=0,fc=0,pc=0,hc=0,gc=0,xc=0,bc=null,yc=null,vc=!1,wc=0,jc=1/0,Nc=null,kc=null,Sc=0,Cc=null,Ec=null,Pc=0,Mc=0,Tc=null,zc=null,Ac=0,_c=null;function Dc(){if(0!==(2&nc)&&0!==lc)return lc&-lc;if(null!==D.T){return 0!==Fa?Fa:Md()}return Te()}function Lc(){0===gc&&(gc=0===(536870912&lc)||la?je():536870912);var e=as.current;return null!==e&&(e.flags|=32),gc}function Oc(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),$c(e,lc,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===mc&&$c(e,lc,gc,!1)),jd(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Qc(),a=qc();rc!==e||lc!==t?(Nc=null,jc=te()+500,Hc(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==oc&&null!==ac){t=ac;var l=sc;t:switch(oc){case 1:oc=0,sc=null,Zc(e,t,l,1);break;case 2:case 9:if(Ya(l)){oc=0,sc=null,Xc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),jd(e)},l.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ya(l)?(oc=0,sc=null,Xc(t)):(oc=0,sc=null,Zc(e,t,l,7));break;case 5:var s=null;switch(ac.tag){case 26:s=ac.memoizedState;case 5:case 27:var i=ac;if(!s||Iu(s)){oc=0,sc=null;var c=i.sibling;if(null!==c)ac=c;else{var d=i.return;null!==d?(ac=d,ed(d)):ac=null}break t}}oc=0,sc=null,Zc(e,t,l,5);break;case 6:oc=0,sc=null,Zc(e,t,l,6);break;case 8:Bc(),mc=6;break e;default:throw Error(o(462))}}Kc();break}catch(u){Wc(e,u)}return ba=xa=null,D.H=r,D.A=a,nc=n,null!==ac?0:(rc=null,lc=0,Pr(),mc)}(e,t):Gc(e,t,!0),l=r;;){if(0===a){cc&&!r&&$c(e,t,0,!1);break}if(n=e.current.alternate,!l||Uc(n)){if(2===a){if(l=t,e.errorRecoveryDisabledLanes&l)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var i=e;a=bc;var c=i.current.memoizedState.isDehydrated;if(c&&(Hc(i,s).flags|=256),2!==(s=Gc(i,s,!1))){if(dc&&!c){i.errorRecoveryDisabledLanes|=l,pc|=l,a=4;break e}l=yc,yc=a,null!==l&&(null===yc?yc=l:yc.push.apply(yc,l))}a=s}if(l=!1,2!==a)continue}}if(1===a){Hc(e,0),$c(e,t,0,!0);break}e:{switch(r=e,l=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:$c(r,t,gc,!ic);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if($c(r,t,gc,!ic),0!==ye(r,0,!0))break e;r.timeoutHandle=iu(Rc.bind(null,r,n,yc,Nc,vc,t,gc,pc,xc,ic,l,2,-0,0),a)}else Rc(r,n,yc,Nc,vc,t,gc,pc,xc,ic,l,0,-0,0)}break}a=Gc(e,t,!1),l=!1}jd(e)}function Rc(e,t,n,r,a,l,s,i,c,d,u,m,f,p){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||16785408===(16785408&m))&&(Bu={stylesheets:null,count:0,unsuspend:Hu},Gi(t),null!==(m=function(){if(null===Bu)throw Error(o(475));var e=Bu;return e.stylesheets&&0===e.count&&qu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=m(nd.bind(null,e,t,l,n,r,a,s,i,c,u,1,f,p)),void $c(e,l,s,!d);nd(e,t,l,n,r,a,s,i,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!Yn(l(),a))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~hc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var l=31-fe(a),o=1<<l;r[l]=-1,a&=~o}0!==n&&Ce(e,n,t)}function Ic(){return 0!==(6&nc)||(Nd(0,!1),!1)}function Bc(){if(null!==ac){if(0===oc)var e=ac.return;else ba=xa=null,Fl(e=ac),Yo=null,Ko=0,e=ac;for(;null!==e;)li(e.alternate,e),e=e.return;ac=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ac=n=Rr(e.current,null),lc=t,oc=0,sc=null,ic=!1,cc=ve(e,t),dc=!1,xc=gc=hc=pc=fc=mc=0,yc=bc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),l=1<<a;t|=e[a],r&=~l}return uc=t,Pr(),n}function Wc(e,t){yl=null,D.H=Qo,t===Qa||t===Va?(t=Za(),oc=3):t===qa?(t=Za(),oc=4):oc=t===Cs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ac&&(mc=1,ws(e,kr(t,e.current)))}function Qc(){var e=D.H;return D.H=Qo,null===e?Qo:e}function qc(){var e=D.A;return D.A=ec,e}function Vc(){mc=4,ic||(4194048&lc)!==lc&&null!==as.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||$c(rc,lc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var a=Qc(),l=qc();rc===e&&lc===t||(Nc=null,Hc(e,t)),t=!1;var o=mc;e:for(;;)try{if(0!==oc&&null!==ac){var s=ac,i=sc;switch(oc){case 8:Bc(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var c=oc;if(oc=0,sc=null,Zc(e,s,i,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,Zc(e,s,i,c)}}Yc(),o=mc;break}catch(d){Wc(e,d)}return t&&e.shellSuspendCounter++,ba=xa=null,nc=r,D.H=a,D.A=l,null===ac&&(rc=null,lc=0,Pr()),o}function Yc(){for(;null!==ac;)Jc(ac)}function Kc(){for(;null!==ac&&!Z();)Jc(ac)}function Jc(e){var t=Js(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):ac=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Os(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Os(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:Fl(t);default:li(n,t),t=Js(n,t=ac=Ur(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):ac=t}function Zc(e,t,n,r){ba=xa=null,Fl(t),Yo=null,Ko=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Na(t,n,a,!0),null!==(n=as.current)){switch(n.tag){case 13:return null===ls?Vc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ud(e,r,a)),!1;case 22:return n.flags|=65536,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ud(e,r,a)),!1}throw Error(o(435,n.tag))}return ud(e,r,a),Vc(),!1}if(la)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ia&&ha(kr(e=Error(o(422),{cause:r}),n))):(r!==ia&&ha(kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),sl(e,a=Ns(e.stateNode,r,a)),4!==mc&&(mc=2)),!1;var l=Error(o(520),{cause:r});if(l=kr(l,n),null===bc?bc=[l]:bc.push(l),4!==mc&&(mc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,sl(n,e=Ns(n.stateNode,r,e)),!1;case 1:if(t=n.type,l=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===kc||!kc.has(l))))return n.flags|=65536,a&=-a,n.lanes|=a,Ss(a=ks(a),e,n,r),sl(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,lc))return mc=1,ws(e,kr(n,e.current)),void(ac=null)}catch(l){if(null!==a)throw ac=a,l;return mc=1,ws(e,kr(n,e.current)),void(ac=null)}32768&t.flags?(la||1===r?e=!0:cc||0!==(536870912&lc)?e=!1:(ic=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=as.current)&&13===r.tag&&(r.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,ic);e=t.return;var n=ri(t.alternate,t,uc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===mc&&(mc=5)}function td(e,t){do{var n=ai(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);mc=6,ac=null}function nd(e,t,n,r,a,l,s,i,c){e.cancelPendingCommit=null;do{sd()}while(0!==Sc);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(l=t.lanes|t.childLanes,function(e,t,n,r,a,l){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var d=31-fe(n),u=1<<d;s[d]=0,i[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var f=m[d];null!==f&&(f.lane&=-536870913)}n&=~u}0!==r&&Ce(e,r,0),0!==l&&0===a&&0!==e.tag&&(e.suspendedLanes|=l&~(o&~t))}(e,n,l|=Er,s,i,c),e===rc&&(ac=rc=null,lc=0),Ec=t,Cc=e,Pc=n,Mc=l,Tc=a,zc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(le,function(){return id(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=L.p,L.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,tu=nm,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var s=0,i=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var p;m!==n||0!==a&&3!==m.nodeType||(i=s+a),m!==l||0!==r&&3!==m.nodeType||(c=s+r),3===m.nodeType&&(s+=m.nodeValue.length),null!==(p=m.firstChild);)f=m,m=p;for(;;){if(m===e)break t;if(f===n&&++d===a&&(i=s),f===l&&++u===r&&(c=s),null!==(p=m.nextSibling))break;f=(m=f).parentNode}m=p}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},nm=!1,Ni=t;null!==Ni;)if(e=(t=Ni).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Ni=e;else for(;null!==Ni;){switch(l=(t=Ni).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,n=t,a=l.memoizedProps,l=l.memoizedState,r=n.stateNode;try{var h=gs(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(h,l),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){dd(n,n.return,x)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))hu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ni=e;break}Ni=t.return}}(e,t)}finally{nc=s,L.p=a,D.T=r}}Sc=1,rd(),ad(),ld()}}function rd(){if(1===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var a=nc;nc|=4;try{Di(t,e);var l=nu,o=er(e.containerInfo),s=l.focusedElem,i=l.selectionRange;if(o!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==i&&tr(s)){var c=i.start,d=i.end;if(void 0===d&&(d=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(d,s.value.length);else{var u=s.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var f=m.getSelection(),p=s.textContent.length,h=Math.min(i.start,p),g=void 0===i.end?h:Math.min(i.end,p);!f.extend&&h>g&&(o=g,g=h,h=o);var x=Xn(s,h),b=Xn(s,g);if(x&&b&&(1!==f.rangeCount||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var y=u.createRange();y.setStart(x.node,x.offset),f.removeAllRanges(),h>g?(f.addRange(y),f.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),f.addRange(y))}}}}for(u=[],f=s;f=f.parentNode;)1===f.nodeType&&u.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<u.length;s++){var v=u[s];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nm=!!tu,nu=tu=null}finally{nc=a,L.p=r,D.T=n}}e.current=t,Sc=2}}function ad(){if(2===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var a=nc;nc|=4;try{ki(e,t.alternate,t)}finally{nc=a,L.p=r,D.T=n}}Sc=3}}function ld(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ec,n=Pc,r=zc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Cc=null,od(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(kc=null),Me(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(i){}if(null!==r){t=D.T,a=L.p,L.p=2,D.T=null;try{for(var l=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];l(s.value,{componentStack:s.stack})}}finally{D.T=t,L.p=a}}0!==(3&Pc)&&sd(),jd(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===_c?Ac++:(Ac=0,_c=e):Ac=0,Nd(0,!1)}}function od(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function sd(e){return rd(),ad(),ld(),id()}function id(){if(5!==Sc)return!1;var e=Cc,t=Mc;Mc=0;var n=Me(Pc),r=D.T,a=L.p;try{L.p=32>n?32:n,D.T=null,n=Tc,Tc=null;var l=Cc,s=Pc;if(Sc=0,Ec=Cc=null,Pc=0,0!==(6&nc))throw Error(o(331));var i=nc;if(nc|=4,Ji(l.current),Hi(l,l.current,s,n),nc=i,Nd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,l)}catch(c){}return!0}finally{L.p=a,D.T=r,od(e,t)}}function cd(e,t,n){t=kr(n,t),null!==(e=ll(e,t=Ns(e.stateNode,t,2),2))&&(Se(e,2),jd(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ll(t,n=ks(2),2))&&(Ss(n,r,t,e),Se(r,2),jd(r));break}}t=t.return}}function ud(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(dc=!0,a.add(n),e=md.bind(null,e,t,n),t.then(e,e))}function md(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(lc&n)===n&&(4===mc||3===mc&&(62914560&lc)===lc&&300>te()-wc?0===(2&nc)&&Hc(e,0):hc|=n,xc===lc&&(xc=0)),jd(e)}function fd(e,t){0===t&&(t=Ne()),null!==(e=zr(e,t))&&(Se(e,t),jd(e))}function pd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fd(e,n)}function hd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fd(e,n)}var gd=null,xd=null,bd=!1,yd=!1,vd=!1,wd=0;function jd(e){e!==xd&&null===e.next&&(null===xd?gd=xd=e:xd=xd.next=e),yd=!0,bd||(bd=!0,uu(function(){0!==(6&nc)?J(re,kd):Sd()}))}function Nd(e,t){if(!vd&&yd){vd=!0;do{for(var n=!1,r=gd;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var l=0;else{var o=r.suspendedLanes,s=r.pingedLanes;l=(1<<31-fe(42|e)+1)-1,l=201326741&(l&=a&~(o&~s))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Pd(r,l))}else l=lc,0===(3&(l=ye(r,r===rc?l:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ve(r,l)||(n=!0,Pd(r,l));r=r.next}}while(n);vd=!1}}function kd(){Sd()}function Sd(){yd=bd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==su&&(su=e,!0);return su=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,r=gd;null!==r;){var a=r.next,l=Cd(r,t);0===l?(r.next=null,null===n?gd=a:n.next=a,null===a&&(xd=n)):(n=r,(0!==e||0!==(3&l))&&(yd=!0)),r=a}Nd(e,!1)}function Cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var o=31-fe(l),s=1<<o,i=a[o];-1===i?0!==(s&n)&&0===(s&r)||(a[o]=we(s,t)):i<=t&&(e.expiredLanes|=s),l&=~s}if(n=lc,n=ye(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Me(n)){case 2:case 8:n=ae;break;case 32:default:n=le;break;case 268435456:n=se}return r=Ed.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Ed(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sd()&&e.callbackNode!==n)return null;var r=lc;return 0===(r=ye(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Cd(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ed.bind(null,e):null)}function Pd(e,t){if(sd())return null;Fc(e,t,!0)}function Md(){return 0===wd&&(wd=je()),wd}function Td(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Mt(""+e)}function zd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ad=0;Ad<wr.length;Ad++){var _d=wr[Ad];jr(_d.toLowerCase(),"on"+(_d[0].toUpperCase()+_d.slice(1)))}jr(fr,"onAnimationEnd"),jr(pr,"onAnimationIteration"),jr(hr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(xr,"onTransitionStart"),jr(br,"onTransitionCancel"),jr(yr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ld=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dd));function Od(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],i=s.instance,c=s.currentTarget;if(s=s.listener,i!==l&&a.isPropagationStopped())break e;l=s,a.currentTarget=c;try{l(a)}catch(d){xs(d)}a.currentTarget=null,l=i}else for(o=0;o<r.length;o++){if(i=(s=r[o]).instance,c=s.currentTarget,s=s.listener,i!==l&&a.isPropagationStopped())break e;l=s,a.currentTarget=c;try{l(a)}catch(d){xs(d)}a.currentTarget=null,l=i}}}}function Fd(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Id(t,e,2,!1),n.add(r))}function Rd(e,t,n){var r=0;t&&(r|=4),Id(n,e,r,t)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[Ud]){e[Ud]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Ld.has(t)||Rd(t,!1,e),Rd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ud]||(t[Ud]=!0,Rd("selectionchange",!1,t))}}function Id(e,t,n,r){switch(cm(t)){case 2:var a=rm;break;case 8:a=am;break;default:a=lm}n=a.bind(null,t,n,e),a=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bd(e,t,n,r,a){var l=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==s;){if(null===(o=Ie(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=l=o;continue e}s=s.parentNode}}r=r.return}Ot(function(){var r=l,a=zt(n),o=[];e:{var s=vr.get(e);if(void 0!==s){var c=Zt,d=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=hn;break;case"focusin":d="focus",c=ln;break;case"focusout":d="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case fr:case pr:case hr:c=on;break;case yr:c=bn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=vn}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var g=h;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(h,f))&&u.push(Hd(h,g,p)),m)break;h=h.return}0<u.length&&(s=new c(s,d,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Tt||!(d=n.relatedTarget||n.fromElement)||!Ie(d)&&!d[De])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ie(d):null)&&(m=i(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=rn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",f="onPointerEnter",h="pointer"),m=null==c?s:He(c),p=null==d?s:He(d),(s=new u(g,h+"leave",c,n,a)).target=m,s.relatedTarget=p,g=null,Ie(a)===r&&((u=new u(f,h+"enter",d,n,a)).target=p,u.relatedTarget=m,g=u),m=g,c&&d)e:{for(f=d,h=0,p=u=c;p;p=Qd(p))h++;for(p=0,g=f;g;g=Qd(g))p++;for(;0<h-p;)u=Qd(u),h--;for(;0<p-h;)f=Qd(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Qd(u),f=Qd(f)}u=null}else u=null;null!==c&&qd(o,s,c,u,!1),null!==d&&null!==m&&qd(o,m,d,u,!0)}if("select"===(c=(s=r?He(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var x=Rn;else if(An(s))if(Un)x=Gn;else{x=qn;var b=Qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ct(r.elementType)&&(x=Rn):x=Vn;switch(x&&(x=x(e,r))?_n(o,x,n,a):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&bt(s,"number",s.value)),b=r?He(r):window,e){case"focusin":(An(b)||"true"===b.contentEditable)&&(rr=b,ar=r,lr=null);break;case"focusout":lr=ar=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,a)}var y;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Tn?Pn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Sn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Tn&&(y=Wt()):(Bt="value"in(It=a)?It.value:It.textContent,Tn=!0)),0<(b=Wd(r,v)).length&&(v=new cn(v,e,null,n,a),o.push({event:v,listeners:b}),y?v.data=y:null!==(y=Mn(n))&&(v.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(En=!0,Cn);case"textInput":return(e=t.data)===Cn&&En?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!jn&&Pn(e,t)?(e=Wt(),Ht=Bt=It=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Wd(r,"onBeforeInput")).length&&(b=new cn("onBeforeInput","beforeinput",null,n,a),o.push({event:b,listeners:v}),b.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var l=Td((a[_e]||null).action),o=r.submitter;o&&null!==(t=(t=o[_e]||null)?Td(t.formAction):o.getAttribute("formAction"))&&(l=t,o=null);var s=new Zt("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wd){var e=o?zd(a,o):new FormData(a);zo(n,{pending:!0,data:e,method:a.method,action:l},null,e)}}else"function"===typeof l&&(s.preventDefault(),e=o?zd(a,o):new FormData(a),zo(n,{pending:!0,data:e,method:a.method,action:l},l,e))},currentTarget:a}]})}}(o,e,r,n,a)}Od(o,t)})}function Hd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,l=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===l||(null!=(a=Ft(e,n))&&r.unshift(Hd(e,a,l)),null!=(a=Ft(e,t))&&r.push(Hd(e,a,l))),3===e.tag)return r;e=e.return}return[]}function Qd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qd(e,t,n,r,a){for(var l=t._reactName,o=[];null!==n&&n!==r;){var s=n,i=s.alternate,c=s.stateNode;if(s=s.tag,null!==i&&i===r)break;5!==s&&26!==s&&27!==s||null===c||(i=c,a?null!=(c=Ft(n,l))&&o.unshift(Hd(n,c,i)):a||null!=(c=Ft(n,l))&&o.push(Hd(n,c,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Vd=/\r\n?/g,Gd=/\u0000|\uFFFD/g;function Yd(e){return("string"===typeof e?e:""+e).replace(Vd,"\n").replace(Gd,"")}function Kd(e,t){return t=Yd(t),Yd(e)===t}function Jd(){}function Xd(e,t,n,r,a,l){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,l);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===n?("input"!==t&&Xd(e,t,"name",a.name,a,null),Xd(e,t,"formEncType",a.formEncType,a,null),Xd(e,t,"formMethod",a.formMethod,a,null),Xd(e,t,"formTarget",a.formTarget,a,null)):(Xd(e,t,"encType",a.encType,a,null),Xd(e,t,"method",a.method,a,null),Xd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Jd);break;case"onScroll":null!=r&&Fd("scroll",e);break;case"onScrollEnd":null!=r&&Fd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Mt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fd("beforetoggle",e),Fd("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zd(e,t,n,r,a,l){switch(n){case"style":St(e,r,l);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Fd("scroll",e);break;case"onScrollEnd":null!=r&&Fd("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ve.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(l=null!=(l=e[_e]||null)?l[n]:null)&&e.removeEventListener(t,l,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fd("error",e),Fd("load",e);var r,a=!1,l=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xd(e,t,r,s,n,null)}}return l&&Xd(e,t,"srcSet",n.srcSet,n,null),void(a&&Xd(e,t,"src",n.src,n,null));case"input":Fd("invalid",e);var i=r=s=l=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":l=u;break;case"type":s=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":i=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(o(137,t));break;default:Xd(e,t,a,u,n,null)}}return xt(e,r,i,c,d,s,l,!1),void ut(e);case"select":for(l in Fd("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))switch(l){case"value":r=i;break;case"defaultValue":s=i;break;case"multiple":a=i;default:Xd(e,t,l,i,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?yt(e,!!a,t,!1):null!=n&&yt(e,!!a,n,!0));case"textarea":for(s in Fd("invalid",e),r=l=a=null,n)if(n.hasOwnProperty(s)&&null!=(i=n[s]))switch(s){case"value":a=i;break;case"defaultValue":l=i;break;case"children":r=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:Xd(e,t,s,i,n,null)}return wt(e,a,l,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Xd(e,t,c,a,n,null);return;case"dialog":Fd("beforetoggle",e),Fd("toggle",e),Fd("cancel",e),Fd("close",e);break;case"iframe":case"object":Fd("load",e);break;case"video":case"audio":for(a=0;a<Dd.length;a++)Fd(Dd[a],e);break;case"image":Fd("error",e),Fd("load",e);break;case"details":Fd("toggle",e);break;case"embed":case"source":case"link":Fd("error",e),Fd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xd(e,t,d,a,n,null)}return;default:if(Ct(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&Zd(e,t,u,a,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(null!=(a=n[i])&&Xd(e,t,i,a,n,null))}var tu=null,nu=null;function ru(e){return 9===e.nodeType?e:e.ownerDocument}function au(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ou(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var su=null;var iu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(mu)}:iu;function mu(e){setTimeout(function(){throw e})}function fu(e){return"head"===e}function pu(e,t){var n=t,r=0,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&8===l.nodeType)if("/$"===(n=l.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&wu(o.documentElement),2&n&&wu(o.body),4&n)for(wu(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,i=o.nodeName;o[Ue]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===a)return e.removeChild(l),void Em(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=l}while(n);Em(t)}function hu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hu(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bu=null;function yu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vu(e,t,n){switch(t=ru(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var ju=new Map,Nu=new Set;function ku(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Su=L.d;L.d={f:function(){var e=Su.f(),t=Ic();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?_o(t):Su.r(e)},D:function(e){Su.D(e),Eu("dns-prefetch",e,null)},C:function(e,t){Su.C(e,t),Eu("preconnect",e,t)},L:function(e,t,n){Su.L(e,t,n);var r=Cu;if(r&&e&&t){var a='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+ht(n.imageSizes)+'"]')):a+='[href="'+ht(e)+'"]';var l=a;switch(t){case"style":l=Mu(e);break;case"script":l=Au(e)}ju.has(l)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ju.set(l,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Tu(l))||"script"===t&&r.querySelector(_u(l))||(eu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}},m:function(e,t){Su.m(e,t);var n=Cu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ht(r)+'"][href="'+ht(e)+'"]',l=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Au(e)}if(!ju.has(l)&&(e=m({rel:"modulepreload",href:e},t),ju.set(l,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_u(l)))return}eu(r=n.createElement("link"),"link",e),Qe(r),n.head.appendChild(r)}}},X:function(e,t){Su.X(e,t);var n=Cu;if(n&&e){var r=We(n).hoistableScripts,a=Au(e),l=r.get(a);l||((l=n.querySelector(_u(a)))||(e=m({src:e,async:!0},t),(t=ju.get(a))&&Fu(e,t),Qe(l=n.createElement("script")),eu(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(a,l))}},S:function(e,t,n){Su.S(e,t,n);var r=Cu;if(r&&e){var a=We(r).hoistableStyles,l=Mu(e);t=t||"default";var o=a.get(l);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Tu(l)))s.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ju.get(l))&&Ou(e,n);var i=o=r.createElement("link");Qe(i),eu(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){s.loading|=1}),i.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Lu(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(l,o)}}},M:function(e,t){Su.M(e,t);var n=Cu;if(n&&e){var r=We(n).hoistableScripts,a=Au(e),l=r.get(a);l||((l=n.querySelector(_u(a)))||(e=m({src:e,async:!0,type:"module"},t),(t=ju.get(a))&&Fu(e,t),Qe(l=n.createElement("script")),eu(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(a,l))}}};var Cu="undefined"===typeof document?null:document;function Eu(e,t,n){var r=Cu;if(r&&"string"===typeof t&&t){var a=ht(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Nu.has(a)||(Nu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(eu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}}function Pu(e,t,n,r){var a,l,s,i,c=(c=W.current)?ku(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Mu(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Mu(n.href);var d=We(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Tu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ju.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ju.set(e,n),d||(a=c,l=e,s=n,i=u.state,a.querySelector('link[rel="preload"][as="style"]['+l+"]")?i.loading=1:(l=a.createElement("link"),i.preload=l,l.addEventListener("load",function(){return i.loading|=1}),l.addEventListener("error",function(){return i.loading|=2}),eu(l,"link",s),Qe(l),a.head.appendChild(l))))),t&&null===r)throw Error(o(528,""));return u}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Au(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Mu(e){return'href="'+ht(e)+'"'}function Tu(e){return'link[rel="stylesheet"]['+e+"]"}function zu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Au(e){return'[src="'+ht(e)+'"]'}function _u(e){return"script[async]"+e}function Du(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(r)return t.instance=r,Qe(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qe(r=(e.ownerDocument||e).createElement("style")),eu(r,"style",a),Lu(r,n.precedence,e),t.instance=r;case"stylesheet":a=Mu(n.href);var l=e.querySelector(Tu(a));if(l)return t.state.loading|=4,t.instance=l,Qe(l),l;r=zu(n),(a=ju.get(a))&&Ou(r,a),Qe(l=(e.ownerDocument||e).createElement("link"));var s=l;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eu(l,"link",r),t.state.loading|=4,Lu(l,n.precedence,e),t.instance=l;case"script":return l=Au(n.src),(a=e.querySelector(_u(l)))?(t.instance=a,Qe(a),a):(r=n,(a=ju.get(l))&&Fu(r=m({},n),a),Qe(a=(e=e.ownerDocument||e).createElement("script")),eu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Lu(r,n.precedence,e));return t.instance}function Lu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,l=a,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)l=s;else if(l!==a)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ou(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ru=null;function Uu(e,t,n){if(null===Ru){var r=new Map,a=Ru=new Map;a.set(n,r)}else(r=(a=Ru).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var l=n[a];if(!(l[Ue]||l[Ae]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var o=l.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(l):r.set(o,[l])}}return r}function $u(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Iu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bu=null;function Hu(){}function Wu(){if(this.count--,0===this.count)if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Qu=null;function qu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Qu=new Map,t.forEach(Vu,e),Qu=null,Wu.call(e))}function Vu(e,t){if(!(4&t.state.loading)){var n=Qu.get(e);if(n)var r=n.get(null);else{n=new Map,Qu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<a.length;l++){var o=a[l];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(a=t.instance).getAttribute("data-precedence"),(l=n.get(o)||r)===r&&n.set(null,a),n.set(o,a),this.count++,r=Wu.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),l?l.parentNode.insertBefore(a,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gu={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Yu(e,t,n,r,a,l,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=l,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ku(e,t,n,r,a,l,o,s,i,c,d,u){return e=new Yu(e,t,n,o,s,i,c,u),t=1,!0===l&&(t|=24),l=Or(3,null,null,t),e.current=l,l.stateNode=e,(t=_a()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:r,isDehydrated:n,cache:t},nl(l),e}function Ju(e){return e?e=Dr:Dr}function Xu(e,t,n,r,a,l){a=Ju(a),null===r.context?r.context=a:r.pendingContext=a,(r=al(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(r.callback=l),null!==(n=ll(e,r,t))&&(Oc(n,0,t),ol(n,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function em(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tm(e){if(13===e.tag){var t=zr(e,67108864);null!==t&&Oc(t,0,67108864),em(e,67108864)}}var nm=!0;function rm(e,t,n,r){var a=D.T;D.T=null;var l=L.p;try{L.p=2,lm(e,t,n,r)}finally{L.p=l,D.T=a}}function am(e,t,n,r){var a=D.T;D.T=null;var l=L.p;try{L.p=8,lm(e,t,n,r)}finally{L.p=l,D.T=a}}function lm(e,t,n,r){if(nm){var a=om(r);if(null===a)Bd(e,t,r,sm,n),bm(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return um=ym(um,e,t,n,r,a),!0;case"dragenter":return mm=ym(mm,e,t,n,r,a),!0;case"mouseover":return fm=ym(fm,e,t,n,r,a),!0;case"pointerover":var l=a.pointerId;return pm.set(l,ym(pm.get(l)||null,e,t,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,hm.set(l,ym(hm.get(l)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(bm(e,r),4&t&&-1<xm.indexOf(e)){for(;null!==a;){var l=Be(a);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var o=be(l.pendingLanes);if(0!==o){var s=l;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var i=1<<31-fe(o);s.entanglements[1]|=i,o&=~i}jd(l),0===(6&nc)&&(jc=te()+500,Nd(0,!1))}}break;case 13:null!==(s=zr(l,2))&&Oc(s,0,2),Ic(),em(l,2)}if(null===(l=om(r))&&Bd(e,t,r,sm,n),l===a)break;a=l}null!==a&&r.stopPropagation()}else Bd(e,t,r,null,n)}}function om(e){return im(e=zt(e))}var sm=null;function im(e){if(sm=null,null!==(e=Ie(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sm=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case le:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var dm=!1,um=null,mm=null,fm=null,pm=new Map,hm=new Map,gm=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,t){switch(e){case"focusin":case"focusout":um=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":fm=null;break;case"pointerover":case"pointerout":pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hm.delete(t.pointerId)}}function ym(e,t,n,r,a,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&tm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function vm(e){var t=Ie(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Pe(e);var t=zr(n,e);null!==t&&Oc(t,0,e),em(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=om(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&tm(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function jm(e,t,n){wm(e)&&n.delete(t)}function Nm(){dm=!1,null!==um&&wm(um)&&(um=null),null!==mm&&wm(mm)&&(mm=null),null!==fm&&wm(fm)&&(fm=null),pm.forEach(jm),hm.forEach(jm)}function km(e,t){e.blockedOn===t&&(e.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nm)))}var Sm=null;function Cm(e){Sm!==e&&(Sm=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sm===e&&(Sm=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===im(r||n))continue;break}var l=Be(n);null!==l&&(e.splice(t,3),t-=3,zo(l,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Em(e){function t(t){return km(t,e)}null!==um&&km(um,e),null!==mm&&km(mm,e),null!==fm&&km(fm,e),pm.forEach(t),hm.forEach(t);for(var n=0;n<gm.length;n++){var r=gm[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gm.length&&null===(n=gm[0]).blockedOn;)vm(n),null===n.blockedOn&&gm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],o=a[_e]||null;if("function"===typeof l)o||Cm(n);else if(o){var s=null;if(l&&l.hasAttribute("formAction")){if(a=l,o=l[_e]||null)s=o.formAction;else if(null!==im(a))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Cm(n)}}}function Pm(e){this._internalRoot=e}function Mm(e){this._internalRoot=e}Mm.prototype.render=Pm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xu(t.current,Dc(),e,t,null,null)},Mm.prototype.unmount=Pm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xu(e.current,2,null,e,null,null),Ic(),t[De]=null}},Mm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gm.length&&0!==t&&t<gm[n].priority;n++);gm.splice(n,0,e),0===n&&vm(e)}};var Tm=a.version;if("19.1.0"!==Tm)throw Error(o(527,Tm,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return d(a),e;if(l===r)return d(a),t;l=l.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=l;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=l;break}if(c===r){s=!0,r=a,n=l;break}c=c.sibling}if(!s){for(c=l.child;c;){if(c===n){s=!0,n=l,r=a;break}if(c===r){s=!0,r=l,n=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var zm={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Am.isDisabled&&Am.supportsFiber)try{de=Am.inject(zm),ue=Am}catch(Dm){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",a=bs,l=ys,i=vs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ku(e,1,!1,null,0,n,r,a,l,i,0,null),e[De]=t.current,$d(e),new Pm(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,a="",l=bs,i=ys,c=vs,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(i=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Ku(e,1,!0,t,0,r,a,l,i,c,0,d)).context=Ju(null),n=t.current,(a=al(r=Pe(r=Dc()))).callback=null,ll(n,a,r),n=r,t.current.lanes=n,Se(t,n),jd(t),e[De]=t.current,$d(e),new Mm(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,h(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(e,t,r,a,l,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(){}function M(e,t,a,l,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i,c,d=!1;if(null===e)d=!0;else switch(s){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case m:return M((d=e._init)(e._payload),t,a,l,o)}}if(d)return o=o(e),d=""===l?"."+E(e,0):l,w(o)?(a="",null!=d&&(a=d.replace(C,"$&/")+"/"),M(o,t,a,"",function(e){return e})):null!=o&&(S(o)&&(i=o,c=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+d,o=k(i.type,c,void 0,0,0,i.props)),t.push(o)),1;d=0;var u,p=""===l?".":l+":";if(w(e))for(var h=0;h<e.length;h++)d+=M(l=e[h],t,a,s=p+E(l,h),o);else if("function"===typeof(h=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=f&&u[f]||u["@@iterator"])?u:null))for(e=h.call(e),h=0;!(l=e.next()).done;)d+=M(l=l.value,t,a,s=p+E(l,h++),o);else if("object"===s){if("function"===typeof e.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,l,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function T(e,t,n){if(null==e)return e;var r=[],a=0;return M(e,r,"","",function(e){return t.call(n,e,a++)}),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function _(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=o,t.PureComponent=y,t.StrictMode=l,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=h({},e.props),a=e.key;if(null!=t)for(l in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!N.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(r[l]=t[l]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var o=Array(l),s=0;s<l;s++)o[s]=arguments[s+2];r.children=o}return k(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,a={},l=null;if(null!=t)for(r in void 0!==t.key&&(l=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var o=arguments.length-2;if(1===o)a.children=n;else if(1<o){for(var s=Array(o),i=0;i<o;i++)s[i]=arguments[i+2];a.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===a[r]&&(a[r]=o[r]);return k(e,l,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(_,A)}catch(l){A(l)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");var i=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=i.T,n=o.p;try{if(i.T=null,o.p=2,e)return e()}finally{i.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:l}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var l in r={},t)"key"!==l&&(r[l]=t[l]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<l(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,i=e[s],c=s+1,d=e[c];if(0>l(i,n))c<a&&0>l(d,i)?(e[r]=d,e[c]=n,r=c):(e[r]=i,e[s]=n,r=s);else{if(!(c<a&&0>l(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();t.unstable_now=function(){return s.now()-i}}var c=[],d=[],u=1,m=null,f=3,p=!1,h=!1,g=!1,x=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(g=!1,w(e),!h)if(null!==r(c))h=!0,k||(k=!0,N());else{var t=r(d);null!==t&&A(j,t.startTime-e)}}var N,k=!1,S=-1,C=5,E=-1;function P(){return!!x||!(t.unstable_now()-E<C)}function M(){if(x=!1,k){var e=t.unstable_now();E=e;var n=!0;try{e:{h=!1,g&&(g=!1,y(S),S=-1),p=!0;var l=f;try{t:{for(w(e),m=r(c);null!==m&&!(m.expirationTime>e&&P());){var o=m.callback;if("function"===typeof o){m.callback=null,f=m.priorityLevel;var s=o(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){m.callback=s,w(e),n=!0;break t}m===r(c)&&a(c),w(e)}else a(c);m=r(c)}if(null!==m)n=!0;else{var i=r(d);null!==i&&A(j,i.startTime-e),n=!1}}break e}finally{m=null,f=l,p=!1}n=void 0}}finally{n?N():k=!1}}}if("function"===typeof v)N=function(){v(M)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,z=T.port2;T.port1.onmessage=M,N=function(){z.postMessage(null)}}else N=function(){b(M,0)};function A(e,n){S=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,l){var o=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?o+l:o:l=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>o?(e.sortIndex=l,n(d,e),null===r(c)&&e===r(d)&&(g?(y(S),S=-1):g=!0,A(j,l-o))):(e.sortIndex=s,n(c,e),h||p||(h=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}var r=n(43),a=n(391),l=n(579);const o={NODE_ENV:"production",PUBLIC_URL:"/kglwmoments",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WALLETCONNECT_PROJECT_ID:"3c66dd35cf9b2c1361bdd7df719cebbf",REACT_APP_UMO_MOMENTS_CONTRACT:"0x5417E6db8cF893ac2a11BBd9970c4bd7deFC6F39"}.REACT_APP_API_URL||("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:5050":"https://kglwmoments-production.up.railway.app");console.log("\ud83d\udd0d API_BASE_URL:",o),console.log("\ud83d\udd0d hostname:",window.location.hostname),console.log("\ud83d\udd0d full location:",window.location.href);const s=(0,r.createContext)(),i=()=>{const e=(0,r.useContext)(s);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[i,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(c(e),a(JSON.parse(t))),u(!1)},[]);return(0,l.jsx)(s.Provider,{value:{user:n,token:i,login:async(e,t)=>{try{const n=await fetch(`${o}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Login failed")}const r=await n.json();return localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),c(r.token),a(r.user),r}catch(n){throw n}},register:async(e,t,n)=>{try{const r=await fetch(`${o}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,displayName:n})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Registration failed")}const l=await r.json();return localStorage.setItem("token",l.token),localStorage.setItem("user",JSON.stringify(l.user)),c(l.token),a(l.user),l}catch(r){throw r}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),c(null),a(null)},loading:d},children:t})},d=(0,r.createContext)(),u=()=>{const e=(0,r.useContext)(d);if(!e)throw new Error("usePlatformSettings must be used within a PlatformSettingsProvider");return e},m=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null),u={NODE_ENV:"production",PUBLIC_URL:"/kglwmoments",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WALLETCONNECT_PROJECT_ID:"3c66dd35cf9b2c1361bdd7df719cebbf",REACT_APP_UMO_MOMENTS_CONTRACT:"0x5417E6db8cF893ac2a11BBd9970c4bd7deFC6F39"}.REACT_APP_API_URL||("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:5050":"https://your-backend-url.com"),m=(0,r.useCallback)(async()=>{try{s(!0),c(null);const e=await fetch(`${u}/platform/settings`);if(!e.ok)throw new Error("Failed to fetch platform settings");{const t=await e.json();a(t.settings)}}catch(e){console.error("\u274c Platform settings fetch error:",e),c(e.message),a({web3Enabled:!0,maintenanceMode:!1,uploadsEnabled:!0,platformName:"UMO Archive",platformDescription:"Decentralized concert moment platform",maxFileSize:6442450944})}finally{s(!1)}},[u]);(0,r.useEffect)(()=>{m()},[m]);const f={settings:n,loading:o,error:i,isWeb3Enabled:()=>(null===n||void 0===n?void 0:n.web3Enabled)&&!(null!==n&&void 0!==n&&n.maintenanceMode),areUploadsEnabled:()=>(null===n||void 0===n?void 0:n.uploadsEnabled)&&!(null!==n&&void 0!==n&&n.maintenanceMode),isMaintenanceMode:()=>null===n||void 0===n?void 0:n.maintenanceMode,getPlatformInfo:()=>({name:(null===n||void 0===n?void 0:n.platformName)||"UMO Archive",description:(null===n||void 0===n?void 0:n.platformDescription)||"Decentralized concert moment platform",maxFileSize:(null===n||void 0===n?void 0:n.maxFileSize)||6442450944}),refetchSettings:m};return(0,l.jsx)(d.Provider,{value:f,children:t})},f=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},h=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:s="",children:i,iconNode:c,...d}=e;return(0,r.createElement)("svg",{ref:t,...g,width:a,height:a,stroke:n,strokeWidth:o?24*Number(l)/Number(a):l,className:p("lucide",s),...!i&&!h(d)&&{"aria-hidden":"true"},...d},[...c.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(i)?i:[i]])}),b=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:l,...o}=n;return(0,r.createElement)(x,{ref:a,iconNode:t,className:p(`lucide-${s=f(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...o});var s});return n.displayName=f(e),n},y=b("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),v=b("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),w=b("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),j=b("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),N=(e,t)=>{const[n,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{const n=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(n)}},[e,t]),n},k=e=>{if(!e||0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},S=e=>{if(!e)return"Unknown date";if(e.includes("-")){const t=e.split("-");if(3===t.length){const e=parseInt(t[0]),n=parseInt(t[1])-1,r=parseInt(t[2]);if(r>=2020&&r<=2025&&n>=0&&n<=11&&e>=1&&e<=31){return new Date(r,n,e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}}}try{const t=new Date(e);if(!isNaN(t.getTime()))return t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){}return e},C=e=>{if(!e)return"Unknown date";try{if(e.includes("-")){const t=e.split("-");if(3===t.length){const e=parseInt(t[0]),n=parseInt(t[1])-1,r=parseInt(t[2]);return new Date(r,n,e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}const t=new Date(e);if(!isNaN(t.getTime()))return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){}return e},E=e=>{if("function"===typeof AbortSignal.timeout)return AbortSignal.timeout(e);{const t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal}},P=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={headers:{Accept:"application/json","Cache-Control":"no-cache",Pragma:"no-cache",...t.headers},signal:t.signal||E(1e4),...t};try{const t=await fetch(e,n);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return t}catch(r){throw"AbortError"===r.name?new Error("Request timed out. Please check your connection and try again."):r.message.includes("Failed to fetch")?new Error("Network error. Please check your internet connection."):r}},M=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;try{console.log(`\ud83c\udfb8 Fetching King Gizzard performances from cache (page ${e})...`);const n=`${t}/cached/performances?page=${e}&limit=20`;console.log(`\ud83d\udce1 Cache URL: ${n}`);const r=await P(n),a=await r.json();return console.log("\ud83d\udccb Cache data received:",{total:a.pagination.total,performanceCount:a.performances.length,page:a.pagination.page,fromCache:a.fromCache,lastUpdated:a.lastUpdated}),{setlist:a.performances,total:a.pagination.total,page:a.pagination.page,fromCache:a.fromCache,hasMore:a.pagination.hasMore}}catch(n){throw console.error("\u274c Error fetching cached King Gizzard setlists:",n),n}},T=async e=>{try{const t=await P(`${e}/cache/status`),n=await t.json();return{hasCache:n.hasCache,needsRefresh:n.needsRefresh,stats:n.stats,lastUpdated:n.lastUpdated}}catch(t){return console.error("\u274c Error fetching cache status:",t),{hasCache:!1,needsRefresh:!0}}},z=e=>{const[t,n]=(0,r.useState)({}),[a,l]=(0,r.useState)(!1),[o,s]=(0,r.useState)([]),[i,c]=(0,r.useState)(!1),d=(0,r.useCallback)(async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"moments";try{const r=await fetch(`${e}/moments/${t}`,{signal:E(8e3),headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(r.ok){return(await r.json()).moments||[]}return console.warn(`Failed to load ${n}: ${r.status}`),[]}catch(r){return console.error(`Error loading ${n}:`,r),[]}},[e]),u=(0,r.useCallback)(async e=>{if(0===e.length)return;l(!0);const t={};for(let n=0;n<e.length;n+=10){const r=e.slice(n,n+10);await Promise.all(r.map(async e=>{try{const n=await d(`performance/${e.id}`,`performance ${e.id}`);t[e.id]=n.length}catch(n){t[e.id]=0}})),n+10<e.length&&await new Promise(e=>setTimeout(e,100))}n(e=>({...e,...t})),l(!1)},[d]),m=(0,r.useCallback)(async(e,t)=>{c(!0);try{const n=await d(e,t);return s(n),n}catch(n){return console.error("Error loading moment details:",n),[]}finally{c(!1)}},[d]),f=(0,r.useCallback)(e=>t[e]||0,[t]),p=(0,r.useCallback)(e=>o.filter(t=>t.songName===e),[o]);return{momentCounts:t,loadingMoments:a,moments:o,loadingMomentDetails:i,fetchMoments:d,loadMomentCounts:u,loadMomentDetails:m,getMomentCount:f,getSongMoments:p}},A=e=>{const[t,n]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[o,s]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[m,f]=(0,r.useState)(!0),[p,h]=(0,r.useState)(1),[g,x]=(0,r.useState)(""),[b,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[j,k]=(0,r.useState)([]),[S,C]=(0,r.useState)({query:"",page:1,hasMore:!0,results:[]}),E=(0,r.useRef)(!1),T=(0,r.useRef)(""),z=N(g,600),A=(0,r.useCallback)(async()=>{try{var t;l(!0),u("");const r=await M(1,e);(null===r||void 0===r||null===(t=r.setlist)||void 0===t?void 0:t.length)>0?(n(r.setlist),h(1),f(!1!==r.hasMore)):(n([]),u("No UMO performances found"),f(!1))}catch(r){console.error("Error loading performances:",r),u(`Failed to load performances: ${r.message}`),n([])}finally{l(!1)}},[e]),_=(0,r.useCallback)(async()=>{try{var t;l(!0),u("");const r=await(async e=>{try{console.log("\ud83c\udfb8 Fetching ALL King Gizzard performances from cache...");const t=`${e}/cached/performances?page=1&limit=1000`;console.log(`\ud83d\udce1 Cache URL: ${t}`);const n=await P(t),r=await n.json();return console.log("\ud83d\udccb All performances data received:",{total:r.pagination.total,performanceCount:r.performances.length,fromCache:r.fromCache,lastUpdated:r.lastUpdated}),{setlist:r.performances,total:r.pagination.total,fromCache:r.fromCache}}catch(d){throw console.error("\u274c Error fetching all cached King Gizzard setlists:",d),d}})(e);(null===r||void 0===r||null===(t=r.setlist)||void 0===t?void 0:t.length)>0?(k(r.setlist),n(r.setlist),f(!1)):(k([]),n([]),u("No UMO performances found"))}catch(r){console.error("Error loading all performances:",r),u(`Failed to load performances: ${r.message}`),n([]),k([])}finally{l(!1)}},[e]),D=(0,r.useCallback)(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!E.current||a){E.current=!0,a?s(!0):(c(!0),y(!0)),u("");try{console.log(`\ud83d\udd0d ${a?"Loading more":"Starting"} search for: "${t}" (page ${r})`);const l=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;try{console.log(`\ud83d\udd0d Searching UMO performances for "${e}" (page ${n})...`);const a=`${t}/cached/performances?city=${encodeURIComponent(e)}&page=${n}&limit=${r}`,l=await P(a),o=await l.json();return console.log(`\ud83d\udccd Search results: ${o.performances.length} performances found (page ${n}/${Math.ceil(o.pagination.total/r)})`),{setlist:o.performances,total:o.pagination.total,page:o.pagination.page,hasMore:o.pagination.hasMore,fromCache:o.fromCache,searchQuery:e}}catch(d){throw console.error("\u274c Error searching UMO performances:",d),d}}(t,e,r);if(l&&l.setlist){if(a){const e=new Set(S.results.map(e=>e.id)),t=l.setlist.filter(t=>!e.has(t.id));if(t.length>0){const e=[...S.results,...t];C(n=>({...n,page:r,results:e,hasMore:!1!==l.hasMore&&t.length>0})),n(e)}else C(e=>({...e,hasMore:!1})),f(!1)}else C({query:t,page:1,results:l.setlist,hasMore:!1!==l.hasMore}),n(l.setlist);f(!1!==l.hasMore),console.log(`\u2705 Search ${a?"append":"complete"}: ${l.setlist.length} results for "${t}" (page ${r})`)}else a||(n([]),C({query:t,page:1,results:[],hasMore:!1})),f(!1),console.log(`\u2705 Search complete: 0 results for "${t}"`)}catch(l){console.error("Search error:",l),u(`Search failed: ${l.message}`),a||(n([]),C({query:t,page:1,results:[],hasMore:!1})),f(!1)}finally{a?s(!1):c(!1),E.current=!1}}},[e,S.results]),L=(0,r.useCallback)(async()=>{if(!o&&m)if(b&&S.query){const e=S.page+1;console.log(`\ud83d\udcc4 Loading more search results for "${S.query}" page ${e}`),await D(S.query,e,!0)}else{const l=p+1;try{var r;s(!0);const a=await M(l,e);if((null===a||void 0===a||null===(r=a.setlist)||void 0===r?void 0:r.length)>0){const e=new Set(t.map(e=>e.id)),r=a.setlist.filter(t=>!e.has(t.id));r.length>0?(n(e=>[...e,...r]),h(l),f(!1!==a.hasMore)):f(!1)}else f(!1)}catch(a){console.error(`Error loading page ${l}:`,a),u(`Failed to load more: ${a.message}`),f(!1)}finally{s(!1)}}else console.log("\ud83d\udeab Load more blocked:",{loadingMore:o,hasMore:m})},[o,m,b,S,p,e,D,t]),O=(0,r.useCallback)(()=>{console.log("\ud83e\uddf9 Clearing search"),x(""),y(!1),u(""),c(!1),C({query:"",page:1,results:[],hasMore:!0}),E.current=!1,T.current="",A()},[A]),F=(0,r.useCallback)(e=>{x(e),u(""),e.trim()||(T.current="")},[]);return(0,r.useEffect)(()=>{A()},[A]),(0,r.useEffect)(()=>{v&&0===j.length?_():!v&&j.length>0&&(k([]),A())},[v,j.length,_,A]),(0,r.useEffect)(()=>{const e=z.trim();e?T.current!==e&&(console.log(`\ud83d\udd0d New search triggered: "${e}"`),T.current=e,D(e)):b&&(console.log("\ud83e\uddf9 Clearing search due to empty search term"),y(!1),c(!1),C({query:"",page:1,results:[],hasMore:!0}),E.current=!1,T.current="",A())},[z,b,A,D]),{displayedPerformances:t,loading:a,loadingMore:o,searching:i,error:d,hasMore:b?S.hasMore:m,citySearch:g,isSearchMode:b,showOnlyWithMoments:v,loadInitialPerformances:A,loadMorePerformances:L,clearSearch:O,handleSearchChange:F,setShowOnlyWithMoments:w}},_=e=>{const[t,n]=(0,r.useState)(null),[a,l]=(0,r.useState)(!1),[o,s]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),d=(0,r.useCallback)(async()=>{try{const t=await T(e);n(t)}catch(t){console.error("Error checking cache status:",t)}},[e]),u=(0,r.useCallback)(async()=>{try{const t=await fetch(`${e}/cache/refresh/status`);if(t.ok){const e=await t.json();c(e.refreshStatus),n(e.cacheStats)}}catch(t){console.error("Error checking refresh status:",t)}},[e]),m=(0,r.useCallback)(async()=>{s(!0);try{await(async e=>{try{const t=await fetch(`${e}/cache/refresh`,{method:"POST",headers:{"Content-Type":"application/json"}});return await t.json()}catch(t){throw console.error("\u274c Error refreshing cache:",t),t}})(e);const t=async()=>{await u(),null!==i&&void 0!==i&&i.inProgress?setTimeout(t,2e3):s(!1)};setTimeout(t,1e3)}catch(t){console.error("Refresh failed:",t),s(!1)}},[e,i,u]),f=(0,r.useCallback)(()=>{l(e=>!e)},[]);return(0,r.useEffect)(()=>{d()},[d]),{cacheStatus:t,showDetails:a,refreshing:o,refreshStatus:i,shouldShow:!1,handleRefresh:m,toggleDetails:f,loadCacheStatus:d,checkRefreshStatus:u}},D=e=>{const[t,n]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[o,s]=(0,r.useState)(""),[i,c]=(0,r.useState)("mostPerformed"),[d,u]=(0,r.useState)("desc");console.log("\ud83d\udd0d useSongDatabase - Initial sortBy:","mostPerformed","sortDirection:","desc");const[m,f]=(0,r.useState)({current:0,total:0}),[p,h]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1),b=N(p,300),{fetchMoments:y}=z(e),v=(0,r.useCallback)(e=>e.filter(e=>!e.contentType||"song"===e.contentType),[]);(0,r.useEffect)(()=>{(async()=>{try{l(!0),console.log("\ud83c\udfb5 Loading comprehensive song database from cache...");const t=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mostPerformed";try{console.log("\ud83c\udfb5 Fetching UMO song database from cache...");const n=`${e}/cached/songs?sortBy=${t}`,r=await P(n),a=await r.json();return console.log(`\ud83d\udcca Song database loaded: ${a.songs.length} songs`),a.songs}catch(o){throw console.error("\u274c Error fetching song database:",o),o}}(e,"mostPerformed"),r=t.map(e=>({...e,totalMoments:0}));n(r),console.log("\ud83d\udd0d Loading song moment counts (excluding non-song content)..."),f({current:0,total:t.length});const a=20;for(let e=0;e<t.length;e+=a){const r=t.slice(e,e+a),l=await Promise.all(r.map(async e=>{try{const t=await y(`song/${encodeURIComponent(e.songName)}`,`song "${e.songName}"`),n=v(t);return n.length>0&&console.log(`\ud83d\udcca "${e.songName}": ${n.length} song moments`),{...e,totalMoments:n.length}}catch(t){return{...e,totalMoments:0}}}));n(t=>{const n=[...t];return l.forEach((t,r)=>{const a=e+r;a<n.length&&(n[a]=t)}),n}),f({current:Math.min(e+a,t.length),total:t.length}),e+a<t.length&&await new Promise(e=>setTimeout(e,50))}f({current:0,total:0}),console.log(`\u2705 Song database loaded: ${t.length} songs with song-only moment counts`)}catch(t){console.error("Error loading song database:",t),s(`Failed to load song database: ${t.message}`)}finally{l(!1)}})()},[e,y,v]);const w=(0,r.useMemo)(()=>{let e=t;if(b.trim()){const t=b.toLowerCase();e=e.filter(e=>e.songName.toLowerCase().includes(t)||e.venues.some(e=>e.toLowerCase().includes(t))||e.cities.some(e=>e.toLowerCase().includes(t))||e.countries.some(e=>e.toLowerCase().includes(t)))}g&&(e=e.filter(e=>e.totalMoments&&e.totalMoments>0));const n=[...e];return n.sort((e,t)=>{let n=0;switch(i){case"mostPerformed":n=t.totalPerformances-e.totalPerformances;break;case"mostMoments":n=t.totalMoments-e.totalMoments;break;case"lastPerformed":const r=new Date(e.lastPerformed);n=new Date(t.lastPerformed)-r;break;case"firstPerformed":n=new Date(e.firstPerformed)-new Date(t.firstPerformed);break;case"mostVenues":n=t.venues.length-e.venues.length;break;default:n=e.songName.localeCompare(t.songName)}return"asc"===d?-n:n}),n},[t,b,i,d,g]),j=(0,r.useCallback)(()=>{u(e=>"asc"===e?"desc":"asc")},[]),k=(0,r.useCallback)(()=>{h("")},[]),S=(0,r.useCallback)(e=>{h(e.target.value)},[]),C=(0,r.useCallback)(e=>{c(e)},[]),E=(0,r.useCallback)(e=>{x(e)},[]),M=t.reduce((e,t)=>e+t.totalMoments,0),T=t.filter(e=>e.totalMoments>0).length;return{songs:t,displayedSongs:w,loading:a,error:o,sortBy:i,sortDirection:d,momentProgress:m,searchQuery:p,showOnlyWithMoments:g,totalMoments:M,songsWithMoments:T,toggleSortDirection:j,clearSearch:k,handleSearchChange:S,handleSortChange:C,toggleShowOnlyWithMoments:E}},L=e=>{const{user:t}=i(),[n,a]=(0,r.useState)({pendingApproval:0,needsRevision:0,pendingReview:0}),[l,o]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),d=(0,r.useCallback)(async()=>{if(t)try{o(!0),c(null);const t=localStorage.getItem("token"),n=await fetch(`${e}/notifications/counts`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(n.ok){const e=await n.json();console.log("\ud83d\udd14 Notifications data:",e),a(e)}else console.error("Failed to fetch notifications:",n.status),c("Failed to load notifications")}catch(n){console.error("Error fetching notifications:",n),c("Error loading notifications")}finally{o(!1)}else a({pendingApproval:0,needsRevision:0,pendingReview:0})},[t,e]);(0,r.useEffect)(()=>{d()},[d]),(0,r.useEffect)(()=>{if(!t)return;const e=setInterval(d,3e4);return()=>clearInterval(e)},[t]);const u=(0,r.useCallback)(()=>{const e="admin"===(null===t||void 0===t?void 0:t.role)||"mod"===(null===t||void 0===t?void 0:t.role)||"solo@solo.solo"===(null===t||void 0===t?void 0:t.email)||"solo2@solo.solo"===(null===t||void 0===t?void 0:t.email);if(console.log("\ud83d\udd14 Badge calculation:",{user:null===t||void 0===t?void 0:t.email,role:null===t||void 0===t?void 0:t.role,isModOrAdmin:e,notifications:n}),e){if(n.pendingReview>0)return{color:"red",show:!0,isModOrAdmin:e}}else{if(n.needsRevision>0)return console.log("\ud83d\udd14 User badge: RED (needs revision)"),{color:"red",show:!0,isModOrAdmin:e};if(n.pendingApproval>0)return{color:"blue",show:!0,isModOrAdmin:e}}return{color:null,show:!1,isModOrAdmin:e}},[t,n]);return{notifications:n,loading:l,error:s,getBadgeInfo:u,refreshNotifications:d}},O=(0,r.memo)(()=>{var e,t;const{cacheStatus:n,showDetails:r,refreshing:a,shouldShow:s,handleRefresh:i,toggleDetails:c}=_(o);return s?(0,l.jsxs)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"text-blue-600 mr-3",children:"\ud83d\udcca"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-blue-900",children:n.hasCache?"Cache Update Available":"Building UMO Database..."}),(0,l.jsx)("div",{className:"text-sm text-blue-700",children:n.hasCache?`Last updated: ${n.lastUpdated?new Date(n.lastUpdated).toLocaleDateString():"Unknown"}`:"First-time setup: Loading all UMO performance data"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:c,className:"text-blue-600 hover:text-blue-800 text-sm",children:r?"Hide":"Details"}),n.hasCache&&(0,l.jsx)("button",{onClick:i,disabled:a,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:a?"Refreshing...":"Refresh"})]})]}),r&&n.stats&&(0,l.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-200 text-sm text-blue-700",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[(0,l.jsxs)("div",{children:["Performances: ",n.stats.totalPerformances||0]}),(0,l.jsxs)("div",{children:["Songs: ",n.stats.totalSongs||0]}),(0,l.jsxs)("div",{children:["API Calls Used: ",n.stats.apiCallsUsed||0]}),(0,l.jsxs)("div",{children:["Date Range: ",null===(e=n.stats.dateRange)||void 0===e?void 0:e.earliest," - ",null===(t=n.stats.dateRange)||void 0===t?void 0:t.latest]})]})})]}):null});O.displayName="CacheStatusDisplay";const F=O,R=(0,r.memo)(e=>{let{onRefresh:t,children:n,threshold:a=80,maxPullDistance:o=120,refreshingText:s="Refreshing...",pullText:i="Pull down to refresh",releaseText:c="Release to refresh"}=e;const[d,u]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),[p,h]=(0,r.useState)(0),[g,x]=(0,r.useState)(0),b=(0,r.useRef)(null),y=()=>0===window.scrollY&&0===document.documentElement.scrollTop;return(0,l.jsxs)("div",{ref:b,onTouchStart:e=>{if(!y()||m)return;const t=e.touches[0];x(t.clientY)},onTouchMove:e=>{if(!y()||m||!g)return;const t=e.touches[0].clientY-g;if(t>0){e.preventDefault();const n=Math.min(.6*Math.pow(t,.7),o);h(n),u(!0)}},onTouchEnd:()=>{d&&!m&&(p>=a?(f(!0),t().finally(()=>{f(!1),u(!1),h(0),x(0)})):(u(!1),h(0),x(0)))},style:{transform:`translateY(${d||m?.5*p:0}px)`,transition:d?"none":"transform 0.3s ease-out"},children:[(d||m)&&(0,l.jsxs)("div",{className:"pull-to-refresh-indicator",style:{position:"fixed",top:"0",left:"50%",transform:`translateX(-50%) translateY(${Math.max(p-40,0)}px)`,zIndex:1e3,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"12px 20px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#374151",transition:"transform 0.1s ease-out",border:"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,l.jsx)("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",transform:`rotate(${m?0:Math.min(p/a*180,180)}deg)`,transition:m?"none":"transform 0.2s ease-out"},children:m?(0,l.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}):(0,l.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M12 5v14l-4-4m4 4l4-4"})})}),(0,l.jsx)("span",{children:m?s:p>=a?c:i})]}),(0,l.jsx)("div",{style:{minHeight:"100vh"},children:n}),(0,l.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})});R.displayName="PullToRefresh";const U=R,$=(0,r.memo)(e=>{let{onPerformanceSelect:t}=e;const{displayedPerformances:n,loading:a,loadingMore:s,searching:i,error:c,hasMore:d,citySearch:u,isSearchMode:m,showOnlyWithMoments:f,loadInitialPerformances:p,loadMorePerformances:h,clearSearch:g,handleSearchChange:x,setShowOnlyWithMoments:b}=A(o),{momentCounts:y,loadingMoments:v,loadMomentCounts:w}=z(o),j=(0,r.useMemo)(()=>f?n.filter(e=>{const t=y[e.id];return t&&t>0}):n,[n,f,y]);if((0,r.useEffect)(()=>{if(n.length>0&&!a&&!i){const e=n.filter(e=>!(e.id in y));e.length>0&&w(e)}},[n,a,i,y,w]),a)return(0,l.jsx)(I,{});if(c&&!n.length)return(0,l.jsx)(B,{error:c,onRetry:p});return(0,l.jsx)(U,{onRefresh:async()=>(await new Promise(e=>setTimeout(e,500)),g(),p()),pullText:"Pull down to refresh performances",releaseText:"Release to refresh performances",refreshingText:"Loading latest performances...",children:(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)(H,{citySearch:u,searching:i,onSearchChange:x,onClearSearch:g,loadingMoments:v,isSearchMode:m,resultCount:j.length,totalCount:n.length,showOnlyWithMoments:f,onToggleMomentsFilter:b}),(0,l.jsx)(W,{performances:j,momentCounts:y,onPerformanceSelect:t}),0===j.length&&!a&&!i&&(0,l.jsx)(q,{isSearchMode:m,searchQuery:u,onClearSearch:g}),d&&!i&&(0,l.jsx)(V,{loading:s,onClick:h,isSearchMode:m,searchQuery:u})]})})});$.displayName="PerformanceList";const I=(0,r.memo)(()=>(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"umo-heading umo-heading--lg mb-4",children:"Latest Performances"}),(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsxs)("div",{className:"inline-flex items-center umo-text-secondary",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),"Loading performances..."]})})]}));I.displayName="LoadingState";const B=(0,r.memo)(e=>{let{error:t,onRetry:n}=e;return(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"umo-heading umo-heading--lg mb-4",children:"Latest Performances"}),(0,l.jsxs)("div",{className:"umo-card p-4",children:[(0,l.jsxs)("p",{className:"mb-2 umo-text-primary",children:["\u26a0\ufe0f ",t]}),(0,l.jsx)("button",{onClick:n,className:"umo-btn umo-btn--danger text-sm",children:"Retry"})]})]})});B.displayName="ErrorState";const H=(0,r.memo)(e=>{let{citySearch:t,searching:n,onSearchChange:r,onClearSearch:a,loadingMoments:o,isSearchMode:s,resultCount:i,totalCount:c,showOnlyWithMoments:d,onToggleMomentsFilter:u}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("h3",{className:"umo-heading umo-heading--lg",children:"Latest Performances"})}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row justify-center items-center gap-4",children:[(0,l.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,l.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Search by city, venue, song name, or year...",className:"umo-input w-full px-4 py-3 text-sm",style:{minHeight:"48px",fontSize:"16px"}}),(0,l.jsxs)("div",{className:"absolute right-3 top-3 flex items-center gap-1",children:[n&&(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),t&&(0,l.jsx)("button",{onClick:a,className:"umo-text-muted hover:umo-text-primary ml-1",style:{minWidth:"32px",minHeight:"32px",padding:"6px",fontSize:"18px"},children:"\xd7"})]})]}),(0,l.jsxs)("label",{className:"flex items-center cursor-pointer whitespace-nowrap umo-text-primary",style:{minHeight:"48px",padding:"8px"},children:[(0,l.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked),className:"mr-2",style:{minWidth:"20px",minHeight:"20px"}}),(0,l.jsx)("span",{className:"text-sm text-gray-700",children:"With moments only"})]})]})]}),o&&(0,l.jsxs)("div",{className:"mb-4 text-sm text-blue-600 flex items-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Loading moment counts..."]}),s&&(0,l.jsx)("div",{className:"mb-4 text-sm",children:n?(0,l.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),(0,l.jsxs)("span",{children:['Searching for "',t,'"...']})]}):(0,l.jsxs)("div",{className:"text-blue-600",children:["Found ",i,' performances matching "',t,'"']})})]})});H.displayName="PerformanceHeader";const W=(0,r.memo)(e=>{let{performances:t,momentCounts:n,onPerformanceSelect:r}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(e=>(0,l.jsx)(Q,{setlist:e,momentCount:n[e.id]||0,onSelect:()=>r(e)},e.id))})});W.displayName="PerformanceGrid";const Q=(0,r.memo)(e=>{var t,n;let{setlist:r,momentCount:a,onSelect:o}=e;const s=(null===(t=r.sets)||void 0===t||null===(n=t.set)||void 0===n?void 0:n.reduce((e,t)=>{var n;return e+((null===(n=t.song)||void 0===n?void 0:n.length)||0)},0))||0;return(0,l.jsxs)("button",{onClick:o,className:"performance-card mobile-touch-target",style:{padding:"1rem",minHeight:"80px",backgroundColor:"rgba(26, 26, 26, 0.95)",borderRadius:"12px",border:"1px solid rgba(64, 64, 64, 0.3)",textAlign:"left",width:"100%",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(184, 134, 11, 0.03)",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.2), 0 2px 6px rgba(184, 134, 11, 0.08)",e.target.style.borderColor="rgba(100, 100, 100, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(184, 134, 11, 0.03)",e.target.style.borderColor="rgba(64, 64, 64, 0.3)"},children:[(0,l.jsx)("div",{style:{fontWeight:"600",color:"rgba(245, 245, 220, 0.95)",marginBottom:"0.5rem",fontSize:"1rem",lineHeight:"1.4"},children:r.venue.name}),(0,l.jsxs)("div",{style:{fontSize:"0.875rem",color:"rgba(245, 245, 220, 0.8)",marginBottom:"0.25rem"},children:[r.venue.city.name,r.venue.city.country&&(0,l.jsxs)("span",{style:{color:"rgba(245, 245, 220, 0.6)"},children:[", ",r.venue.city.country.name]})]}),(0,l.jsx)("div",{style:{fontSize:"0.875rem",color:"rgba(160, 160, 160, 0.9)",fontWeight:"500",marginBottom:"0.5rem"},children:C(r.eventDate)}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(0,l.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(245, 245, 220, 0.7)"},children:[s," song",1!==s?"s":""]}),a>0?(0,l.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(16, 185, 129, 0.9)",fontWeight:"500"},children:[a," moment",1!==a?"s":""," uploaded"]}):(0,l.jsx)("div",{style:{fontSize:"0.75rem",color:"rgba(245, 245, 220, 0.5)"},children:"No moments yet"})]})]})});Q.displayName="PerformanceCard";const q=(0,r.memo)(e=>{let{isSearchMode:t,searchQuery:n,onClearSearch:r}=e;return(0,l.jsx)("div",{className:"text-center py-12 text-gray-500",children:t?(0,l.jsxs)(l.Fragment,{children:['No performances found matching "',n,'"',(0,l.jsx)("br",{}),(0,l.jsx)("button",{onClick:r,className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Show all performances"})]}):"No performances available"})});q.displayName="NoResultsState";const V=(0,r.memo)(e=>{let{loading:t,onClick:n,isSearchMode:r,searchQuery:a}=e;return(0,l.jsx)("div",{className:"flex justify-center mt-8",children:(0,l.jsx)("button",{onClick:n,disabled:t,className:"umo-btn px-6 py-3 transition-colors mobile-touch-target "+(t?"opacity-50 cursor-not-allowed":"umo-btn--secondary hover:umo-btn--primary"),style:{minHeight:"48px",minWidth:"200px"},children:t?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,l.jsx)("span",{children:"Loading more..."})]}):(0,l.jsx)("span",{children:r?"Load More Results":"Load More Performances"})})})});V.displayName="LoadMoreButton";const G=$,Y=(0,r.memo)(e=>{let{onSongSelect:t}=e;const{displayedSongs:n,loading:r,error:a,sortBy:s,sortDirection:i,momentProgress:c,searchQuery:d,showOnlyWithMoments:u,totalMoments:m,songsWithMoments:f,toggleSortDirection:p,clearSearch:h,handleSearchChange:g,handleSortChange:x,toggleShowOnlyWithMoments:b}=D(o);return r?(0,l.jsx)(K,{momentProgress:c}):a?(0,l.jsx)(J,{error:a}):(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)(X,{totalMoments:m,songsWithMoments:f,searchQuery:d,displayedSongs:n,showOnlyWithMoments:u,onSearchChange:g,onClearSearch:h,sortBy:s,sortDirection:i,onSortChange:x,onToggleSortDirection:p,onToggleShowOnlyWithMoments:b}),d.trim()&&(0,l.jsx)(Z,{searchQuery:d,resultCount:n.length,sortBy:s,onClearSearch:h}),(0,l.jsx)(ee,{songs:n,onSongSelect:t}),0===n.length&&!r&&(0,l.jsx)(ne,{searchQuery:d,onClearSearch:h})]})});Y.displayName="SongBrowser";const K=(0,r.memo)(e=>{let{momentProgress:t}=e;return(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsxs)("div",{className:"inline-flex flex-col items-center umo-text-secondary",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mb-3"}),(0,l.jsx)("div",{className:"text-lg font-medium mb-2 umo-text-primary",children:t.total>0?"Loading moment counts...":"Loading song database..."}),t.total>0&&(0,l.jsxs)("div",{className:"text-sm",children:[t.current," of ",t.total," songs processed",(0,l.jsx)("div",{className:"w-64 bg-gray-600 h-2 mt-2",style:{borderRadius:"4px"},children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 transition-all duration-300",style:{width:t.current/t.total*100+"%",borderRadius:"4px"}})})]})]})})})});K.displayName="LoadingState";const J=(0,r.memo)(e=>{let{error:t}=e;return(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"umo-card p-4",children:(0,l.jsxs)("p",{className:"umo-text-primary",children:["\u26a0\ufe0f ",t]})})})});J.displayName="ErrorState";const X=(0,r.memo)(e=>{let{totalMoments:t,songsWithMoments:n,searchQuery:r,displayedSongs:a,showOnlyWithMoments:o,onSearchChange:s,onClearSearch:i,sortBy:c,sortDirection:d,onSortChange:u,onToggleSortDirection:m,onToggleShowOnlyWithMoments:f}=e;return(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("h3",{className:"umo-heading umo-heading--lg",children:"Song Database"})}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm umo-text-primary cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:o,onChange:e=>f(e.target.checked),className:"border-gray-400",style:{minWidth:"20px",minHeight:"20px"}}),"Songs with moments only"]})}),(0,l.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,l.jsx)("input",{type:"text",value:r,onChange:s,placeholder:"Search songs, venues, or cities...",className:"umo-input w-full px-4 py-2 text-sm"}),(0,l.jsx)("div",{className:"absolute right-3 top-2 flex items-center gap-1",children:r&&(0,l.jsx)("button",{onClick:i,className:"umo-text-muted hover:umo-text-primary",title:"Clear search",style:{minWidth:"32px",minHeight:"32px",padding:"6px",fontSize:"18px"},children:"\xd7"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-sm font-medium umo-text-primary",children:"Sort:"}),(0,l.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"umo-select px-3 py-2 text-sm",children:[(0,l.jsx)("option",{value:"alphabetical",children:"Alphabetical"}),(0,l.jsx)("option",{value:"mostPerformed",children:"Most Performed"}),(0,l.jsx)("option",{value:"mostMoments",children:"Most Moments"}),(0,l.jsx)("option",{value:"lastPerformed",children:"Last Performed"}),(0,l.jsx)("option",{value:"firstPerformed",children:"First Performed"}),(0,l.jsx)("option",{value:"mostVenues",children:"Most Venues"})]}),(0,l.jsx)("button",{onClick:m,className:"umo-btn umo-btn--secondary px-3 py-2 text-sm",title:"Sort "+("asc"===d?"Descending":"Ascending"),children:"asc"===d?"\u2191":"\u2193"})]})]})]})});X.displayName="SongHeader";const Z=(0,r.memo)(e=>{let{searchQuery:t,resultCount:n,sortBy:r,onClearSearch:a}=e;return(0,l.jsx)("div",{className:"mb-4 text-sm",children:0===n?(0,l.jsxs)("div",{className:"umo-text-primary",children:['No songs found matching "',t,'"']}):(0,l.jsxs)("div",{className:"umo-text-primary",children:["Found ",n," song",1!==n?"s":"",' matching "',t,'"',"alphabetical"!==r&&(0,l.jsxs)("span",{className:"umo-text-muted",children:[" (sorted by ",r.replace(/([A-Z])/g," $1").toLowerCase(),")"]})]})})});Z.displayName="SearchResultsInfo";const ee=(0,r.memo)(e=>{let{songs:t,onSongSelect:n}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(e=>(0,l.jsx)(te,{song:e,onSelect:()=>n(e)},e.songName))})});ee.displayName="SongGrid";const te=(0,r.memo)(e=>{let{song:t,onSelect:n}=e;return(0,l.jsxs)("button",{onClick:n,className:"p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 hover:border-blue-300 text-left group",children:[(0,l.jsx)("div",{className:"font-medium text-gray-900 mb-3 line-clamp-2 leading-tight group-hover:text-blue-600 transition-colors",children:t.songName}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("span",{className:"text-blue-600 font-medium",children:[t.totalPerformances," show",1!==t.totalPerformances?"s":""]}),t.totalMoments>0?(0,l.jsxs)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full font-medium",children:[t.totalMoments," moment",1!==t.totalMoments?"s":""]}):(0,l.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-500 rounded-full",children:"No moments yet"})]}),(0,l.jsxs)("div",{className:"text-gray-500 text-xs",children:[t.venues.length," venue",1!==t.venues.length?"s":""," \u2022 ",t.cities.length," cit",1!==t.cities.length?"ies":"y"]}),(0,l.jsx)("div",{className:"text-gray-500 text-xs",children:t.firstPerformed===t.lastPerformed?(0,l.jsxs)("span",{children:["Only: ",C(t.lastPerformed)]}):(0,l.jsxs)("span",{children:[C(t.firstPerformed)," - ",C(t.lastPerformed)]})})]})]})});te.displayName="SongCard";const ne=(0,r.memo)(e=>{let{searchQuery:t,onClearSearch:n}=e;return(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:t.trim()?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd0d"}),(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No songs found"}),(0,l.jsxs)("p",{className:"mb-4",children:['No songs match your search "',t,'"']}),(0,l.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Search"})]}):"No songs found"})});ne.displayName="NoResultsState";const re=Y,ae=b("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),le=b("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),oe=b("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),se=(0,r.memo)(e=>{let{src:t,type:n="image",alt:a="",className:o="",style:s={},placeholder:i,onLoad:c,onError:d,autoPlay:u=!1,muted:m=!0,controls:f=!0,preload:p="metadata",adaptiveQuality:h=!0,mobileOptimized:g=!0,hoverToPlay:x=!1,...b}=e;const[y,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)("high"),[E,P]=(0,r.useState)(!1),[M,T]=(0,r.useState)(!1),z=(0,r.useRef)(null),A=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);(0,r.useEffect)(()=>{if("connection"in navigator){const e=navigator.connection,t=()=>{"4g"===e.effectiveType?C("high"):"3g"===e.effectiveType?C("medium"):C("low")};return t(),e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}},[]);(0,r.useEffect)(()=>{const e=new IntersectionObserver(t=>{const[n]=t;n.isIntersecting&&(k(!0),e.disconnect())},{threshold:.1,rootMargin:"50px 0px"});return z.current&&e.observe(z.current),()=>e.disconnect()},[]);const _=()=>{v(!0),j(!1),c&&c()},D=()=>{j(!0),v(!1),d&&d()},L=()=>{x&&"video"===n&&z.current&&(P(!0),z.current.play().catch(()=>{console.log("Hover play prevented, user interaction required")}))},O=()=>{x&&"video"===n&&z.current&&(P(!1),z.current.pause(),z.current.currentTime=0)},F=()=>{T(!0)},R=()=>{T(!1)},U=()=>i||(0,l.jsx)("div",{className:"flex items-center justify-center bg-gray-100",style:{width:"100%",height:"200px",...s},children:(0,l.jsx)("div",{className:"text-center",children:w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-gray-400 text-4xl mb-2",children:"video"===n?"\ud83d\udcf9":"\ud83d\uddbc\ufe0f"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Failed to load ",n]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Loading ",n,"..."]})]})})});return(0,l.jsx)("div",{ref:z,className:"lazy-media-container",children:(()=>{if(!N||!t)return U();if("video"===n){const e=(()=>{const e={playsInline:!0,webkit_playsinline:!0,"x5-video-player-type":"h5","x5-video-player-fullscreen":"true"};return g&&A?{...e,poster:"",preload:"low"===S?"none":p,controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0,crossOrigin:"anonymous"}:e})();return(0,l.jsxs)("div",{className:"relative",onMouseEnter:L,onMouseLeave:O,children:[!y&&!w&&U(),(0,l.jsx)("video",{ref:z,src:t,className:`${o} ${y?"opacity-100":"opacity-0"}`,style:{...s,transition:"opacity 0.3s ease",...A&&g&&{objectFit:"contain",width:"100%",height:"auto",maxHeight:"60vh"}},onLoadedData:_,onError:D,onPlay:F,onPause:R,onLoadStart:()=>{"low"===S&&u&&console.log("Slow network detected, reducing video quality")},onCanPlay:()=>{var e;A&&u&&m&&!x&&(null===(e=z.current)||void 0===e||e.play().catch(()=>{console.log("Autoplay prevented, user interaction required")}))},autoPlay:u&&"low"!==S&&!x,muted:m,controls:f&&!x,preload:e.preload,playsInline:e.playsInline,webkitPlaysinline:e.webkit_playsinline,x5VideoPlayerType:e["x5-video-player-type"],x5VideoPlayerFullscreen:e["x5-video-player-fullscreen"],controlsList:e.controlsList,disablePictureInPicture:e.disablePictureInPicture,crossOrigin:e.crossOrigin,...b,children:"Your browser does not support the video tag."}),x&&!M&&!E&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 transition-opacity",children:(0,l.jsx)("div",{className:"bg-white bg-opacity-90 rounded-full p-3",children:(0,l.jsx)(oe,{className:"w-6 h-6 text-gray-800"})})})]})}return(0,l.jsxs)("div",{className:"relative",children:[!y&&!w&&U(),(0,l.jsx)("img",{ref:z,src:t,alt:a,className:`${o} ${y?"opacity-100":"opacity-0"}`,style:{...s,transition:"opacity 0.3s ease"},onLoad:_,onError:D,loading:"lazy",...b})]})})()})});se.displayName="LazyMedia";const ie=se,ce=(0,r.memo)(e=>{var t;let{moment:n,onClose:a}=e;const{user:s}=i(),{isWeb3Enabled:c}=u(),[d,m]=(0,r.useState)(n);(0,r.useEffect)(()=>{m(n)},[n]);const f=d.contentType||"song",p="song"===f,h={song:{emoji:"\ud83c\udfb5",label:"Song Performance",showPerformanceStats:!0},intro:{emoji:"\ud83c\udfad",label:"Intro/Outro",showPerformanceStats:!1},jam:{emoji:"\ud83c\udfb8",label:"Jam/Improv",showPerformanceStats:!1},crowd:{emoji:"\ud83d\udc65",label:"Crowd Moment",showPerformanceStats:!1},other:{emoji:"\ud83c\udfaa",label:"Other Content",showPerformanceStats:!1}},g=h[f]||h.other,x=r.useMemo(()=>{if(!s||null===d||void 0===d||!d.user)return!1;return(s.id||s._id)===(d.user._id||d.user.id)},[s,d]),[b,w]=(0,r.useState)(null),[j,N]=(0,r.useState)(!0),[S,C]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1),[M,T]=(0,r.useState)(!1),[z,A]=(0,r.useState)(!1),[_,D]=(0,r.useState)(!1),[L,O]=(0,r.useState)(!1),[F,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=()=>{R(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const[U,$]=(0,r.useState)(!1),[I,B]=(0,r.useState)(!1),[H,W]=(0,r.useState)(!1),[Q,q]=(0,r.useState)(!1),[V,G]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(null===d||void 0===d||!d._id||!c())return w({hasNFTEdition:!1,isMintingActive:!1,nftData:null}),void N(!1);try{N(!0);const e=await fetch(`${o}/moments/${d._id}/nft-status`);if(e.ok){const t=await e.json();w(t)}else{const e={hasNFTEdition:!(!d.nftContractAddress||void 0===d.nftTokenId),isMintingActive:!1,nftData:null};w(e)}}catch(e){console.error("\u274c Error fetching NFT status:",e);const t={hasNFTEdition:!(!d.nftContractAddress||void 0===d.nftTokenId),isMintingActive:!1,nftData:null};w(t)}finally{N(!1)}})()},[d._id,d.nftContractAddress,d.nftTokenId,c]);const J=(null===b||void 0===b?void 0:b.hasNFTEdition)||!1,X=()=>{try{window.open(d.mediaUrl,"_blank","noopener,noreferrer")}catch(e){console.error("Download error:",e),alert("Failed to open file. Please try again.")}},Z=(()=>{const e=d.rarityTier||"basic",t=d.rarityScore||0;return{...{legendary:{emoji:"\ud83c\udf1f",color:"#FFD700",bgColor:"#FFFBEE",name:"Legendary"},mythic:{emoji:"\ud83d\udd2e",color:"#8B5CF6",bgColor:"#F3F0FF",name:"Mythic"},epic:{emoji:"\ud83d\udc8e",color:"#9B59B6",bgColor:"#F4F1FF",name:"Epic"},rare:{emoji:"\ud83d\udd25",color:"#E74C3C",bgColor:"#FFEBEE",name:"Rare"},uncommon:{emoji:"\u2b50",color:"#3498DB",bgColor:"#E3F2FD",name:"Uncommon"},common:{emoji:"\ud83d\udcc0",color:"#95A5A6",bgColor:"#F5F5F5",name:"Common"},basic:{emoji:"\u26aa",color:"#BDC3C7",bgColor:"#F8F9FA",name:"Basic"}}[e],score:t,tier:e,percentage:Math.round(t/6*100)}})(),ee=(()=>{const e=d.rarityScore||0,t=(d.fileSize||0)/1048576;let n=0;n=t>=500?2:t>=100?1.5:t>=50?1:t>=10?.5:.2;let r=0;if(p){const e=d.songTotalPerformances||0;r=e<=10?2:e<=50?1.5:e<=100?1:e<=200?.7:.4}else{r={jam:1.8,intro:1.2,outro:1.2,crowd:1,other:.8}[f]||1}const a=[d.momentDescription,d.emotionalTags,d.specialOccasion,d.instruments,d.crowdReaction,d.uniqueElements],l=a.filter(e=>e&&e.trim().length>0).length,o=l/a.length*2;return{factors:{fileSize:{score:n.toFixed(1),label:"File Size",description:`${Math.round(t)}MB file quality`},rarity:{score:r.toFixed(1),label:p?"Song Rarity":"Content Rarity",description:p?`${d.songTotalPerformances||0} live performances`:`${f} content type`},metadata:{score:o.toFixed(1),label:"Metadata Quality",description:`${l}/6 fields completed (${Math.round(l/6*100)}%)`}},totalScore:e.toFixed(1),maxPossible:"6.0"}})();return(0,r.useEffect)(()=>{const e=document.body.style.overflow,t=document.body.style.position,n=document.body.style.top,r=document.body.style.left,a=document.body.style.right,l=document.body.style.width,o=document.body.style.height;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="0",document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.body.style.height="100%";const s=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",window.scrollTo(0,0),()=>{document.body.style.overflow=e,document.body.style.position=t,document.body.style.top=n,document.body.style.left=r,document.body.style.right=a,document.body.style.width=l,document.body.style.height=o,document.documentElement.style.overflow=s}},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"modal-overlay "+(F?"mobile":""),onClick:a,children:[(0,l.jsxs)("div",{className:`trading-card-modal ${Y?"with-side-panel":""} ${F?"mobile-modal":""}`,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"card-header",style:{background:`linear-gradient(135deg, ${Z.color} 0%, #1d4ed8 100%)`},children:[(0,l.jsxs)("div",{className:"card-title-section",children:[(0,l.jsx)("h2",{className:"card-title",children:d.songName}),(0,l.jsxs)("p",{className:"card-subtitle",children:[d.venueName," \u2022 ",d.venueCity,d.venueCountry&&`, ${d.venueCountry}`]}),(0,l.jsx)("p",{className:"card-date",children:d.performanceDate})]}),(0,l.jsxs)("div",{className:"card-controls",children:[c()&&(J||x)&&(0,l.jsx)("button",{onClick:()=>K(!Y),className:"nft-toggle-button "+(Y?"active":""),title:Y?"Close Controls":"Open Controls",children:Y?"Close":J?"Controls":"Launch Token"}),(0,l.jsx)("button",{onClick:a,className:"close-button",children:"\u2715"})]})]}),(0,l.jsxs)("div",{className:"modal-content-container",children:[(0,l.jsxs)("div",{className:"main-content",children:[(0,l.jsx)("div",{className:"card-media",children:(()=>{var e,t;const n="video"===d.mediaType||(null===(e=d.fileName)||void 0===e?void 0:e.toLowerCase().match(/\.(mov|mp4|webm)$/)),r="image"===d.mediaType||(null===(t=d.fileName)||void 0===t?void 0:t.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp)$/));return n?(0,l.jsxs)("div",{className:"media-container relative",children:[(0,l.jsx)(ie,{type:"video",src:d.mediaUrl,className:"media-element w-full",style:{maxHeight:"500px",width:"100%",borderRadius:"8px",backgroundColor:"#000",objectFit:"contain"},controls:!0,autoPlay:!1,muted:!0,preload:"none",playsInline:!0,onLoad:()=>{q(!0),G(!1)},onError:()=>{G(!0),q(!1)},placeholder:(0,l.jsx)("div",{className:"media-loading flex items-center justify-center",style:{height:"300px"},children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Loading video..."})]})})}),V&&(0,l.jsxs)("div",{className:"media-error mt-2 text-center",children:[(0,l.jsx)("p",{className:"text-sm text-red-600 mb-2",children:"Unable to load video preview"}),(0,l.jsx)("button",{onClick:X,className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"Click here to download and view externally"})]})]}):r?(0,l.jsxs)("div",{className:"media-container relative",children:[(0,l.jsx)(ie,{type:"image",src:d.mediaUrl,alt:d.fileName||"Moment media",className:"media-element w-full",style:{maxHeight:"300px",objectFit:"contain",borderRadius:"8px"},onLoad:()=>{W(!0),G(!1)},onError:()=>{G(!0),W(!1)},placeholder:(0,l.jsx)("div",{className:"media-loading flex items-center justify-center",style:{height:"300px"},children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Loading image..."})]})})}),V&&(0,l.jsxs)("div",{className:"media-error mt-2 text-center",children:[(0,l.jsx)("p",{className:"text-sm text-red-600 mb-2",children:"Unable to load image preview"}),(0,l.jsx)("button",{onClick:X,className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"Click here to download and view externally"})]})]}):(0,l.jsx)("div",{className:"media-container audio-placeholder",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udfb5"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:d.fileName}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:[d.fileSize?k(d.fileSize):"Unknown size"," \u2022 ",d.mediaType||"Audio"]}),(0,l.jsx)("button",{onClick:X,className:"text-blue-600 hover:text-blue-800 underline",children:"Click here to download and play"})]})})})()}),(0,l.jsxs)("div",{className:"metadata-panel",children:[(0,l.jsx)("div",{className:"metadata-header",children:(0,l.jsxs)("button",{onClick:()=>B(!I),className:"content-details-toggle",children:[(0,l.jsx)("h3",{children:"Content Details"}),I?(0,l.jsx)(y,{size:20}):(0,l.jsx)(v,{size:20})]})}),I&&(0,l.jsxs)("div",{className:"metadata-content-wrapper",children:[(0,l.jsxs)("div",{className:"metadata-toggles",children:[(0,l.jsxs)("button",{onClick:()=>T(!M),className:"toggle-button",children:[Z.name," ",Z.emoji," ",M?"\u25bc":"\u25b6"]}),(0,l.jsxs)("button",{onClick:()=>A(!z),className:"toggle-button",children:["Basic Info ",z?"\u25bc":"\u25b6"]}),(0,l.jsxs)("button",{onClick:()=>D(!_),className:"toggle-button",children:["Details ",_?"\u25bc":"\u25b6"]}),!F&&(0,l.jsxs)("button",{onClick:()=>O(!L),className:"toggle-button",children:["File Details ",L?"\u25bc":"\u25b6"]}),(0,l.jsxs)("button",{onClick:()=>$(!U),className:"toggle-button",children:["Empty Fields ",U?"\u25bc":"\u25b6"]})]}),(0,l.jsxs)("div",{className:"metadata-content",children:[M&&(0,l.jsxs)("div",{className:"metadata-group",children:[(0,l.jsxs)("div",{className:"rarity-section-header",children:[(0,l.jsx)("h4",{children:"Rarity Details"}),(0,l.jsx)("button",{onClick:()=>P(!0),className:"info-button-inline",title:"Learn about the rarity system",children:"\u2139\ufe0f"})]}),(0,l.jsxs)("div",{className:"rarity-breakdown-detailed",children:[(0,l.jsxs)("div",{className:"rarity-total",children:[(0,l.jsx)("span",{className:"rarity-total-label",children:"Score:"}),(0,l.jsxs)("span",{className:"rarity-total-value",children:[ee.totalScore,"/",ee.maxPossible]})]}),(0,l.jsx)("div",{className:"rarity-explanations",children:Object.entries(ee.factors).map(e=>{let[t,n]=e;return(0,l.jsxs)("div",{className:"factor-explanation",children:[(0,l.jsxs)("strong",{children:[n.label,":"]})," ",n.score," pts - ",n.description]},t)})})]})]}),z&&(0,l.jsxs)("div",{className:"metadata-group",children:[(0,l.jsx)("h4",{children:"Basic Information"}),(0,l.jsxs)("div",{className:"metadata-grid",children:[(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsx)("span",{className:"metadata-label",children:"Content Type:"}),(0,l.jsxs)("span",{className:"metadata-value",children:[g.emoji," ",g.label]})]}),p&&d.setName&&(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsx)("span",{className:"metadata-label",children:"Set:"}),(0,l.jsx)("span",{className:"metadata-value",children:d.setName})]}),(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsx)("span",{className:"metadata-label",children:"Type:"}),(0,l.jsx)("span",{className:"metadata-value",children:d.momentType||"Performance"})]})]})]}),_&&(0,l.jsxs)("div",{className:"metadata-group",children:[(0,l.jsx)("h4",{children:"Details"}),d.momentDescription&&(0,l.jsx)("p",{className:"metadata-description",children:d.momentDescription}),(()=>{const e=[{key:"emotionalTags",label:"Mood",value:d.emotionalTags},{key:"specialOccasion",label:"Special Occasion",value:d.specialOccasion},{key:"crowdReaction",label:"Crowd Reaction",value:d.crowdReaction},{key:"uniqueElements",label:"Unique Elements",value:d.uniqueElements}];(p||"jam"===f)&&e.splice(2,0,{key:"instruments",label:"Instruments",value:d.instruments});const t=e.filter(e=>e.value&&e.value.trim().length>0),n=e.filter(e=>{const t=d[e.key];return!t||0===t.trim().length});return t.length>0||U&&n.length>0?(0,l.jsxs)("div",{className:"metadata-grid",style:{marginTop:d.momentDescription?"1rem":"0"},children:[t.map(e=>(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsxs)("span",{className:"metadata-label",children:[e.label,":"]}),(0,l.jsx)("span",{className:"metadata-value",children:e.value})]},e.key)),U&&n.map(e=>(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsxs)("span",{className:"metadata-label",children:[e.label,":"]}),(0,l.jsx)("span",{className:"metadata-value",children:(0,l.jsx)("em",{className:"text-gray-400",children:"Not specified"})})]},e.key))]}):null})()]}),L&&!F&&(0,l.jsxs)("div",{className:"metadata-group",children:[(0,l.jsx)("h4",{children:"File Information"}),(0,l.jsxs)("div",{className:"metadata-grid",children:[(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsx)("span",{className:"metadata-label",children:"File Size:"}),(0,l.jsx)("span",{className:"metadata-value",children:d.fileSize?k(d.fileSize):"Unknown"})]}),(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsx)("span",{className:"metadata-label",children:"Media Type:"}),(0,l.jsx)("span",{className:"metadata-value",children:d.mediaType||"Unknown"})]}),(0,l.jsxs)("div",{className:"metadata-item",children:[(0,l.jsx)("span",{className:"metadata-label",children:"Filename:"}),(0,l.jsx)("span",{className:"metadata-value",children:d.fileName||"Unknown"})]})]})]})]})]})]}),(0,l.jsxs)("div",{className:"card-footer",children:[(0,l.jsx)("div",{className:"uploader-info",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(ae,{size:12}),(0,l.jsxs)("span",{className:"uploader-text",children:["Added by ",(null===(t=d.user)||void 0===t?void 0:t.displayName)||"Anonymous"]}),(0,l.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(le,{size:12}),(0,l.jsx)("span",{className:"timestamp-text",children:(()=>{const e=new Date(d.createdAt),t=new Date,n=Math.floor((t-e)/864e5);return 0===n?"Today":1===n?"Yesterday":n<7?`${n} days ago`:n<30?`${Math.floor(n/7)} weeks ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:e.getFullYear()!==t.getFullYear()?"numeric":void 0})})()})]})]})}),(0,l.jsx)("div",{className:"download-section",children:(0,l.jsx)("button",{onClick:X,className:"download-link",children:"Click here to download"})})]})]})," ",c()&&Y&&(0,l.jsxs)("div",{className:"nft-side-panel",children:[(0,l.jsxs)("div",{className:"nft-panel-header",children:[(0,l.jsx)("h3",{children:"Controls"}),(0,l.jsx)("button",{onClick:()=>K(!1),className:"panel-close-button",children:"\u2715"})]}),(0,l.jsx)("div",{className:"nft-panel-content",children:(0,l.jsx)("div",{className:"p-4 text-center text-gray-500",children:(0,l.jsx)("p",{children:"Web3 features not available in King Gizzard Archive"})})})]})]})," "]}),E&&(0,l.jsx)("div",{className:"rarity-info-overlay",onClick:()=>P(!1),children:(0,l.jsxs)("div",{className:"rarity-info-modal",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"rarity-info-header",children:[(0,l.jsx)("h3",{children:"\u26a1 Super Simple 3-Factor Rarity"}),(0,l.jsx)("button",{onClick:()=>P(!1),className:"rarity-info-close",children:"\u2715"})]}),(0,l.jsxs)("div",{className:"rarity-info-content",children:[(0,l.jsx)("div",{className:"rarity-intro",children:(0,l.jsxs)("p",{style:{backgroundColor:"#1A1A1A",padding:"12px",borderRadius:"8px",border:"1px solid #4A0E0E",color:"#F5F5DC",fontSize:"14px",marginBottom:"20px",fontWeight:"500"},children:["\u26a1 ",(0,l.jsx)("strong",{children:"Ultra Simple:"})," Just 3 factors, 6 metadata fields, 0-6 points total. Clean and fair for everyone!"]})}),(0,l.jsxs)("div",{className:"rarity-criterion",children:[(0,l.jsx)("h4",{children:"\ud83d\udcc1 Factor 1: File Size Quality (0-2 points)"}),(0,l.jsx)("p",{children:"Larger files typically mean better quality recordings"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"2.0 points:"})," 500MB+ (excellent quality)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"1.5 points:"})," 100-500MB (great quality)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"1.0 points:"})," 50-100MB (good quality)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"0.5 points:"})," 10-50MB (decent quality)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"0.2 points:"})," Under 10MB (basic quality)"]})]})]}),(0,l.jsxs)("div",{className:"rarity-criterion",children:[(0,l.jsx)("h4",{children:"\ud83c\udfb5 Factor 2: Song/Content Rarity (0-2 points)"}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"For Songs:"})," Based on how often performed live"]}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"2.0 points:"})," 1-10 performances (ultra rare)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"1.5 points:"})," 11-50 performances (rare)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"1.0 points:"})," 51-100 performances (uncommon)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"0.7 points:"})," 101-200 performances (common)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"0.4 points:"})," 200+ performances (very common)"]})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"For Other Content:"})," Based on content type rarity"]}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"1.8 points:"})," Jams/Improvisations"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"1.2 points:"})," Intros/Outros"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"1.0 points:"})," Crowd Moments"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"0.8 points:"})," Other Content"]})]})]}),(0,l.jsxs)("div",{className:"rarity-criterion",children:[(0,l.jsx)("h4",{children:"\ud83d\udcdd Factor 3: Metadata Completeness (0-2 points)"}),(0,l.jsx)("p",{children:"Based on how much detail you provided (6 total fields)"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Description:"})," What happens in this moment"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Emotional Tags:"})," Mood and energy"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Special Occasion:"})," Birthday, encore, etc."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Instruments:"})," Featured instruments"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Crowd Reaction:"})," How the audience responded"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Unique Elements:"})," Special circumstances"]})]}),(0,l.jsx)("p",{children:(0,l.jsx)("em",{children:"Score = (filled fields \xf7 6) \xd7 2 points"})})]}),(0,l.jsxs)("div",{className:"rarity-criterion",children:[(0,l.jsx)("h4",{children:"\ud83c\udfc5 7-Tier Rarity System (0-6 points total)"}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"8px",margin:"12px 0"},children:[{name:"Legendary",emoji:"\ud83c\udf1f",range:"5.5-6.0",color:"#FFD700"},{name:"Mythic",emoji:"\ud83d\udd2e",range:"4.8-5.4",color:"#8B5CF6"},{name:"Epic",emoji:"\ud83d\udc8e",range:"4.0-4.7",color:"#9B59B6"},{name:"Rare",emoji:"\ud83d\udd25",range:"3.2-3.9",color:"#E74C3C"},{name:"Uncommon",emoji:"\u2b50",range:"2.4-3.1",color:"#3498DB"},{name:"Common",emoji:"\ud83d\udcc0",range:"1.6-2.3",color:"#95A5A6"},{name:"Basic",emoji:"\u26aa",range:"0-1.5",color:"#BDC3C7"}].map(e=>(0,l.jsxs)("div",{style:{padding:"8px",border:`2px solid ${e.color}`,borderRadius:"6px",textAlign:"center",fontSize:"12px",backgroundColor:"#1A1A1A"},children:[(0,l.jsx)("div",{style:{fontSize:"16px",marginBottom:"4px"},children:e.emoji}),(0,l.jsx)("div",{style:{fontWeight:"bold",color:e.color},children:e.name}),(0,l.jsxs)("div",{style:{color:"#F5F5DC"},children:[e.range," pts"]})]},e.name))})]}),(0,l.jsxs)("div",{className:"rarity-criterion",children:[(0,l.jsx)("h4",{children:"\u2728 What's Different"}),(0,l.jsxs)("div",{style:{backgroundColor:"#1A1A1A",border:"1px solid #4A0E0E",borderRadius:"8px",padding:"12px",color:"#F5F5DC"},children:[(0,l.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:"bold",color:"#B8860B"},children:"\u26a1 Ultra Simplified:"}),(0,l.jsxs)("ul",{style:{margin:0,paddingLeft:"16px"},children:[(0,l.jsx)("li",{children:"\u2705 Only 3 factors (was 4)"}),(0,l.jsx)("li",{children:"\u2705 Only 6 metadata fields (was 8)"}),(0,l.jsx)("li",{children:"\u2705 0-6 points scale (was 0-7)"}),(0,l.jsx)("li",{children:'\u274c Removed "first at event" bonus'}),(0,l.jsx)("li",{children:"\u274c Removed guest appearances field"}),(0,l.jsx)("li",{children:"\u274c Removed personal note field"}),(0,l.jsx)("li",{children:"\u274c Removed song position field"}),(0,l.jsx)("li",{children:"\ud83c\udfaf Focus on quality + completeness only"})]})]})]})]})]})}),(0,l.jsx)("style",{jsx:!0,children:"\n          .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background-color: rgba(0, 0, 0, 0.4);\n            z-index: 99999;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            overflow-y: auto;\n            backdrop-filter: blur(10px);\n            -webkit-backdrop-filter: blur(10px);\n            /* Force consistent positioning */\n            width: 100vw;\n            height: 100vh;\n            margin: 0;\n            transform: none;\n          }\n\n          .trading-card-modal {\n            background: none !important;\n            backdrop-filter: blur(30px) brightness(1.1);\n            -webkit-backdrop-filter: blur(30px) brightness(1.1);\n            border-radius: 16px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n            border: 2px solid rgba(220, 38, 127, 0.8);\n            max-width: 900px;\n            width: 90%;\n            max-height: 90vh;\n            overflow-y: auto;\n            position: relative;\n            margin: auto;\n            /* Force consistent positioning regardless of context */\n            transform: none;\n            top: auto;\n            left: auto;\n            right: auto;\n            bottom: auto;\n          }\n\n          @media (max-width: 1024px) {\n            .trading-card-modal {\n              max-width: 700px;\n              width: 85%;\n            }\n          }\n          \n          @media (max-width: 640px) {\n            .trading-card-modal {\n              max-width: 95vw;\n              width: 95%;\n              max-height: 90vh;\n              margin: 1rem 0.5rem;\n              overflow-y: auto;\n              -webkit-overflow-scrolling: touch;\n            }\n            .modal-overlay {\n              padding: 2rem 0;\n              align-items: flex-start;\n              justify-content: center;\n            }\n          }\n\n          .card-header {\n            color: white;\n            padding: 1.5rem;\n            border-radius: 14px 14px 0 0;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n          }\n\n          @media (max-width: 640px) {\n            .card-header {\n              padding: 1rem;\n            }\n          }\n\n          .card-title-section {\n            flex: 1;\n          }\n\n          .content-type-badge {\n            backgroundColor: rgba(255,255,255,0.2);\n            color: white;\n            padding: 4px 8px;\n            borderRadius: 12px;\n            fontSize: 12px;\n            marginBottom: 8px;\n            display: inline-block;\n            font-weight: 500;\n          }\n\n          .rarity-badge-container {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            margin-bottom: 0.75rem;\n          }\n\n          .rarity-badge {\n            display: inline-flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.25rem 0.75rem;\n            border-radius: 12px;\n            font-size: 0.75rem;\n            font-weight: 600;\n            border: 1px solid rgba(255,255,255,0.3);\n            transition: all 0.2s ease;\n          }\n\n          .rarity-badge.clickable:hover {\n            transform: translateY(-1px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n            border-color: rgba(255,255,255,0.5);\n          }\n\n          .rarity-arrow {\n            font-size: 0.7rem;\n            opacity: 0.8;\n          }\n\n          .rarity-controls {\n            display: flex;\n            gap: 0.25rem;\n            align-items: center;\n          }\n\n          .card-title {\n            font-size: 1.5rem;\n            font-weight: bold;\n            margin: 0 0 0.5rem 0;\n            line-height: 1.2;\n          }\n\n          @media (max-width: 640px) {\n            .card-title {\n              font-size: 1.25rem;\n            }\n          }\n\n          .card-subtitle {\n            font-size: 0.9rem;\n            opacity: 0.9;\n            margin: 0 0 0.25rem 0;\n          }\n\n          .card-date {\n            font-size: 0.8rem;\n            opacity: 0.8;\n            margin: 0;\n          }\n\n          .song-performances-detail {\n            font-size: 0.85rem;\n            color: #4b5563;\n            margin: 0.5rem 0;\n            font-weight: 500;\n            padding: 0.5rem;\n            background: rgba(249, 250, 251, 0.8);\n            border-radius: 6px;\n            border-left: 3px solid #3b82f6;\n          }\n\n          .card-controls {\n            display: flex;\n            gap: 0.5rem;\n            margin-left: 1rem;\n          }\n\n          .close-button {\n            background: rgba(255, 255, 255, 0.2);\n            border: none;\n            color: white;\n            width: 32px;\n            height: 32px;\n            border-radius: 8px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.9rem;\n            transition: all 0.2s ease;\n          }\n\n          .close-button:hover {\n            background: rgba(255, 255, 255, 0.3);\n            transform: scale(1.05);\n          }\n\n          .nft-toggle-button {\n            background: rgba(255, 255, 255, 0.2);\n            border: 1px solid rgba(255, 255, 255, 0.3);\n            color: white;\n            padding: 0.5rem 0.75rem;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 0.8rem;\n            font-weight: 500;\n            transition: all 0.2s ease;\n            backdrop-filter: blur(4px);\n          }\n\n          .nft-toggle-button:hover {\n            background: rgba(255, 255, 255, 0.3);\n            border-color: rgba(255, 255, 255, 0.5);\n            transform: translateY(-1px);\n          }\n\n          .nft-toggle-button.active {\n            background: rgba(255, 255, 255, 0.4);\n            border-color: rgba(255, 255, 255, 0.6);\n          }\n\n          .modal-content-container {\n            display: flex;\n            min-height: 0;\n            flex: 1;\n            background: transparent;\n          }\n\n          .trading-card-modal.with-side-panel {\n            max-width: 900px;\n          }\n\n          .main-content {\n            flex: 1;\n            min-width: 0;\n            background: transparent;\n          }\n\n          .nft-side-panel {\n            width: 360px;\n            background: rgba(248, 250, 252, 0.8);\n            border-left: 1px solid rgba(226, 232, 240, 0.5);\n            display: flex;\n            flex-direction: column;\n            max-height: calc(90vh - 120px);\n            overflow-y: auto;\n          }\n\n          .nft-panel-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 1rem;\n            border-bottom: 1px solid #e2e8f0;\n            background: transparent;\n          }\n\n          .nft-panel-header h3 {\n            margin: 0;\n            font-size: 1rem;\n            font-weight: 600;\n            color: #1f2937;\n          }\n\n          .panel-close-button {\n            background: rgba(243, 244, 246, 0.8);\n            border: 1px solid rgba(209, 213, 219, 0.5);\n            color: #6b7280;\n            width: 28px;\n            height: 28px;\n            border-radius: 6px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.9rem;\n            transition: all 0.2s ease;\n          }\n\n          .panel-close-button:hover {\n            background: #e5e7eb;\n            color: #374151;\n          }\n\n          .nft-panel-content {\n            flex: 1;\n            padding: 1rem;\n            overflow-y: auto;\n          }\n\n          @media (max-width: 768px) {\n            .trading-card-modal.with-side-panel {\n              max-width: 95vw;\n              flex-direction: column;\n            }\n\n            .nft-side-panel {\n              width: 100%;\n              max-height: 50vh;\n              border-left: none;\n              border-top: 1px solid #e2e8f0;\n            }\n          }\n\n          .rarity-section {\n            padding: 1rem 1.5rem;\n            background: transparent;\n            border-bottom: none;\n          }\n\n          .rarity-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n\n          .rarity-header h4 {\n            font-size: 0.9rem;\n            font-weight: 600;\n            color: #374151;\n            margin: 0;\n          }\n\n          .rarity-controls {\n            display: flex;\n            gap: 0.5rem;\n            align-items: center;\n          }\n\n          .toggle-button {\n            background: #e5e7eb;\n            border: 1px solid #d1d5db;\n            color: #374151;\n            padding: 0.25rem 0.5rem;\n            border-radius: 6px;\n            font-size: 0.75rem;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n\n          .toggle-button:hover {\n            background: #d1d5db;\n          }\n\n          .info-button {\n            background: #e5e7eb;\n            border: none;\n            border-radius: 50%;\n            width: 24px;\n            height: 24px;\n            cursor: pointer;\n            font-size: 0.8rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            transition: all 0.2s ease;\n          }\n\n          .info-button:hover {\n            background: #d1d5db;\n            transform: scale(1.1);\n          }\n          \n          .info-button-inline {\n            background: #e5e7eb;\n            border: none;\n            border-radius: 50%;\n            width: 20px;\n            height: 20px;\n            cursor: pointer;\n            font-size: 0.7rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            transition: all 0.2s ease;\n            margin-left: 0.5rem;\n          }\n          \n          .info-button-inline:hover {\n            background: #d1d5db;\n            transform: scale(1.1);\n          }\n          \n          .rarity-section-header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          }\n\n          .rarity-breakdown-detailed {\n            padding-top: 0.75rem;\n            border-top: 1px solid #e5e7eb;\n            margin-top: 0.75rem;\n          }\n\n          .rarity-total {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0.5rem;\n            background: rgba(59, 130, 246, 0.1);\n            border-radius: 6px;\n            border-left: 3px solid #3b82f6;\n            margin-bottom: 0.75rem;\n          }\n\n          .rarity-total-label {\n            font-weight: 600;\n            color: #1e40af;\n            font-size: 0.9rem;\n          }\n\n          .rarity-total-value {\n            font-weight: 700;\n            color: #1e40af;\n            font-size: 1rem;\n          }\n\n          .rarity-explanations {\n            display: flex;\n            flex-direction: column;\n            gap: 0.25rem;\n          }\n\n          .factor-explanation {\n            font-size: 0.75rem;\n            color: #6b7280;\n            padding: 0.2rem 0;\n          }\n\n          .card-media {\n            padding: 1rem;\n            background: transparent;\n            border-bottom: none;\n            position: relative;\n            max-height: 550px;\n            overflow: hidden;\n          }\n\n          .media-container {\n            position: relative;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n          }\n          \n          .media-container video {\n            max-width: 100%;\n            height: auto;\n          }\n\n          .metadata-panel {\n            padding: 1.5rem;\n            background: transparent;\n            border-bottom: none;\n          }\n\n          .metadata-header {\n            margin-bottom: 1rem;\n          }\n\n          .content-details-toggle {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            width: 100%;\n            background: transparent;\n            border: none;\n            padding: 0.75rem;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            background: rgba(248, 250, 252, 0.8);\n            border: 1px solid rgba(226, 232, 240, 0.5);\n          }\n\n          .content-details-toggle:hover {\n            background: rgba(241, 245, 249, 0.9);\n            border-color: rgba(209, 213, 219, 0.7);\n          }\n\n          .content-details-toggle h3 {\n            font-size: 1.1rem;\n            font-weight: 600;\n            color: #1f2937;\n            margin: 0;\n          }\n\n          .metadata-content-wrapper {\n            padding-top: 1rem;\n          }\n\n          .metadata-toggles {\n            display: flex;\n            gap: 0.5rem;\n            flex-wrap: wrap;\n          }\n\n          .metadata-content {\n            display: flex;\n            flex-direction: column;\n            gap: 1rem;\n          }\n\n          .metadata-group h4 {\n            font-size: 0.9rem;\n            font-weight: 600;\n            color: #374151;\n            margin: 0 0 0.5rem 0;\n            padding-bottom: 0.25rem;\n            border-bottom: 1px solid #e5e7eb;\n          }\n\n          .metadata-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n            gap: 0.75rem;\n          }\n\n          .metadata-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0.25rem 0;\n          }\n\n          .metadata-label {\n            font-size: 0.8rem;\n            color: #6b7280;\n            font-weight: 500;\n            min-width: 0;\n            margin-right: 0.5rem;\n          }\n\n          .metadata-value {\n            font-size: 0.8rem;\n            color: #1f2937;\n            text-align: right;\n            min-width: 0;\n            word-break: break-word;\n          }\n\n          .metadata-description {\n            font-size: 0.85rem;\n            color: #4b5563;\n            line-height: 1.5;\n            margin: 0 0 0.5rem 0;\n            padding: 0.5rem;\n            background: rgba(249, 250, 251, 0.8);\n            border-radius: 6px;\n            border-left: 3px solid #e5e7eb;\n          }\n\n          .card-footer {\n            border-top: 1px solid rgba(226, 232, 240, 0.5);\n            padding: 1rem 1.5rem;\n            background: rgba(248, 250, 252, 0.8);\n            border-radius: 0 0 14px 14px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            flex-wrap: wrap;\n            gap: 1rem;\n          }\n\n          .uploader-info {\n            flex: 1;\n          }\n\n          .uploader-text {\n            color: #6b7280;\n            font-size: 0.8rem;\n          }\n\n          .timestamp-text {\n            color: #6b7280;\n            font-size: 0.8rem;\n          }\n\n          .download-section {\n            flex: 1;\n            text-align: right;\n          }\n\n          .download-link {\n            background: none;\n            border: none;\n            color: #3b82f6;\n            text-decoration: underline;\n            cursor: pointer;\n            font-size: 0.85rem;\n            padding: 0;\n          }\n\n          .download-link:hover {\n            color: #1d4ed8;\n          }\n\n          .rarity-info-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background-color: rgba(0, 0, 0, 0.9);\n            z-index: 999999;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n          }\n\n          .rarity-info-modal {\n            background: var(--void-black, #0A0A0A);\n            border: 1px solid var(--crimson-wine, #4A0E0E);\n            border-radius: 12px;\n            max-width: 600px;\n            width: 100%;\n            max-height: 80vh;\n            overflow-y: auto;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.8);\n            color: var(--bone-white, #F5F5DC);\n          }\n\n          .rarity-info-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 1.5rem;\n            border-bottom: 1px solid #e5e7eb;\n            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n            color: white;\n            border-radius: 12px 12px 0 0;\n          }\n\n          .rarity-info-header h3 {\n            margin: 0;\n            font-size: 1.2rem;\n            font-weight: 600;\n          }\n\n          .rarity-info-close {\n            background: rgba(255, 255, 255, 0.2);\n            border: none;\n            color: white;\n            width: 32px;\n            height: 32px;\n            border-radius: 6px;\n            cursor: pointer;\n            font-size: 1rem;\n            transition: all 0.2s ease;\n          }\n\n          .rarity-info-close:hover {\n            background: rgba(255, 255, 255, 0.3);\n          }\n\n          .rarity-info-content {\n            padding: 1.5rem;\n            background: var(--void-black, #0A0A0A);\n            color: var(--bone-white, #F5F5DC);\n          }\n\n          .rarity-criterion {\n            margin-bottom: 1.5rem;\n            padding-bottom: 1rem;\n            border-bottom: 1px solid var(--shadow-gray, #1A1A1A);\n          }\n          \n          .rarity-criterion h4 {\n            color: var(--doom-orange, #B8860B);\n            text-shadow: 0 0 5px rgba(184, 134, 11, 0.5);\n          }\n          \n          .rarity-criterion p {\n            color: var(--bone-white, #F5F5DC);\n          }\n          \n          .rarity-criterion ul {\n            color: var(--bone-white, #F5F5DC);\n          }\n          \n          .rarity-criterion ul li {\n            margin-bottom: 4px;\n          }\n\n          .rarity-criterion:last-child {\n            border-bottom: none;\n          }\n\n          .rarity-criterion h4 {\n            color: #1f2937;\n            font-size: 1rem;\n            font-weight: 600;\n            margin: 0 0 0.5rem 0;\n          }\n\n          .rarity-criterion p {\n            color: #4b5563;\n            font-size: 0.9rem;\n            margin: 0 0 0.5rem 0;\n          }\n\n          .rarity-criterion ul {\n            margin: 0;\n            padding-left: 1.5rem;\n            color: #6b7280;\n            font-size: 0.85rem;\n          }\n\n          .rarity-criterion li {\n            margin-bottom: 0.25rem;\n          }\n\n          /* Mobile-specific styles - ENHANCED for consistency */\n          .modal-overlay.mobile {\n            padding: 0;\n            align-items: center;\n            justify-content: center;\n            /* Override for mobile to center instead of bottom */\n          }\n\n          .trading-card-modal.mobile-modal {\n            width: 95%;\n            max-width: 95%;\n            max-height: 85vh;\n            margin: 2rem auto;\n            border-radius: 12px;\n            transform: none;\n            animation: none;\n            position: relative;\n            overflow-y: auto;\n            -webkit-overflow-scrolling: touch;\n            top: auto;\n            left: auto;\n            right: auto;\n            bottom: auto;\n          }\n\n          @keyframes slideUpMobile {\n            from {\n              transform: translateY(100%);\n            }\n            to {\n              transform: translateY(0);\n            }\n          }\n\n          @media (max-width: 768px) {\n            .card-header {\n              padding: 1rem;\n              position: sticky;\n              top: 0;\n              z-index: 10;\n            }\n            \n            .card-title {\n              font-size: 1.1rem;\n              line-height: 1.3;\n            }\n            \n            .card-subtitle {\n              font-size: 0.8rem;\n              line-height: 1.2;\n            }\n            \n            .card-controls {\n              gap: 0.5rem;\n            }\n            \n            .close-button {\n              min-width: 44px;\n              min-height: 44px;\n              padding: 8px;\n              font-size: 18px;\n            }\n            \n            .nft-toggle-button {\n              min-height: 44px;\n              padding: 8px 12px;\n              font-size: 0.8rem;\n            }\n            \n            .card-media {\n              padding: 1rem;\n            }\n            \n            .media-element {\n              max-height: 250px;\n            }\n            \n            .metadata-panel {\n              padding: 1rem;\n            }\n            \n            .metadata-toggles {\n              flex-direction: column;\n              gap: 0.5rem;\n              align-items: stretch;\n            }\n            \n            .toggle-button {\n              min-height: 44px;\n              padding: 12px;\n              font-size: 0.9rem;\n              text-align: left;\n            }\n            \n            .metadata-grid {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n            \n            .metadata-item {\n              flex-direction: column;\n              align-items: flex-start;\n              gap: 0.25rem;\n            }\n            \n            .card-footer {\n              padding: 1rem;\n              position: sticky;\n              bottom: 0;\n              background: transparent;\n              border-top: 1px solid #e2e8f0;\n            }\n            \n            .uploader-info {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 0.75rem;\n            }\n            \n            .action-buttons {\n              flex-direction: column;\n              gap: 0.5rem;\n            }\n            \n            .action-buttons button {\n              min-height: 44px;\n              font-size: 0.9rem;\n            }\n\n            /* Mobile NFT Panel */\n            .nft-panel {\n              position: fixed;\n              top: 0;\n              left: 0;\n              right: 0;\n              bottom: 0;\n              width: 100%;\n              height: 100%;\n              border-radius: 0;\n              transform: translateX(0);\n              border-left: none;\n              border-top: 1px solid #e2e8f0;\n            }\n\n            .nft-panel-header {\n              padding: 1rem;\n              min-height: 60px;\n            }\n\n            .nft-panel-close {\n              min-width: 44px;\n              min-height: 44px;\n            }\n          }\n\n          /* Touch targets for mobile */\n          @media (max-width: 768px) {\n            button, .clickable {\n              min-height: 44px;\n              min-width: 44px;\n            }\n          }\n        "})]})})});ce.displayName="MomentDetailModal";const de=ce,ue=(0,r.memo)(e=>{let{uploadingMoment:t,onClose:n,refreshNotifications:a}=e;const[s,i]=(0,r.useState)("form"),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(0),[x,b]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),w="song"===(null===t||void 0===t?void 0:t.type),j="other"===(null===t||void 0===t?void 0:t.type),[N,k]=(0,r.useState)({contentType:w?"song":"",songName:(null===t||void 0===t?void 0:t.songName)||"",venueName:(null===t||void 0===t?void 0:t.venueName)||"",venueCity:(null===t||void 0===t?void 0:t.venueCity)||"",venueCountry:(null===t||void 0===t?void 0:t.venueCountry)||"",performanceDate:(null===t||void 0===t?void 0:t.performanceDate)||"",setName:(null===t||void 0===t?void 0:t.setName)||"Main Set",momentDescription:"",emotionalTags:[],specialOccasion:"",instruments:[],crowdReaction:"",uniqueElements:"",audioQuality:"good",videoQuality:"good",momentType:"performance"});(0,r.useEffect)(()=>()=>{u&&URL.revokeObjectURL(u)},[u]);return(0,l.jsx)("div",{className:"umo-modal-overlay",onClick:()=>"form"===s&&n(),children:(0,l.jsxs)("div",{className:"umo-modal max-w-2xl w-full max-h-90vh overflow-auto",onClick:e=>e.stopPropagation(),children:["form"===s&&(0,l.jsx)(me,{formData:N,file:c,filePreviewUrl:u,error:x,uploadingMoment:t,isSongUpload:w,isOtherContentUpload:j,onInputChange:(e,t)=>{k(n=>({...n,[e]:t}))},onArrayToggle:(e,t)=>{k(n=>({...n,[e]:n[e].includes(t)?n[e].filter(e=>e!==t):[...n[e],t]}))},onFileSelect:e=>{const t=e.target.files[0];if(!t)return;if(t.size>6442450944)return void b("File too large. Maximum size is 6GB.");const n=t.size/1048576;if(n>100){/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&b(`Warning: ${Math.round(n)}MB file may take several minutes to upload on mobile. Consider using a smaller file or uploading from a computer.`)}if(u&&(URL.revokeObjectURL(u),m(null)),d(t),b(""),t.type.startsWith("video/")||t.type.startsWith("image/")){const e=URL.createObjectURL(t);m(e)}},onUpload:async()=>{if(c){if(w){if(!N.songName||!N.venueName||!N.venueCity)return void b("Please fill in required fields: Song Name, Venue, and City")}else{if(!N.contentType)return void b("Please select a content type");if("other"===N.contentType&&!N.songName)return void b("Please enter a custom title for this content");if(!N.venueName||!N.venueCity)return void b("Please fill in required fields: Venue and City")}i("uploading"),p(!0),b(""),g(0),v("Preparing upload...");try{const e=new FormData;e.append("file",c);const n=localStorage.getItem("token");if(!n)throw new Error("Please log in to upload moments");const r=c.size/1048576,a=Math.min(Math.max(100*r,2e3),1e4);g(15),v("Uploading to decentralized storage...");const l=setInterval(()=>{g(e=>e<60?e+5*Math.random()+3:e)},a/20),s=new XMLHttpRequest;s.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);g(60+.3*t),console.log(`Upload progress: ${t}%`)}});const d=new Promise((t,r)=>{s.onload=function(){if(clearInterval(l),s.status>=200&&s.status<300)try{const e=JSON.parse(s.responseText);t({ok:!0,json:()=>Promise.resolve(e)})}catch(e){r(new Error("Invalid response from server"))}else try{const e=JSON.parse(s.responseText);r(new Error(e.error||`Upload failed with status ${s.status}`))}catch(e){r(new Error(`Upload failed with status ${s.status}`))}},s.onerror=function(){clearInterval(l),r(new Error("Network error during upload"))},s.ontimeout=function(){clearInterval(l),r(new Error("Upload timeout - please try again with a smaller file or better connection"))},s.timeout=6e5,s.open("POST",`${o}/upload-file`,!0),s.setRequestHeader("Authorization",`Bearer ${n}`),s.send(e)}),u=await d;if(!u.ok){const e=await u.json();throw new Error(e.error||"File upload failed")}const m=await u.json();g(75),v("Saving moment metadata...");const f={performanceId:t.performanceId,performanceDate:N.performanceDate,venueName:N.venueName,venueCity:N.venueCity,venueCountry:N.venueCountry,songName:N.songName,setName:N.setName,mediaUrl:m.fileUri,mediaType:c.type.startsWith("video/")?"video":c.type.startsWith("audio/")?"audio":c.type.startsWith("image/")?"image":"unknown",fileName:c.name,fileSize:c.size,momentDescription:N.momentDescription,emotionalTags:N.emotionalTags.join(", "),specialOccasion:N.specialOccasion,instruments:N.instruments.join(", "),crowdReaction:N.crowdReaction,uniqueElements:N.uniqueElements,audioQuality:N.audioQuality,videoQuality:N.videoQuality,momentType:N.momentType,contentType:N.contentType};console.log("\ud83d\ude80 Uploading moment with contentType:",N.contentType);const p=await fetch(`${o}/upload-moment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(f)});if(!p.ok){const e=await p.json();throw new Error(e.error||"Failed to save moment")}const h=await p.json();console.log("\u2705 Moment uploaded successfully:",h),g(100),v("Complete!"),i("success")}catch(e){console.error("\u274c Upload error:",e),b(e.message),i("form"),v("")}finally{p(!1)}}else b("Please select a file first")},onClose:n}),"uploading"===s&&(0,l.jsx)(fe,{uploadProgress:h,uploadStage:y}),"success"===s&&(0,l.jsx)(pe,{isSongUpload:w,contentType:N.contentType,onClose:()=>{a&&a(),n()}})]})})});ue.displayName="UploadModal";const me=(0,r.memo)(e=>{let{formData:t,file:n,filePreviewUrl:a,error:o,uploadingMoment:s,isSongUpload:i,isOtherContentUpload:c,onInputChange:d,onArrayToggle:u,onFileSelect:m,onUpload:f,onClose:p}=e;const[h,g]=(0,r.useState)(!1),x=i?{label:"Song Performance",description:"A complete or partial song performance",nameLabel:"Song Name",namePlaceholder:"Enter the song name...",bgColor:"bg-blue-50 border-blue-200",textColor:"text-blue-800",rarityNote:"Songs get rarity based on file size, performance frequency, and metadata completeness"}:{intro:{label:"Intro",description:"Performance intro or opening",nameLabel:"Content Name",namePlaceholder:'e.g., "Intro", "Set Break"',bgColor:"bg-purple-50 border-purple-200",textColor:"text-purple-800"},outro:{label:"Outro",description:"Performance outro or closing",nameLabel:"Content Name",namePlaceholder:'e.g., "Outro", "Final Bow"',bgColor:"bg-purple-50 border-purple-200",textColor:"text-purple-800"},jam:{label:"Jam",description:"Extended jam session",nameLabel:"Jam Description",namePlaceholder:'e.g., "Guitar Jam", "Extended Outro"',bgColor:"bg-orange-50 border-orange-200",textColor:"text-orange-800"},improv:{label:"Improv",description:"Improvised musical section",nameLabel:"Improv Description",namePlaceholder:'e.g., "Free Improv", "Spontaneous Creation"',bgColor:"bg-orange-50 border-orange-200",textColor:"text-orange-800"},crowd:{label:"Crowd Moment",description:"Audience reaction or interaction",nameLabel:"Crowd Moment",namePlaceholder:'e.g., "Crowd Singing", "Standing Ovation", "Audience Reaction"',bgColor:"bg-green-50 border-green-200",textColor:"text-green-800"},other:{label:"Other Content",description:"Soundcheck, banter, or other content",nameLabel:"Content Description",namePlaceholder:'e.g., "Soundcheck", "Band Banter", "Technical Issue"',bgColor:"bg-gray-50 border-gray-200",textColor:"text-gray-800"}}[t.contentType]||{label:"Content",description:"Select a content type",nameLabel:"Content Name",namePlaceholder:"Select content type first...",bgColor:"bg-gray-50 border-gray-200",textColor:"text-gray-800"};return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h2",{className:"umo-heading umo-heading--xl mb-6",children:i?"Upload Song Moment":"Upload Other Content"}),(0,l.jsx)("div",{className:"bg-gray-800 border border-gray-600 p-4 mb-6",style:{borderRadius:"4px"},children:(0,l.jsx)("p",{className:"text-sm umo-text-primary",children:i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("strong",{children:"Song Upload:"}),' Adding moment for "',s.songName,'"']}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("strong",{children:"Other Content:"})," Adding non-setlist content to this performance"]})})}),o&&(0,l.jsx)("div",{className:"umo-card p-4 mb-4 bg-red-900/20 border-red-500/30",children:(0,l.jsx)("p",{className:"umo-text-primary",children:o})}),(0,l.jsxs)("div",{className:"umo-card p-6 mb-6",children:[(0,l.jsx)("h3",{className:"umo-heading umo-heading--md mb-4",children:"Basic Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:x.nameLabel}),i?(0,l.jsx)("input",{type:"text",value:t.songName,onChange:e=>d("songName",e.target.value),className:"umo-input opacity-60 cursor-not-allowed",placeholder:x.namePlaceholder,readOnly:!0}):(0,l.jsxs)("select",{value:t.contentType,onChange:e=>{if(d("contentType",e.target.value),"other"!==e.target.value){d("songName",{intro:"Intro",outro:"Outro",jam:"Jam",improv:"Improv",crowd:"Crowd Moment"}[e.target.value]||"")}else d("songName","")},className:"umo-select",children:[(0,l.jsx)("option",{value:"",children:"Select content type..."}),(0,l.jsx)("option",{value:"intro",children:"Intro"}),(0,l.jsx)("option",{value:"outro",children:"Outro"}),(0,l.jsx)("option",{value:"jam",children:"Jam"}),(0,l.jsx)("option",{value:"improv",children:"Improv"}),(0,l.jsx)("option",{value:"crowd",children:"Crowd Moment"}),(0,l.jsx)("option",{value:"other",children:"Other Content"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Performance Date"}),(0,l.jsx)("input",{type:"text",value:t.performanceDate,className:"umo-input opacity-60 cursor-not-allowed",readOnly:!0})]})]}),c&&"other"===t.contentType&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Custom Title"}),(0,l.jsx)("input",{type:"text",value:t.songName,onChange:e=>d("songName",e.target.value),className:"umo-input",placeholder:"Enter custom title for this content..."})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Venue"}),(0,l.jsx)("input",{type:"text",value:t.venueName,className:"umo-input opacity-60 cursor-not-allowed",readOnly:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"City"}),(0,l.jsx)("input",{type:"text",value:t.venueCity,className:"umo-input opacity-60 cursor-not-allowed",readOnly:!0})]})]}),i&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Set Name"}),(0,l.jsxs)("select",{value:t.setName,onChange:e=>d("setName",e.target.value),className:"umo-select",children:[(0,l.jsx)("option",{value:"Main Set",children:"Main Set"}),(0,l.jsx)("option",{value:"Encore",children:"Encore"})]})]})]}),(0,l.jsxs)("div",{className:"umo-card p-6 mb-6",children:[(0,l.jsxs)("h3",{className:"umo-heading umo-heading--md mb-4 cursor-pointer flex items-center gap-2",onClick:()=>g(!h),children:["Description & Details",(0,l.jsxs)("span",{className:"text-xs umo-text-muted",children:["(Optional) ",h?"\u25bc":"\u25b6"]})]}),h&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:i?"What happens in this moment?":`Describe this ${x.label.toLowerCase()}`}),(0,l.jsx)("textarea",{value:t.momentDescription,onChange:e=>d("momentDescription",e.target.value),className:"umo-input umo-textarea",placeholder:i?"Describe what happens during this song performance":`Describe what happens in this ${x.label.toLowerCase()}`})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Mood/Energy (Select Multiple)"}),(0,l.jsx)("div",{className:"bg-gray-800 border border-gray-600 p-3 min-h-16 flex flex-wrap gap-2",style:{borderRadius:"4px"},children:(i||"jam"===t.contentType||"improv"===t.contentType?["Energetic","Emotional","Epic","Chill","Intense","Groovy","Dreamy","Raw","Powerful","Intimate","Psychedelic","Melancholic"]:"crowd"===t.contentType?["Explosive","Excited","Emotional","Enthusiastic","Quiet","Respectful","Wild","Engaged"]:"intro"===t.contentType||"outro"===t.contentType?["Energetic","Emotional","Buildup","Anticipation","Climactic","Gentle","Powerful"]:["Casual","Funny","Interesting","Technical","Unexpected"]).map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>u("emotionalTags",e),className:"px-2 py-1 text-xs rounded-full border transition-colors cursor-pointer "+(t.emotionalTags.includes(e)?"bg-blue-600 text-white border-blue-600":"umo-btn--ghost"),children:e},e))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Special Occasion"}),(0,l.jsxs)("select",{value:t.specialOccasion,onChange:e=>d("specialOccasion",e.target.value),className:"umo-select",children:[(0,l.jsx)("option",{value:"",children:"None"}),(0,l.jsx)("option",{value:"Birthday show",children:"Birthday show"}),(0,l.jsx)("option",{value:"Festival debut",children:"Festival debut"}),(0,l.jsx)("option",{value:"Last song",children:"Last song"}),(0,l.jsx)("option",{value:"Encore",children:"Encore"}),(0,l.jsx)("option",{value:"First show of tour",children:"First show of tour"}),(0,l.jsx)("option",{value:"Last show of tour",children:"Last show of tour"}),(0,l.jsx)("option",{value:"Album release party",children:"Album release party"}),(0,l.jsx)("option",{value:"Hometown show",children:"Hometown show"}),(0,l.jsx)("option",{value:"New Year's Eve",children:"New Year's Eve"}),(0,l.jsx)("option",{value:"Holiday show",children:"Holiday show"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Unique Elements"}),(0,l.jsx)("select",{value:t.uniqueElements,onChange:e=>d("uniqueElements",e.target.value),className:"umo-select",children:(i?["","First time played live","Rarely played song","Extended version","Acoustic version","Cover song","Song dedication","New arrangement"]:"jam"===t.contentType||"improv"===t.contentType?["","Extended improvisation","Unusual instruments","Crowd participation","Spontaneous creation"]:"intro"===t.contentType||"outro"===t.contentType?["","Extended intro/outro","Unusual opening/closing","Crowd participation","Special announcement"]:["","Spontaneous moment","Fan interaction","Technical issue","Unexpected event","Rare occurrence"]).map(e=>(0,l.jsx)("option",{value:e,children:e||"Select if applicable..."},e))})]})]}),(i||"jam"===t.contentType||"improv"===t.contentType)&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Featured Instruments/Elements"}),(0,l.jsx)("div",{className:"bg-gray-800 border border-gray-600 p-3 min-h-16 flex flex-wrap gap-2",style:{borderRadius:"4px"},children:["Guitar solo","Bass solo","Drum solo","Keyboard/synth","Saxophone","Trumpet","Harmonica","Violin","Extended jam","Backup vocals"].map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>u("instruments",e),className:"px-2 py-1 text-xs rounded-full border transition-colors cursor-pointer "+(t.instruments.includes(e)?"bg-green-600 text-white border-green-600":"umo-btn--ghost"),children:e},e))})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium umo-text-primary mb-2",children:"Crowd Reaction"}),(0,l.jsxs)("select",{value:t.crowdReaction,onChange:e=>d("crowdReaction",e.target.value),className:"umo-select",children:[(0,l.jsx)("option",{value:"",children:"Select reaction..."}),(0,l.jsx)("option",{value:"Explosive energy",children:"Explosive energy"}),(0,l.jsx)("option",{value:"Wild dancing",children:"Wild dancing"}),(0,l.jsx)("option",{value:"Massive sing-along",children:"Massive sing-along"}),(0,l.jsx)("option",{value:"Standing ovation",children:"Standing ovation"}),(0,l.jsx)("option",{value:"Dead silence in awe",children:"Dead silence in awe"}),(0,l.jsx)("option",{value:"Everyone jumping",children:"Everyone jumping"}),(0,l.jsx)("option",{value:"Swaying together",children:"Swaying together"}),(0,l.jsx)("option",{value:"Phone lights up",children:"Phone lights up"}),(0,l.jsx)("option",{value:"Emotional tears",children:"Emotional tears"}),(0,l.jsx)("option",{value:"Moderate response",children:"Moderate response"}),(0,l.jsx)("option",{value:"Quiet appreciation",children:"Quiet appreciation"})]})]})]})]}),(0,l.jsxs)("div",{className:"umo-card p-6 mb-6",children:[(0,l.jsx)("h3",{className:"umo-heading umo-heading--md mb-4",children:"Media File"}),(0,l.jsxs)("div",{className:"bg-gray-800 border-2 border-dashed border-gray-500 p-8 text-center hover:border-gray-400 transition-colors",style:{borderRadius:"4px"},children:[(0,l.jsx)("input",{type:"file",id:"file-upload",className:"hidden",accept:"video/*,audio/*,image/*",onChange:m}),(0,l.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:n?(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold mb-2 umo-text-primary",children:n.name}),(0,l.jsxs)("p",{className:"text-yellow-600",children:[(n.size/1024/1024).toFixed(2)," MB"]}),a&&(0,l.jsx)("div",{className:"mt-4",children:n.type.startsWith("video/")?(0,l.jsx)("video",{src:a,controls:!0,className:"w-full max-h-48 bg-black rounded",style:{borderRadius:"4px"},preload:"metadata"}):n.type.startsWith("image/")?(0,l.jsx)("img",{src:a,alt:"Preview",className:"w-full max-h-48 object-contain rounded",style:{borderRadius:"4px"}}):null})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"umo-text-primary text-lg mb-2",children:"Click here to select media file"}),(0,l.jsx)("p",{className:"umo-text-secondary text-sm",children:"Video, Audio, or Image files up to 6GB"})]})})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-600",children:[(0,l.jsx)("button",{onClick:p,className:"umo-btn umo-btn--secondary",children:"Cancel"}),(0,l.jsxs)("button",{onClick:f,disabled:!n||!t.venueName||!t.venueCity||i&&!t.songName||!i&&!t.contentType||!i&&"other"===t.contentType&&!t.songName,className:"umo-btn "+(n&&t.venueName&&t.venueCity&&(!i||t.songName)&&(i||t.contentType)&&(i||"other"!==t.contentType||t.songName)?"umo-btn--primary":"opacity-50 cursor-not-allowed"),children:["Upload ",i?"Song Moment":x.label]})]})]})});me.displayName="SimplifiedUploadForm";const fe=(0,r.memo)(e=>{let{uploadProgress:t,uploadStage:n}=e;return(0,l.jsxs)("div",{className:"text-center p-8",children:[(0,l.jsx)("h2",{className:"umo-heading umo-heading--xl mb-6",children:"Creating Your UMO Moment"}),(0,l.jsx)("div",{className:"bg-gray-600 rounded h-2 mb-4 overflow-hidden",style:{borderRadius:"4px"},children:(0,l.jsx)("div",{className:"bg-blue-600 h-full transition-all duration-300 ease-out",style:{width:`${t}%`}})}),(0,l.jsxs)("p",{className:"umo-text-primary text-lg mb-2",children:[Math.round(t),"% Complete"]}),(0,l.jsx)("p",{className:"umo-text-secondary text-sm mb-6",children:n}),(0,l.jsx)("div",{className:"umo-card p-4",children:(0,l.jsxs)("p",{className:"text-xs text-center m-0 umo-text-primary leading-relaxed",children:[(0,l.jsx)("strong",{className:"text-yellow-600",children:"\u26a0\ufe0f Please wait - do not close this window"}),(0,l.jsx)("br",{}),"Your file is being secured by millions of computers worldwide through decentralized storage. This ensures permanent, censorship-resistant preservation of your moment."]})})]})});fe.displayName="UploadProgress";const pe=(0,r.memo)(e=>{let{isSongUpload:t,contentType:n,onClose:r}=e;return(0,l.jsxs)("div",{className:"text-center p-8",children:[(0,l.jsx)("div",{className:"text-6xl mb-6 text-green-600",children:"\u2713"}),(0,l.jsx)("h2",{className:"umo-heading umo-heading--xl mb-6 text-green-600",children:t?"Moment Uploaded Successfully!":"Content Uploaded Successfully!"}),(0,l.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 p-6 mb-6",style:{borderRadius:"4px"},children:[(0,l.jsx)("h3",{className:"umo-heading umo-heading--md mb-4 text-blue-400",children:"Awaiting Approval"}),(0,l.jsxs)("p",{className:"umo-text-primary mb-4 leading-relaxed text-left",children:["Your ",{song:"song moment",intro:"intro/outro content",jam:"jam/improv content",crowd:"crowd moment",other:"other content"}[n]||"content"," has been safely uploaded to the UMO Archive and is now waiting for review by our moderation team."]}),(0,l.jsx)("div",{className:"bg-gray-700 border border-gray-500 p-4 mb-6",style:{borderRadius:"4px"},children:(0,l.jsxs)("p",{className:"umo-text-secondary text-sm leading-relaxed text-left",children:[(0,l.jsx)("strong",{className:"umo-text-primary",children:"What happens next:"}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"\u2022 Our moderators will review your upload for quality and accuracy",(0,l.jsx)("br",{}),"\u2022 This process typically takes 1-3 days",(0,l.jsx)("br",{}),"\u2022 You'll be notified in \"My Account\" when it's approved (look for the blue dot!)",(0,l.jsx)("br",{}),"\u2022 Once approved, your moment will be visible to all UMO fans!"]})}),(0,l.jsx)("p",{className:"text-sm umo-text-muted mb-6",children:"Thank you for contributing to the UMO Archive community!"}),(0,l.jsx)("button",{onClick:r,className:"umo-btn umo-btn--primary px-6 py-3",children:"Close & Check My Account"})]})]})});pe.displayName="UploadSuccess";const he=ue,ge=(0,r.memo)(e=>{let{songData:t,onBack:n,onPerformanceSelect:a}=e;const[s,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,f]=(0,r.useState)("chronological"),[p,h]=(0,r.useState)(!1),[g,x]=(0,r.useState)(new Set),[b,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),{user:j}=i(),{refreshNotifications:N}=L(o),{moments:k,loadingMomentDetails:S,loadMomentDetails:C}=z(o);(0,r.useEffect)(()=>{C(`song/${encodeURIComponent(t.songName)}`,`song "${t.songName}"`)},[t.songName,C]);const E=()=>k.filter(e=>!e.contentType||"song"===e.contentType),P=()=>k.filter(e=>e.contentType&&"song"!==e.contentType),M=e=>E().filter(t=>t.performanceId===e),T=(0,r.useMemo)(()=>{const e=v?t.performances.filter(e=>M(e.id).length>0):t.performances;switch(m){case"byVenue":const t={};return e.forEach(e=>{const n=`${e.venue} (${e.city})`;t[n]||(t[n]=[]),t[n].push(e)}),Object.entries(t).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)});case"byYear":const n={};return e.forEach(e=>{const t=e.date.split("-")[2]||"Unknown";n[t]||(n[t]=[]),n[t].push(e)}),Object.entries(n).sort((e,t)=>{let[n]=e,[r]=t;return r.localeCompare(n)});default:return[["All Performances",e]]}},[t.performances,m,v,M]);if(S)return(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsxs)("div",{className:"inline-flex items-center text-gray-500",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),'Loading "',t.songName,'" details...']})});const A=E(),_=P(),D=(()=>{const e=P(),t={};return e.forEach(e=>{const n=e.contentType||"other";t[n]||(t[n]=[]),t[n].push(e)}),t})();return(0,l.jsxs)("div",{children:[(0,l.jsx)(xe,{songData:t,songMoments:A,nonSongMoments:_,onBack:n}),_.length>0&&(0,l.jsx)(be,{songName:t.songName,groupedMoments:D,showNonSongMoments:b,setShowNonSongMoments:y,onSelectMoment:c,getContentTypeInfo:e=>{const t={intro:{emoji:"\ud83c\udfad",label:"Intro/Outro",color:"bg-purple-100 text-purple-800"},jam:{emoji:"\ud83c\udfb8",label:"Jam/Improv",color:"bg-orange-100 text-orange-800"},crowd:{emoji:"\ud83d\udc65",label:"Crowd Moments",color:"bg-blue-100 text-blue-800"},other:{emoji:"\ud83c\udfaa",label:"Other Content",color:"bg-gray-100 text-gray-800"}};return t[e]||t.other}}),A.length>0&&(0,l.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-4 mb-6 shadow-sm",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["\ud83c\udfac Song Moments (",A.length,")"]})}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:A.slice(0,4).map(e=>{var t;return(0,l.jsx)("div",{className:"bg-white/70 rounded-lg border border-gray-200/50 overflow-hidden hover:shadow-lg transition-shadow duration-200 cursor-pointer aspect-video",onClick:()=>c(e),children:e.mediaUrl&&(0,l.jsxs)("div",{className:"relative w-full h-full",children:["video"===e.mediaType||null!==(t=e.fileName)&&void 0!==t&&t.toLowerCase().match(/\.(mov|mp4|webm)$/)?(0,l.jsx)("video",{src:e.mediaUrl,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}):(0,l.jsx)("img",{src:e.mediaUrl,alt:e.songName,className:"w-full h-full object-cover"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-white/90 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M8 5v10l8-5-8-5z"})})})})]})},e._id)})}),A.length>4&&(0,l.jsx)("div",{className:"text-center mt-3",children:(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:["+",A.length-4," more moments"]})})]}),(0,l.jsx)(ye,{viewMode:m,setViewMode:f,showPositions:p,setShowPositions:h,showOnlyWithMoments:v,setShowOnlyWithMoments:w}),(0,l.jsx)(ve,{groupedPerformances:T,viewMode:m,showPositions:p,user:j,getPerformanceSongMoments:M,onUploadMoment:e=>{j?u({type:"song",performanceId:e.id,performanceDate:e.date,venueName:e.venue,venueCity:e.city,venueCountry:e.country||"",songName:t.songName,setName:e.setName||"",songPosition:e.songPosition||1,contentType:"song"}):alert("Please log in to upload moments")},onSelectMoment:c,onPerformanceClick:async e=>{if(a)try{console.log(`\ud83c\udfb8 Loading full performance: ${e.id}`);const t=await fetch(`${o}/cached/performance/${e.id}`);if(t.ok){const e=await t.json();console.log("\u2705 Loaded performance:",e.performance),a(e.performance)}else console.error("\u274c Failed to load performance:",t.status),alert("Failed to load performance details. Please try again.")}catch(t){console.error("\u274c Error loading performance:",t),alert("Error loading performance. Please check your connection.")}else console.warn("No onPerformanceSelect handler provided")},expandedPerformances:g,togglePerformanceExpanded:e=>{const t=new Set(g);t.has(e)?t.delete(e):t.add(e),x(t)}}),d&&j&&(0,l.jsx)(he,{uploadingMoment:d,onClose:()=>u(null),refreshNotifications:N}),s&&(0,l.jsx)(de,{moment:s,onClose:()=>c(null)})]})});ge.displayName="SongDetail";const xe=(0,r.memo)(e=>{let{songData:t,songMoments:n,nonSongMoments:r,onBack:a}=e;return(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("button",{onClick:a,className:"mb-4 text-blue-600 hover:text-blue-800 flex items-center",children:"\u2190 Back to song search"}),(0,l.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-6 mb-6 shadow-sm",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.songName}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,l.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,l.jsx)("span",{children:"First performed:"}),(0,l.jsx)("span",{className:"font-medium text-blue-600",children:S(t.firstPerformed)})]}),t.firstPerformed!==t.lastPerformed&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mx-2 text-gray-400",children:"\u2022"}),(0,l.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,l.jsx)("span",{children:"Last performed:"}),(0,l.jsx)("span",{className:"font-medium text-blue-600",children:S(t.lastPerformed)})]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-center bg-gray-50/80 rounded-xl p-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.totalPerformances}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:"Performances"})]}),(0,l.jsx)("div",{className:"w-px h-8 bg-gray-300 mx-4"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.venues.length}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:"Venues"})]}),(0,l.jsx)("div",{className:"w-px h-8 bg-gray-300 mx-4"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.cities.length}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:"Cities"})]}),(0,l.jsx)("div",{className:"w-px h-8 bg-gray-300 mx-4"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:n.length}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:"Song Moments"})]})]}),r.length>0&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,l.jsxs)("div",{className:"text-sm text-gray-600 text-center",children:["\ud83d\udcc0 ",r.length," additional moment",1!==r.length?"s":""," with this name (non-song content)"]})})]})]})});xe.displayName="SongDetailHeader";const be=(0,r.memo)(e=>{let{songName:t,groupedMoments:n,showNonSongMoments:r,setShowNonSongMoments:a,onSelectMoment:o,getContentTypeInfo:s}=e;const i=Object.values(n).reduce((e,t)=>e+t.length,0);return(0,l.jsxs)("div",{className:"mb-6 border border-gray-200 rounded-lg bg-gradient-to-r from-gray-50 to-slate-50 shadow-sm",children:[(0,l.jsxs)("div",{className:"p-4 cursor-pointer flex items-center justify-between hover:bg-gray-100/50 transition-colors rounded-t-lg",onClick:()=>a(!r),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:['\ud83d\udcc0 Non-Song Content Named "',t,'"']}),(0,l.jsxs)("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-800 rounded-full",children:[i," moment",1!==i?"s":""]})]}),(0,l.jsx)("span",{className:"text-gray-600 text-lg",children:r?"\u25bc":"\u25b6"})]}),r&&(0,l.jsxs)("div",{className:"p-4 pt-0 border-t border-gray-200/50",children:[(0,l.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"These moments have the same name as this song but are categorized as non-song content (intro, jam, crowd, etc.)"}),(0,l.jsx)("div",{className:"space-y-3",children:Object.entries(n).map(e=>{let[t,n]=e;const r=s(t);return(0,l.jsxs)("div",{className:"bg-white/70 rounded-lg p-3 border border-gray-200/50",children:[(0,l.jsxs)("h4",{className:`text-sm font-semibold mb-2 inline-flex items-center gap-2 px-2 py-1 rounded-full ${r.color}`,children:[(0,l.jsx)("span",{children:r.emoji}),r.label,(0,l.jsxs)("span",{className:"text-xs",children:["(",n.length,")"]})]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>{var t;const n={legendary:{border:"border-yellow-300",text:"text-yellow-700",bg:"bg-yellow-50/80"},epic:{border:"border-purple-300",text:"text-purple-700",bg:"bg-purple-50/80"},rare:{border:"border-red-300",text:"text-red-700",bg:"bg-red-50/80"},uncommon:{border:"border-blue-300",text:"text-blue-700",bg:"bg-blue-50/80"},common:{border:"border-gray-300",text:"text-gray-700",bg:"bg-gray-50/80"}}[e.rarityTier||"common"]||{border:"border-gray-300",text:"text-gray-700",bg:"bg-gray-50/80"};return(0,l.jsx)("button",{onClick:()=>o(e),className:`\n                            px-3 py-2 rounded-lg border-2 text-xs font-medium transition-all duration-200\n                            ${n.border} ${n.text} ${n.bg}\n                            hover:scale-105 hover:shadow-lg transform backdrop-blur-sm\n                            flex items-center gap-2 max-w-[250px] hover:bg-white/90\n                          `,children:(0,l.jsxs)("div",{className:"flex flex-col items-start text-left",children:[(0,l.jsxs)("div",{className:"text-xs opacity-80 truncate max-w-[200px]",children:[e.venueName," \u2022 ",C(e.performanceDate)]}),(0,l.jsx)("div",{className:"font-semibold truncate max-w-[200px]",children:(null===(t=e.user)||void 0===t?void 0:t.displayName)||"Unknown"})]})},e._id)})})]},t)})})]})]})});be.displayName="NonSongMomentsSection";const ye=(0,r.memo)(e=>{let{viewMode:t,setViewMode:n,showPositions:r,setShowPositions:a,showOnlyWithMoments:o,setShowOnlyWithMoments:s}=e;return(0,l.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"\ud83c\udfb5 Song Performance History"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"View:"}),(0,l.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-1 inline-flex flex-wrap gap-1",children:[{key:"chronological",label:"Chronological"},{key:"byVenue",label:"By Venue"},{key:"byYear",label:"By Year"}].map(e=>{let{key:r,label:a}=e;return(0,l.jsx)("button",{onClick:()=>n(r),className:"px-2 py-1 rounded text-xs font-medium transition-colors "+(t===r?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:a},r)})})]})]}),(0,l.jsx)("div",{className:"h-px flex-1 bg-gray-200 ml-4"})]}),(0,l.jsx)("div",{className:"flex items-center justify-end gap-4",children:(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:o,onChange:e=>s(e.target.checked),className:"rounded border-gray-300"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Show only performances with moments"}),(0,l.jsx)("span",{className:"sm:hidden",children:"With moments"})]})})]})});ye.displayName="SongDetailControls";const ve=(0,r.memo)(e=>{let{groupedPerformances:t,viewMode:n,showPositions:r,user:a,getPerformanceSongMoments:o,onUploadMoment:s,onSelectMoment:i,onPerformanceClick:c,expandedPerformances:d,togglePerformanceExpanded:u}=e;return(0,l.jsx)("div",{className:"space-y-6",children:t.map(e=>{let[t,m]=e;return(0,l.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-gray-200/50 shadow-sm mb-4",children:["chronological"!==n&&(0,l.jsx)("div",{className:"px-4 py-3 border-b border-gray-200/50 bg-gray-50/60 rounded-t-xl",children:(0,l.jsxs)("h4",{className:"font-semibold text-gray-900",children:[t," ",(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["(",m.length," performance",1!==m.length?"s":"",")"]})]})}),(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("div",{className:"space-y-3",children:m.map((e,t)=>{const n=o(e.id),m=d.has(e.id);return(0,l.jsxs)("div",{className:"py-3 border-b border-gray-100 last:border-b-0",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:e.venue}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[e.city,e.country?`, ${e.country}`:""]}),(0,l.jsx)("span",{className:"text-sm font-medium text-blue-600",children:C(e.date)}),(0,l.jsx)("button",{onClick:()=>c(e),className:"text-xs text-blue-600 hover:text-blue-800 font-medium underline decoration-dotted underline-offset-2 cursor-pointer hover:decoration-solid transition-all",children:"Click to view full setlist \u2192"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 flex-wrap",children:[e.setName&&(0,l.jsxs)("span",{children:["Set: ",e.setName]}),r&&e.songPosition&&(0,l.jsxs)("span",{children:["Position: #",e.songPosition]}),n.length>0&&(0,l.jsxs)("button",{onClick:()=>u(e.id),className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors cursor-pointer flex items-center gap-1",children:[(0,l.jsxs)("span",{children:[n.length," moment",1!==n.length?"s":""]}),(0,l.jsx)("span",{className:"text-xs",children:m?"\u25bc":"\u25b6"})]})]})]})}),a&&(0,l.jsx)("button",{onClick:()=>s(e),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors ml-4 flex-shrink-0",children:"Upload Moment"})]}),n.length>0&&m&&(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>{var t;const n={legendary:{border:"border-yellow-300",text:"text-yellow-700",bg:"bg-yellow-50/80"},epic:{border:"border-purple-300",text:"text-purple-700",bg:"bg-purple-50/80"},rare:{border:"border-red-300",text:"text-red-700",bg:"bg-red-50/80"},uncommon:{border:"border-blue-300",text:"text-blue-700",bg:"bg-blue-50/80"},common:{border:"border-gray-300",text:"text-gray-700",bg:"bg-gray-50/80"}}[e.rarityTier||"common"]||{border:"border-gray-300",text:"text-gray-700",bg:"bg-gray-50/80"};return(0,l.jsx)("button",{onClick:()=>i(e),className:`\n                                px-2 py-1 rounded-md border-2 font-medium transition-all duration-200\n                                ${n.border} ${n.text} ${n.bg}\n                                hover:scale-105 hover:shadow-lg transform backdrop-blur-sm\n                                text-xs min-w-[60px] h-7 flex items-center justify-center\n                                hover:bg-white/90\n                              `,children:(0,l.jsx)("div",{className:"truncate",children:(null===(t=e.user)||void 0===t?void 0:t.displayName)||"Unknown"})},e._id)})})})]},`${e.id}-${t}`)})})})]},t)})})});ve.displayName="SongPerformancesList";const we=(0,r.memo)(e=>{var t,n,r;let{moment:a,onMomentSelect:o}=e;const s={legendary:"bg-gradient-to-r from-yellow-400 to-yellow-600",mythic:"bg-gradient-to-r from-purple-400 to-pink-600",epic:"bg-gradient-to-r from-purple-500 to-purple-700",rare:"bg-gradient-to-r from-red-400 to-red-600",uncommon:"bg-gradient-to-r from-blue-400 to-blue-600",common:"bg-gradient-to-r from-gray-400 to-gray-600",basic:"bg-gradient-to-r from-gray-300 to-gray-500"},i=s[a.rarityTier]||s.basic;return(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[a.mediaUrl&&(0,l.jsx)("div",{className:"relative aspect-video bg-gray-100 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>o(a),children:"video"===a.mediaType||null!==(t=a.fileName)&&void 0!==t&&t.toLowerCase().match(/\.(mov|mp4|webm)$/)?(0,l.jsx)("div",{className:"relative w-full h-full",children:(0,l.jsx)(ie,{src:a.mediaUrl,type:"video",alt:a.songName,className:"w-full h-full object-cover",autoPlay:!1,muted:!0,controls:!1,preload:"none",adaptiveQuality:!0,mobileOptimized:!0,hoverToPlay:!0,style:{backgroundColor:"#000"},placeholder:(0,l.jsx)("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:(0,l.jsx)(oe,{className:"w-6 h-6 text-white/70"})})})})}):null!==(n=a.mediaType)&&void 0!==n&&n.startsWith("image")?(0,l.jsx)("img",{src:a.mediaUrl,alt:a.songName,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:(0,l.jsx)("div",{className:"text-gray-500",children:(0,l.jsx)("span",{className:"text-2xl",children:"\ud83c\udfb5"})})})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("div",{className:`inline-block px-2 py-1 rounded-full text-xs font-bold text-white mb-2 ${i}`,children:a.rarityTier||"basic"}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("div",{className:"font-medium text-gray-900 text-sm truncate",children:a.venueName}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[(0,l.jsx)("span",{children:a.venueCity}),(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsx)("span",{children:C(a.performanceDate)})]})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[(0,l.jsx)("span",{children:"by"}),(0,l.jsx)("span",{className:"font-medium",children:(null===(r=a.user)||void 0===r?void 0:r.displayName)||"Unknown"})]}),a.momentDescription&&(0,l.jsx)("div",{className:"text-xs text-gray-500 mt-2 line-clamp-2",children:a.momentDescription})]})]})});we.displayName="SongMomentCard";(0,r.memo)(e=>{let{moments:t,onMomentSelect:n}=e;const[a,o]=(0,r.useState)(0),s=Math.ceil(t.length/6),i=6*a,c=i+6,d=t.slice(i,c);return(0,r.useEffect)(()=>{o(0)},[t.length]),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"text-center text-gray-600 text-sm mb-4",children:s>1?(0,l.jsxs)(l.Fragment,{children:["Showing ",i+1,"-",Math.min(c,t.length)," of ",t.length," moments (6 at a time for performance)"]}):(0,l.jsxs)(l.Fragment,{children:["Showing ",t.length," moment",1!==t.length?"s":""," with video previews"]})}),d.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>(0,l.jsx)(we,{moment:e,onMomentSelect:n},e._id))}),s>1&&(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-8",children:[(0,l.jsx)("button",{onClick:()=>{a>0&&(o(a-1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:0===a,className:"px-4 py-2 rounded-lg font-medium transition-all "+(0===a?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-md hover:shadow-lg"),children:"\u2190 Previous"}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 px-4 py-2 rounded-lg",children:["Page ",a+1," of ",s]}),(0,l.jsx)("button",{onClick:()=>{a<s-1&&(o(a+1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:a>=s-1,className:"px-4 py-2 rounded-lg font-medium transition-all "+(a>=s-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-md hover:shadow-lg"),children:"Next \u2192"})]})]}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-gray-500 text-lg mb-2",children:"No moments found"}),(0,l.jsx)("div",{className:"text-gray-400 text-sm",children:"Upload the first moment for this song!"})]})]})}).displayName="SongMomentsView";const je=ge,Ne=e=>{if(!e||"string"!==typeof e)return!1;const t=e.toLowerCase().trim();return![/^intro$/i,/^outro$/i,/^soundcheck$/i,/^tuning$/i,/^banter$/i,/^crowd$/i,/^applause$/i,/^announcement$/i,/^speech$/i,/^talk$/i,/.*\s+intro$/i,/.*\s+outro$/i,/^warm.?up$/i,/^encore\s+intro$/i,/^mic\s+check$/i,/^between\s+songs$/i,/^\d+$/i,/^setlist$/i,/^tease$/i].some(e=>e.test(t))},ke=(0,r.memo)(e=>{let{performance:t,onBack:n}=e;const[a,s]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(new Set),[f,p]=(0,r.useState)(!0),[h,g]=(0,r.useState)(!0),[x,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(t),[w,j]=(0,r.useState)(!1),{user:N}=i(),{refreshNotifications:k}=L(o),{moments:S,loadingMomentDetails:C,loadMomentDetails:E}=z(o);(0,r.useEffect)(()=>{var e,n;const r=!(null!==(e=t.sets)&&void 0!==e&&e.set)||0===t.sets.set.length,a=null===(n=t.id)||void 0===n?void 0:n.startsWith("moment-");if(r&&a){(async()=>{j(!0);try{const n=await fetch(`${o}/cached/performances?search=${encodeURIComponent(t.venue.name)}`);if(n.ok){var e;const r=null===(e=(await n.json()).performances)||void 0===e?void 0:e.find(e=>{var n;return(null===(n=e.venue)||void 0===n?void 0:n.name)===t.venue.name&&e.eventDate===t.eventDate});r&&v(r)}}catch(n){console.error("Failed to fetch full performance data:",n)}finally{j(!1)}})()}},[t]),(0,r.useEffect)(()=>{E(`performance/${y.id}`,`performance ${y.id}`)},[y.id,E]);const P=()=>S.filter(e=>e.contentType&&"song"!==e.contentType);if(w||C)return(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsxs)("div",{className:"inline-flex items-center text-gray-500",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),"Loading performance details..."]})});const M=S.filter(e=>!e.contentType||"song"===e.contentType),T=P(),A=(()=>{const e=P(),t={};return e.forEach(e=>{const n=e.contentType||"other";t[n]||(t[n]=[]),t[n].push(e)}),t})();return(0,l.jsxs)("div",{children:[(0,l.jsx)(Se,{performance:y,songMoments:M,otherContent:T,onBack:n}),(0,l.jsx)(Te,{moments:[...M,...T],showMomentsPane:f,setShowMomentsPane:p,onSelectMoment:d}),(0,l.jsx)(Ee,{performance:y,user:N,getSongMoments:e=>S.filter(t=>{const n=!t.contentType||"song"===t.contentType,r=t.songName===e;return n&&r}),onUploadSongMoment:(e,n,r)=>{var a;N?s({type:"song",performanceId:t.id,performanceDate:t.eventDate,venueName:t.venue.name,venueCity:t.venue.city.name,venueCountry:(null===(a=t.venue.city.country)||void 0===a?void 0:a.name)||"",songName:e.name,setName:(null===n||void 0===n?void 0:n.name)||"",songPosition:r+1,contentType:"song"}):alert("Please log in to upload moments")},onSelectMoment:d,expandedSongs:u,toggleSongMoments:e=>{const t=new Set(u);t.has(e)?t.delete(e):t.add(e),m(t)},showSetlist:h,setShowSetlist:g}),(0,l.jsx)(Ce,{user:N,groupedContent:A,otherContent:T,showOtherContent:x,setShowOtherContent:b,onSelectMoment:d,onUploadOtherContent:function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"other";N?s({type:"other",performanceId:t.id,performanceDate:t.eventDate,venueName:t.venue.name,venueCity:t.venue.city.name,venueCountry:(null===(e=t.venue.city.country)||void 0===e?void 0:e.name)||"",songName:"",setName:"",songPosition:0,contentType:n}):alert("Please log in to upload moments")}}),a&&N&&(0,l.jsx)(he,{uploadingMoment:a,onClose:()=>{s(null),E(`performance/${t.id}`,`performance ${t.id}`)},refreshNotifications:k}),c&&(0,l.jsx)(de,{moment:c,onClose:()=>d(null)})]})});ke.displayName="PerformanceDetail";const Se=(0,r.memo)(e=>{let{performance:t,songMoments:n,otherContent:r,onBack:a}=e;return(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("button",{onClick:a,className:"mb-4 text-blue-600 hover:text-blue-800 flex items-center",children:"\u2190 Back to latest performances"}),(0,l.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold",children:t.venue.name}),(0,l.jsxs)("p",{className:"text-gray-600",children:[t.venue.city.name,t.venue.city.country?`, ${t.venue.city.country.name}`:""," \u2022 ",S(t.eventDate)]}),(0,l.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-sm",children:[n.length>0&&(0,l.jsxs)("span",{className:"text-blue-600",children:["\ud83c\udfb5 ",n.length," song moment",1!==n.length?"s":""]}),r.length>0&&(0,l.jsxs)("span",{className:"text-purple-600",children:["\ud83d\udcc0 ",r.length," other moment",1!==r.length?"s":""]}),0===n.length&&0===r.length&&(0,l.jsx)("span",{className:"text-gray-500",children:"No moments uploaded yet"})]})]})});Se.displayName="PerformanceHeader";const Ce=(0,r.memo)(e=>{let{user:t,groupedContent:n,otherContent:r,showOtherContent:a,setShowOtherContent:o,onSelectMoment:s,onUploadOtherContent:i}=e;const c=Object.values(n).reduce((e,t)=>e+t.length,0),d=c>0;return(0,l.jsxs)("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,l.jsxs)("button",{onClick:()=>o(!a),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,l.jsx)("div",{className:"flex items-center gap-3",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["\ud83d\udcc0 Other Performance Content",d&&(0,l.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",c,")"]})]})}),a?(0,l.jsx)(y,{size:20}):(0,l.jsx)(v,{size:20})]}),a&&(0,l.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,l.jsx)("div",{className:"mb-4 p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-2",children:[(0,l.jsxs)("p",{className:"text-sm text-purple-700",children:["Upload intro, outro, soundcheck, crowd reactions, and other non-song content from this performance.",d&&(0,l.jsxs)("span",{className:"font-medium",children:[" (",c," uploaded)"]})]}),t&&(0,l.jsxs)("button",{onClick:()=>i("other"),className:"flex items-center gap-2 px-3 py-1.5 bg-purple-600 text-white font-normal rounded-md hover:bg-purple-700 transition-all duration-200 text-sm whitespace-nowrap",children:[(0,l.jsx)("span",{className:"text-sm",children:"\ud83d\udcc0"}),(0,l.jsx)("span",{children:"Upload"})]})]})}),d&&(0,l.jsx)("div",{className:"space-y-4",children:Object.entries(n).map(e=>{let[t,n]=e;const r=(e=>{const t={intro:{emoji:"\ud83c\udfad",label:"Intro/Outro",color:"bg-purple-100 text-purple-800"},jam:{emoji:"\ud83c\udfb8",label:"Jam/Improv",color:"bg-orange-100 text-orange-800"},crowd:{emoji:"\ud83d\udc65",label:"Crowd Moments",color:"bg-blue-100 text-blue-800"},other:{emoji:"\ud83c\udfaa",label:"Other Content",color:"bg-gray-100 text-gray-800"}};return t[e]||t.other})(t);return(0,l.jsxs)("div",{className:"bg-white/70 rounded-lg p-3 border border-purple-200/50",children:[(0,l.jsxs)("h4",{className:`text-sm font-semibold mb-2 inline-flex items-center gap-2 px-2 py-1 rounded-full ${r.color}`,children:[(0,l.jsx)("span",{children:r.emoji}),r.label,(0,l.jsxs)("span",{className:"text-xs",children:["(",n.length,")"]})]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>{var t;const n={legendary:{bg:"from-yellow-400 to-orange-400",text:"text-yellow-900"},epic:{bg:"from-purple-400 to-pink-400",text:"text-purple-900"},rare:{bg:"from-red-400 to-pink-400",text:"text-red-900"},uncommon:{bg:"from-blue-400 to-cyan-400",text:"text-blue-900"},common:{bg:"from-gray-300 to-gray-400",text:"text-gray-700"}}[e.rarityTier||"common"]||{bg:"from-gray-300 to-gray-400",text:"text-gray-700"};return(0,l.jsx)("button",{onClick:()=>s(e),className:`\n                            px-3 py-2 rounded-lg border-2 text-xs font-medium transition-all duration-200\n                            bg-gradient-to-r ${n.bg} ${n.text}\n                            hover:scale-105 hover:shadow-md transform\n                            flex items-center gap-2 max-w-[200px]\n                          `,children:(0,l.jsxs)("div",{className:"flex flex-col items-start text-left",children:[(0,l.jsx)("div",{className:"font-semibold truncate max-w-[150px]",children:e.songName}),(0,l.jsx)("div",{className:"text-xs opacity-80 truncate max-w-[150px]",children:(null===(t=e.user)||void 0===t?void 0:t.displayName)||"Unknown"})]})},e._id)})})]},t)})})]})]})});Ce.displayName="OtherContentSection";const Ee=(0,r.memo)(e=>{var t;let{performance:n,user:r,getSongMoments:a,onUploadSongMoment:o,onSelectMoment:s,expandedSongs:i,toggleSongMoments:c,showSetlist:d,setShowSetlist:u}=e;if(null===(t=n.sets)||void 0===t||!t.set)return(0,l.jsxs)("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,l.jsxs)("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,l.jsx)("div",{className:"flex items-center gap-3",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\ud83c\udfb5 Setlist"})}),d?(0,l.jsx)(y,{size:20}):(0,l.jsx)(v,{size:20})]}),d&&(0,l.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)("div",{className:"text-4xl mb-3",children:"\ud83c\udfb5"}),(0,l.jsx)("p",{className:"text-lg font-medium mb-2",children:"No setlist available for this performance"}),(0,l.jsx)("p",{className:"text-sm mb-4",children:"Help improve the archive by adding the setlist!"}),(0,l.jsxs)("a",{href:"https://setlist.fm",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:["Go to setlist.fm to update the setlist!",(0,l.jsx)("span",{children:"\u2197"})]})]})})]});n.sets.set.reduce((e,t)=>{var n,r;return e+((null===(n=t.song)||void 0===n||null===(r=n.filter(e=>e.name))||void 0===r?void 0:r.length)||0)},0);const m=n.sets.set.reduce((e,t)=>{var n;return e+((null===(n=t.song)||void 0===n?void 0:n.filter(e=>Ne(e.name)))||[]).length},0);return(0,l.jsxs)("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,l.jsxs)("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["\ud83c\udfb5 Setlist ",m>0?`(${m} songs)`:""]}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"from setlist.fm"})]}),d?(0,l.jsx)(y,{size:20}):(0,l.jsx)(v,{size:20})]}),d&&(0,l.jsx)("div",{className:"border-t border-gray-200 p-4",children:0===m?(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)("div",{className:"text-4xl mb-3",children:"\ud83c\udfb5"}),(0,l.jsx)("p",{className:"text-lg font-medium mb-2",children:"No songs found in setlist"}),(0,l.jsx)("p",{className:"text-sm mb-4",children:"Help improve the archive by adding the setlist!"}),(0,l.jsxs)("a",{href:"https://setlist.fm",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:["Go to setlist.fm to update the setlist!",(0,l.jsx)("span",{children:"\u2197"})]})]}):(0,l.jsx)("div",{className:"space-y-6",children:n.sets.set.map((e,t)=>(0,l.jsx)(Pe,{set:e,user:r,getSongMoments:a,onUploadSongMoment:o,onSelectMoment:s,expandedSongs:i,toggleSongMoments:c},t))})})]})});Ee.displayName="MainSetlistDisplay";const Pe=(0,r.memo)(e=>{var t;let{set:n,user:r,getSongMoments:a,onUploadSongMoment:o,onSelectMoment:s,expandedSongs:i,toggleSongMoments:c}=e;const d=(null===(t=n.song)||void 0===t?void 0:t.filter(e=>Ne(e.name)))||[];return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg bg-white shadow-sm p-4",children:[n.name&&(0,l.jsx)("h4",{className:"text-lg font-semibold mb-3 text-blue-600",children:n.name}),0===d.length?(0,l.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,l.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udfb5"}),(0,l.jsx)("p",{className:"font-medium mb-1",children:"No songs found in this set"}),(0,l.jsx)("p",{className:"text-xs mb-3",children:"(All items filtered as non-song content)"}),(0,l.jsxs)("a",{href:"https://setlist.fm",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors",children:["Update on setlist.fm",(0,l.jsx)("span",{children:"\u2197"})]})]}):(0,l.jsx)("div",{className:"space-y-3",children:d.map((e,t)=>{const d=a(e.name),u=i.has(e.name);return(0,l.jsx)(Me,{song:e,songIndex:t,songMoments:d,user:r,onUploadSongMoment:()=>o(e,n,t),onSelectMoment:s,isExpanded:u,toggleExpanded:()=>c(e.name)},`${e.name}-${t}`)})})]})});Pe.displayName="SetCard";const Me=(0,r.memo)(e=>{let{song:t,songIndex:n,songMoments:r,user:a,onUploadSongMoment:o,onSelectMoment:s,isExpanded:i,toggleExpanded:c}=e;return(0,l.jsxs)("div",{className:"border-b border-gray-100 pb-3 last:border-b-0",children:[(0,l.jsx)("div",{className:"flex justify-between items-center",children:(0,l.jsx)("div",{className:"flex items-center gap-3 flex-1",children:(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:t.name}),a&&(0,l.jsxs)("button",{onClick:o,className:"ml-2 px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-1",title:"Upload moment for this song",children:[(0,l.jsx)("span",{children:"\ud83d\udcf9"}),(0,l.jsx)("span",{children:"Upload"})]}),r.length>0&&(0,l.jsxs)("button",{onClick:c,className:"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-full transition-colors cursor-pointer flex items-center gap-1",children:[(0,l.jsxs)("span",{children:[r.length," moment",1!==r.length?"s":""]}),(0,l.jsx)("span",{className:"text-xs",children:i?"\u25bc":"\u25b6"})]})]})})}),r.length>0&&i&&(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>{var t;const n={legendary:{bg:"from-yellow-400 to-orange-400",text:"text-yellow-900"},epic:{bg:"from-purple-400 to-pink-400",text:"text-purple-900"},rare:{bg:"from-red-400 to-pink-400",text:"text-red-900"},uncommon:{bg:"from-blue-400 to-cyan-400",text:"text-blue-900"},common:{bg:"from-gray-300 to-gray-400",text:"text-gray-700"}}[e.rarityTier||"common"]||{bg:"from-gray-300 to-gray-400",text:"text-gray-700"};return(0,l.jsx)("button",{onClick:()=>s(e),className:`\n                  px-3 py-1.5 rounded-md border-2 text-xs font-medium transition-all duration-200\n                  bg-gradient-to-r ${n.bg} ${n.text}\n                  hover:scale-105 hover:shadow-md transform\n                  flex items-center justify-center text-center\n                  min-w-[80px] max-w-[120px]\n                `,children:(0,l.jsxs)("div",{className:"truncate",children:["by ",(null===(t=e.user)||void 0===t?void 0:t.displayName)||"Unknown"]})},e._id)})})})]})});Me.displayName="SongItem";const Te=(0,r.memo)(e=>{let{moments:t,showMomentsPane:n,setShowMomentsPane:a,onSelectMoment:o}=e;const[s,i]=(0,r.useState)(1),c=t.length,d=Math.ceil(c/4),u=4*(s-1),m=t.slice(u,u+4);return r.useEffect(()=>{i(1)},[t.length]),0===c?null:(0,l.jsxs)("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,l.jsxs)("button",{onClick:()=>a(!n),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(oe,{className:"text-blue-600",size:20}),(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Event Moments (",c,")"]})]}),n?(0,l.jsx)(y,{size:20}):(0,l.jsx)(v,{size:20})]}),n&&(0,l.jsx)("div",{className:"border-t border-gray-200 p-4",children:c>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:m.map(e=>(0,l.jsx)(ze,{moment:e,onSelect:()=>o(e)},e._id))}),d>1&&(0,l.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[(0,l.jsx)("button",{onClick:()=>{s>1&&i(s-1)},disabled:1===s,className:"px-3 py-2 text-sm bg-gray-100 text-gray-600 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\u2190 Previous"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",s," of ",d]}),(0,l.jsxs)("span",{className:"text-xs text-gray-400",children:["(",c," total moments)"]})]}),(0,l.jsx)("button",{onClick:()=>{s<d&&i(s+1)},disabled:s===d,className:"px-3 py-2 text-sm bg-gray-100 text-gray-600 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next \u2192"})]})]}):(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(oe,{size:48,className:"mx-auto mb-3 text-gray-300"}),(0,l.jsx)("p",{className:"text-lg mb-2",children:"No moments yet for this event"}),(0,l.jsx)("p",{className:"text-sm",children:"Be the first to upload a moment from this show!"})]})})]})});Te.displayName="EventMomentsPane";const ze=(0,r.memo)(e=>{var t,n;let{moment:r,onSelect:a}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:a,style:{minHeight:"180px"},children:[r.mediaUrl&&(0,l.jsx)("div",{className:"relative aspect-video bg-gray-100 hover:opacity-90 transition-opacity",children:"video"===r.mediaType||null!==(t=r.fileName)&&void 0!==t&&t.toLowerCase().match(/\.(mov|mp4|webm)$/)?(0,l.jsx)(ie,{src:r.mediaUrl,type:"video",alt:r.songName,className:"w-full h-full object-cover",autoPlay:!1,muted:!0,controls:!1,preload:"none",adaptiveQuality:!0,mobileOptimized:!0,hoverToPlay:!0,style:{backgroundColor:"#000"},placeholder:(0,l.jsx)("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:(0,l.jsx)(oe,{className:"w-6 h-6 text-white/70"})})})}):null!==(n=r.mediaType)&&void 0!==n&&n.startsWith("image")?(0,l.jsx)("img",{src:r.mediaUrl,alt:r.songName,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)(oe,{className:"text-gray-400",size:32})})}),(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("div",{className:"text-xs font-semibold text-gray-800 mb-1 truncate",children:r.songName||"Unknown Song"}),r.contentType&&"song"!==r.contentType&&(0,l.jsx)("div",{className:"text-xs text-blue-600 font-medium capitalize",children:r.contentType}),r.momentDescription&&!r.momentDescription.toLowerCase().includes("test")&&(0,l.jsx)("p",{className:"text-xs text-gray-600 truncate",children:r.momentDescription})]})]})});ze.displayName="EventMomentCard";const Ae=ke,_e=b("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),De=b("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Le=b("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Oe=(0,r.memo)(e=>{let{onSongSelect:t,onPerformanceSelect:n}=e;const{isWeb3Enabled:a}=u(),[s,i]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[m,f]=(0,r.useState)(null),[p,h]=(0,r.useState)(null),[g,x]=(0,r.useState)(0);if((0,r.useEffect)(()=>{(async()=>{try{d(!0);const e=await fetch(`${o}/moments`,{signal:E(8e3),headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(!e.ok)throw new Error(`Failed to load moments: ${e.status}`);{const t=await e.json();i(t.moments||[])}}catch(e){console.error("Error loading moments:",e),f(e.message)}finally{d(!1)}})()},[]),c)return(0,l.jsx)(Fe,{});if(m)return(0,l.jsx)(Re,{error:m});const b=Math.ceil(s.length/6),y=6*g,v=y+6,w=s.slice(y,v);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(U,{onRefresh:async()=>{await new Promise(e=>setTimeout(e,500)),x(0),i([])},pullText:"Pull down to refresh moments",releaseText:"Release to refresh moments",refreshingText:"Loading latest moments...",children:(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)(Ue,{totalMoments:s.length,currentPage:g,totalPages:b,momentsPerPage:6,startIndex:y,endIndex:Math.min(v,s.length),isWeb3Enabled:a}),w.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:w.map(e=>(0,l.jsx)($e,{moment:e,onSongSelect:t,onPerformanceSelect:n,onMomentSelect:e=>{h(e),window.scrollTo(0,0)},isWeb3Enabled:a},e._id))}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-8",children:[(0,l.jsx)("button",{onClick:()=>{g>0&&(x(g-1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:0===g,className:"umo-btn px-4 py-2 transition-all mobile-touch-target "+(0===g?"opacity-50 cursor-not-allowed":"umo-btn--secondary hover:umo-btn--primary"),style:{minHeight:"44px",minWidth:"100px"},children:"\u2190 Previous"}),(0,l.jsxs)("div",{className:"text-sm umo-text-secondary umo-glass px-4 py-2",style:{minHeight:"44px",display:"flex",alignItems:"center",borderRadius:"4px"},children:["Page ",g+1," of ",b]}),(0,l.jsx)("button",{onClick:()=>{g<b-1&&(x(g+1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:g>=b-1,className:"umo-btn px-4 py-2 transition-all mobile-touch-target "+(g>=b-1?"opacity-50 cursor-not-allowed":"umo-btn--secondary hover:umo-btn--primary"),style:{minHeight:"44px",minWidth:"100px"},children:"Next \u2192"})]})]}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-gray-500 text-lg mb-2",children:"No moments found"}),(0,l.jsx)("div",{className:"text-gray-400 text-sm",children:"Be the first to upload a moment!"})]})]})}),p&&(0,l.jsx)(de,{moment:p,onClose:()=>{h(null)}})]})});Oe.displayName="MomentBrowser";const Fe=(0,r.memo)(()=>(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,l.jsx)("div",{className:"text-lg font-medium text-gray-700 mb-2",children:"Loading Recent Moments..."}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Fetching the latest uploads from fans"})]}));Fe.displayName="LoadingState";const Re=(0,r.memo)(e=>{let{error:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,l.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,l.jsx)("div",{className:"text-xl font-medium text-gray-800 mb-2",children:"Failed to Load Moments"}),(0,l.jsx)("div",{className:"text-gray-600 text-center max-w-md",children:t||"There was an error loading the moments. Please try again later."})]})});Re.displayName="ErrorState";const Ue=(0,r.memo)(e=>{let{totalMoments:t,currentPage:n,totalPages:r,startIndex:a,endIndex:o,isWeb3Enabled:s}=e;return(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,l.jsx)(_e,{className:"mr-2 text-blue-600",size:24}),"Recent Moments"]}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:r>1?(0,l.jsxs)(l.Fragment,{children:["Showing ",a+1,"-",o," of ",t," moments (6 at a time for performance)"]}):(0,l.jsx)(l.Fragment,{children:"Latest uploads from King Gizzard fans around the world"})})]}),(0,l.jsxs)("div",{className:"text-right",children:[r>1&&(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["Page ",n+1," of ",r]}),s()&&(0,l.jsxs)("div",{className:"flex items-center justify-end mt-2 text-xs text-gray-400 space-x-3",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-1 animate-pulse"}),(0,l.jsx)("span",{children:"minting now"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-1"}),(0,l.jsx)("span",{children:"tokenized"})]})]})]})]})})});Ue.displayName="MomentHeader";const $e=(0,r.memo)(e=>{var t,n,r;let{moment:a,onSongSelect:o,onPerformanceSelect:s,onMomentSelect:i,isWeb3Enabled:c}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200 moment-card",style:{minHeight:"300px"},children:[a.mediaUrl&&(0,l.jsx)("div",{className:"relative aspect-video bg-gray-100 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>i(a),children:"video"===a.mediaType||null!==(t=a.fileName)&&void 0!==t&&t.toLowerCase().match(/\.(mov|mp4|webm)$/)?(0,l.jsx)("div",{className:"relative w-full h-full",children:(0,l.jsx)(ie,{src:a.mediaUrl,type:"video",alt:a.songName,className:"w-full h-full object-cover",autoPlay:!1,muted:!0,controls:!1,preload:"none",adaptiveQuality:!0,mobileOptimized:!0,hoverToPlay:!0,style:{backgroundColor:"#000"},placeholder:(0,l.jsx)("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:(0,l.jsx)(oe,{className:"w-6 h-6 text-white/70"})})}),onError:e=>{console.log("Video error for",a.songName,":",{error:e.target.error,networkState:e.target.networkState,readyState:e.target.readyState,src:e.target.src,mediaType:a.mediaType})}})}):null!==(n=a.mediaType)&&void 0!==n&&n.startsWith("image")?(0,l.jsx)("img",{src:a.mediaUrl,alt:a.songName,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)(oe,{className:"text-gray-400",size:48})})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("div",{onClick:()=>i(a),className:"text-lg font-semibold text-gray-800 cursor-pointer hover:text-blue-600 transition-colors mb-2",children:a.songName||"Unknown Song"}),a.venueName&&(0,l.jsxs)("div",{onClick:()=>i(a),className:"flex items-center text-sm text-gray-600 cursor-pointer hover:text-blue-600 transition-colors mb-2",children:[(0,l.jsx)(De,{size:14,className:"mr-1"}),a.venueName,a.venueCity&&`, ${a.venueCity}`]}),a.performanceDate&&(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[(0,l.jsx)(Le,{size:14,className:"mr-1"}),C(a.performanceDate)]}),a.momentDescription&&!a.momentDescription.toLowerCase().includes("test")&&(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:a.momentDescription}),(0,l.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-400 pt-2 border-t",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(le,{size:12,className:"mr-1"}),(()=>{const e=new Date(a.createdAt),t=new Date,n=Math.floor((t-e)/864e5);return 0===n?"Today":1===n?"Yesterday":n<7?`${n} days ago`:n<30?`${Math.floor(n/7)} weeks ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:e.getFullYear()!==t.getFullYear()?"numeric":void 0})})(),(null===(r=a.user)||void 0===r?void 0:r.displayName)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mx-1",children:"\u2022"}),(0,l.jsx)(ae,{size:12,className:"mr-1"}),a.user.displayName]})]})})]})]})});$e.displayName="MomentCard";const Ie=Oe,Be=(0,r.memo)(e=>{let{onClose:t}=e;const[n,a]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)("login"),[x,b]=(0,r.useState)(""),{login:y,register:v}=i();return(0,l.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"login"===h?"Welcome Back":"Create Account"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"login"===h?"Sign in to upload and manage your UMO moments":"userNotFound"===h?"Set up your new account to get started":"Join the UMO community and start collecting moments"})]}),x&&(0,l.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 text-center",children:(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600 mr-2"}),x]})}),u&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),"userNotFound"===h&&(0,l.jsxs)("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4 text-center",children:[(0,l.jsxs)("p",{className:"font-medium",children:["No account found for ",n]}),(0,l.jsx)("p",{className:"text-sm mt-1",children:"Would you like to create a new account with this email?"})]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"login"===h?(async()=>{p(!0),m(""),b("");try{await y(n,o),b("Login successful! Refreshing page..."),setTimeout(()=>{window.location.reload()},1e3)}catch(e){e.message.includes("User not found")||e.message.includes("not found")?(g("userNotFound"),m(""),b("")):m(e.message)}finally{p(!1)}})():"register"!==h&&"userNotFound"!==h||(async()=>{if(p(!0),m(""),b(""),!c.trim())return m("Display name is required"),void p(!1);if(o.length<6)return m("Password must be at least 6 characters"),void p(!1);try{await v(n,o,c),b("Account created successfully! Refreshing page..."),setTimeout(()=>{window.location.reload()},1e3)}catch(e){m(e.message)}finally{p(!1)}})()},className:"space-y-4",children:[("register"===h||"userNotFound"===h)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name *"}),(0,l.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"How others will see you",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,l.jsx)("input",{type:"email",value:n,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",required:!0,disabled:"userNotFound"===h&&f})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,l.jsx)("input",{type:"password",value:o,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"login"===h?"Enter your password":"Create a password (min 6 characters)",required:!0,minLength:"login"!==h?6:void 0})]}),(0,l.jsx)("button",{type:"submit",disabled:f||!n||!o||("register"===h||"userNotFound"===h)&&!c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"login"===h?"Signing In...":"Creating Account..."]}):"login"===h?"Sign In":"Create Account"})]}),(0,l.jsx)("div",{className:"text-center mt-6",children:"login"===h?(0,l.jsx)("button",{onClick:()=>{if(g("register"),m(""),b(""),!c){const e=n.split("@")[0];d(e)}},className:"text-blue-600 hover:text-blue-800 underline",disabled:f,children:"Don't have an account? Create one"}):"userNotFound"===h?(0,l.jsx)("button",{onClick:()=>{g("login"),m(""),b(""),a(""),s(""),d("")},className:"text-gray-600 hover:text-gray-800 underline",disabled:f,children:"Try different email address"}):(0,l.jsx)("button",{onClick:()=>{g("login"),m(""),b(""),d("")},className:"text-blue-600 hover:text-blue-800 underline",disabled:f,children:"Already have an account? Sign in"})})]})});Be.displayName="LoginModal";const He=Be,We=(0,r.memo)(()=>(0,l.jsx)("footer",{className:"mt-16 border-t border-gray-200 pt-8 pb-6",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,l.jsxs)("div",{className:"text-center text-gray-500 text-sm",children:[(0,l.jsxs)("p",{className:"mb-2",children:[(0,l.jsx)("strong",{children:"Credits"})," - G.S 2025"]}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"mailto:sololoops@gmail.com?subject=UMO Repository Feedback",className:"text-blue-600 hover:text-blue-800 underline transition-colors",children:"Submit feedback here"})})]})})}));We.displayName="CreditsFooter";const Qe=We,qe=(0,r.memo)(e=>{var t,n,a;let{onClose:s}=e;const{user:c,token:d,logout:u}=i(),[m,f]=(0,r.useState)(null),[p,h]=(0,r.useState)([]),[g,x]=(0,r.useState)(!0),[b,y]=(0,r.useState)("profile"),v=(0,r.useCallback)(async()=>{try{x(!0);const e=await fetch(`${o}/profile`,{headers:{Authorization:`Bearer ${d}`}});if(e.ok){const t=await e.json();f(t.user)}const t=await fetch(`${o}/moments/my-status`,{headers:{Authorization:`Bearer ${d}`}});if(t.ok){const e=await t.json();h(e.moments)}}catch(e){console.error("\u274c Account data fetch error:",e)}finally{x(!1)}},[d]);(0,r.useEffect)(()=>{v()},[v]);const w=e=>{const t={pending:{label:"Pending Review",color:"text-yellow-600 bg-yellow-50"},approved:{label:"Approved",color:"text-green-600 bg-green-50"},rejected:{label:"Rejected",color:"text-red-600 bg-red-50"},needs_revision:{label:"Needs Revision",color:"text-orange-600 bg-orange-50"}};return t[e]||t.pending},j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(g)return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",style:{zIndex:9999},children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md border border-gray-300",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,l.jsx)("div",{className:"text-center mt-4",children:"Loading account..."})]})});const N=(e=>{const t={admin:{label:"Administrator",color:"text-purple-600"},mod:{label:"Moderator",color:"text-blue-600"},user:{label:"User",color:"text-gray-600"}};return t[e]||t.user})(null===m||void 0===m?void 0:m.role),k=p.reduce((e,t)=>{const n=t.approvalStatus||"pending";return e[n]||(e[n]=[]),e[n].push(t),e},{});return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{zIndex:9999},children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-gray-300",style:{backgroundColor:"white"},children:[(0,l.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b flex items-center justify-between",style:{backgroundColor:"#f9fafb"},children:[(0,l.jsx)("div",{className:"flex items-center gap-3",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"My Account"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:null===m||void 0===m?void 0:m.email})]})}),(0,l.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,l.jsx)("div",{className:"flex border-b",children:[{key:"profile",label:"Profile",count:null},{key:"uploads",label:"My Uploads",count:p.length},{key:"pending",label:"Pending",count:(null===(t=k.pending)||void 0===t?void 0:t.length)||0},{key:"needs_revision",label:"Needs Revision",count:(null===(n=k.needs_revision)||void 0===n?void 0:n.length)||0},{key:"approved",label:"Approved",count:(null===(a=k.approved)||void 0===a?void 0:a.length)||0}].map(e=>(0,l.jsxs)("button",{onClick:()=>y(e.key),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors "+(b===e.key?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label,null!==e.count&&e.count>0&&(0,l.jsx)("span",{className:"ml-2 bg-gray-200 text-gray-700 rounded-full px-2 py-1 text-xs",children:e.count})]},e.key))}),(0,l.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[70vh] bg-white",style:{backgroundColor:"white"},children:["profile"===b&&(0,l.jsx)(Ve,{profile:m,roleDisplay:N,logout:u,onClose:s}),"uploads"===b&&(0,l.jsx)(Ge,{moments:p,getStatusDisplay:w,formatDate:j}),"pending"===b&&(0,l.jsx)(Ye,{moments:k.pending||[],status:"pending",getStatusDisplay:w,formatDate:j}),"needs_revision"===b&&(0,l.jsx)(Ye,{moments:k.needs_revision||[],status:"needs_revision",getStatusDisplay:w,formatDate:j}),"approved"===b&&(0,l.jsx)(Ye,{moments:k.approved||[],status:"approved",getStatusDisplay:w,formatDate:j})]})]})})}),Ve=(0,r.memo)(e=>{let{profile:t,roleDisplay:n,logout:r,onClose:a}=e;return(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",style:{backgroundColor:"#f9fafb",border:"1px solid #d1d5db"},children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",style:{color:"#111827"},children:"Account Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,l.jsx)("div",{className:"text-gray-900",children:null===t||void 0===t?void 0:t.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,l.jsx)("div",{className:"text-gray-900",children:(null===t||void 0===t?void 0:t.displayName)||"Not set"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,l.jsx)("div",{className:`flex items-center gap-2 ${n.color}`,children:(0,l.jsx)("span",{className:"font-medium",children:n.label})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),(0,l.jsx)("div",{className:"text-gray-900",children:new Date(null===t||void 0===t?void 0:t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Active"}),(0,l.jsx)("div",{className:"text-gray-900",children:new Date(null===t||void 0===t?void 0:t.lastActive).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(null===t||void 0===t?void 0:t.roleAssignedAt)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Assigned"}),(0,l.jsx)("div",{className:"text-gray-900",children:new Date(t.roleAssignedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,l.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,l.jsx)("button",{onClick:()=>{r(),a()},className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Logout"})})]})})}),Ge=(0,r.memo)(e=>{let{moments:t,getStatusDisplay:n,formatDate:a}=e;const[s,c]=(0,r.useState)(null),[d,u]=(0,r.useState)({}),[m,f]=(0,r.useState)(null),{token:p}=i();return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold",children:["All My Uploads (",t.length,")"]}),0===t.length?(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udce4"}),(0,l.jsx)("div",{children:"No uploads yet"}),(0,l.jsx)("div",{className:"text-sm",children:"Upload your first moment to get started!"})]}):(0,l.jsx)("div",{className:"space-y-3",children:t.map(e=>{const t=n(e.approvalStatus),r="pending"===e.approvalStatus||"needs_revision"===e.approvalStatus,i=s===e._id,h=m===e._id;return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:e.songName}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.venueName,", ",e.venueCity," \u2022 ",a(e.performanceDate)]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploaded ",a(e.createdAt)]}),i?(0,l.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded border",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description:"}),(0,l.jsx)("textarea",{value:d.momentDescription,onChange:e=>u({...d,momentDescription:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Describe this moment..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Note:"}),(0,l.jsx)("textarea",{value:d.personalNote,onChange:e=>u({...d,personalNote:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Personal notes about this moment..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emotional Tags:"}),(0,l.jsx)("input",{type:"text",value:d.emotionalTags,onChange:e=>u({...d,emotionalTags:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"emotional, energetic, nostalgic (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Occasion:"}),(0,l.jsx)("input",{type:"text",value:d.specialOccasion,onChange:e=>u({...d,specialOccasion:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"birthday, anniversary, etc."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audio Quality:"}),(0,l.jsxs)("select",{value:d.audioQuality,onChange:e=>u({...d,audioQuality:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,l.jsx)("option",{value:"poor",children:"Poor"}),(0,l.jsx)("option",{value:"fair",children:"Fair"}),(0,l.jsx)("option",{value:"good",children:"Good"}),(0,l.jsx)("option",{value:"excellent",children:"Excellent"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Video Quality:"}),(0,l.jsxs)("select",{value:d.videoQuality,onChange:e=>u({...d,videoQuality:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,l.jsx)("option",{value:"poor",children:"Poor"}),(0,l.jsx)("option",{value:"fair",children:"Fair"}),(0,l.jsx)("option",{value:"good",children:"Good"}),(0,l.jsx)("option",{value:"excellent",children:"Excellent"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instruments:"}),(0,l.jsx)("input",{type:"text",value:d.instruments,onChange:e=>u({...d,instruments:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"guitar, piano, drums (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Appearances:"}),(0,l.jsx)("input",{type:"text",value:d.guestAppearances,onChange:e=>u({...d,guestAppearances:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"artist names (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crowd Reaction:"}),(0,l.jsx)("input",{type:"text",value:d.crowdReaction,onChange:e=>u({...d,crowdReaction:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"wild, singing along, silent..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unique Elements:"}),(0,l.jsx)("input",{type:"text",value:d.uniqueElements,onChange:e=>u({...d,uniqueElements:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"extended solo, different arrangement (comma-separated)"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t",children:[(0,l.jsx)("button",{onClick:()=>(async e=>{try{(await fetch(`${o}/moments/${e}/metadata`,{method:"PUT",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify(d)})).ok?(console.log("\u2705 Metadata updated"),window.location.reload()):(console.error("\u274c Failed to update metadata"),alert("Failed to update metadata"))}catch(t){console.error("\u274c Update error:",t),alert("Failed to update metadata")}c(null)})(e._id),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:"Save All Changes"}),(0,l.jsx)("button",{onClick:()=>c(null),className:"bg-gray-500 text-white px-4 py-2 rounded text-sm hover:bg-gray-600",children:"Cancel"})]})]}):null]}),(0,l.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,l.jsx)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:t.label}),r&&!i&&(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("button",{onClick:()=>(e=>{c(e._id),u({momentDescription:e.momentDescription||"",personalNote:e.personalNote||"",emotionalTags:e.emotionalTags||"",specialOccasion:e.specialOccasion||"",audioQuality:e.audioQuality||"good",videoQuality:e.videoQuality||"good",instruments:e.instruments||"",guestAppearances:e.guestAppearances||"",crowdReaction:e.crowdReaction||"",uniqueElements:e.uniqueElements||""})})(e),className:"bg-gray-600 text-white px-2 py-1 rounded text-xs hover:bg-gray-700",title:"Edit metadata",children:"\u270f\ufe0f Edit"}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to withdraw this submission? This cannot be undone.")){try{f(e),(await fetch(`${o}/moments/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${p}`}})).ok?(console.log("\u2705 Submission withdrawn"),window.location.reload()):(console.error("\u274c Failed to withdraw submission"),alert("Failed to withdraw submission"))}catch(t){console.error("\u274c Delete error:",t),alert("Failed to withdraw submission")}f(null)}})(e._id),disabled:h,className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700 disabled:opacity-50",title:"Withdraw submission",children:h?"...":"\ud83d\uddd1\ufe0f Withdraw"})]})]})]}),e.rejectionReason&&(0,l.jsxs)("div",{className:"mt-2 p-2 rounded text-sm "+("needs_revision"===e.approvalStatus?"bg-orange-50 border border-orange-200 text-orange-700":"bg-red-50 border border-red-200 text-red-700"),children:[(0,l.jsx)("strong",{children:"needs_revision"===e.approvalStatus?"Moderator feedback:":"Rejection reason:"})," ",e.rejectionReason]})]},e._id)})})]})}),Ye=(0,r.memo)(e=>{let{moments:t,status:n,getStatusDisplay:a,formatDate:s}=e;const c=a(n),[d,u]=(0,r.useState)(null),[m,f]=(0,r.useState)({}),[p,h]=(0,r.useState)(null),{token:g}=i();return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[c.label," Uploads (",t.length,")"]}),0===t.length?(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)("div",{className:"text-lg font-semibold mb-2",children:c.label}),(0,l.jsxs)("div",{children:["No ",n," uploads"]})]}):(0,l.jsx)("div",{className:"space-y-3",children:t.map(e=>{const t="pending"===n||"needs_revision"===n,r=d===e._id,a=p===e._id;return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:e.songName}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.venueName,", ",e.venueCity," \u2022 ",s(e.performanceDate)]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploaded ",s(e.createdAt),e.reviewedAt&&(0,l.jsxs)("span",{children:[" \u2022 Reviewed ",s(e.reviewedAt)]})]}),r?(0,l.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded border",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description:"}),(0,l.jsx)("textarea",{value:m.momentDescription,onChange:e=>f({...m,momentDescription:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Describe this moment..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Note:"}),(0,l.jsx)("textarea",{value:m.personalNote,onChange:e=>f({...m,personalNote:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Personal notes about this moment..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emotional Tags:"}),(0,l.jsx)("input",{type:"text",value:m.emotionalTags,onChange:e=>f({...m,emotionalTags:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"emotional, energetic, nostalgic (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Occasion:"}),(0,l.jsx)("input",{type:"text",value:m.specialOccasion,onChange:e=>f({...m,specialOccasion:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"birthday, anniversary, etc."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audio Quality:"}),(0,l.jsxs)("select",{value:m.audioQuality,onChange:e=>f({...m,audioQuality:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,l.jsx)("option",{value:"poor",children:"Poor"}),(0,l.jsx)("option",{value:"fair",children:"Fair"}),(0,l.jsx)("option",{value:"good",children:"Good"}),(0,l.jsx)("option",{value:"excellent",children:"Excellent"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Video Quality:"}),(0,l.jsxs)("select",{value:m.videoQuality,onChange:e=>f({...m,videoQuality:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,l.jsx)("option",{value:"poor",children:"Poor"}),(0,l.jsx)("option",{value:"fair",children:"Fair"}),(0,l.jsx)("option",{value:"good",children:"Good"}),(0,l.jsx)("option",{value:"excellent",children:"Excellent"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instruments:"}),(0,l.jsx)("input",{type:"text",value:m.instruments,onChange:e=>f({...m,instruments:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"guitar, piano, drums (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Appearances:"}),(0,l.jsx)("input",{type:"text",value:m.guestAppearances,onChange:e=>f({...m,guestAppearances:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"artist names (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crowd Reaction:"}),(0,l.jsx)("input",{type:"text",value:m.crowdReaction,onChange:e=>f({...m,crowdReaction:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"wild, singing along, silent..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unique Elements:"}),(0,l.jsx)("input",{type:"text",value:m.uniqueElements,onChange:e=>f({...m,uniqueElements:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"extended solo, different arrangement (comma-separated)"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t",children:[(0,l.jsx)("button",{onClick:()=>(async e=>{try{(await fetch(`${o}/moments/${e}/metadata`,{method:"PUT",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify(m)})).ok?(console.log("\u2705 Metadata updated"),window.location.reload()):(console.error("\u274c Failed to update metadata"),alert("Failed to update metadata"))}catch(t){console.error("\u274c Update error:",t),alert("Failed to update metadata")}u(null)})(e._id),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:"Save All Changes"}),(0,l.jsx)("button",{onClick:()=>u(null),className:"bg-gray-500 text-white px-4 py-2 rounded text-sm hover:bg-gray-600",children:"Cancel"})]})]}):null]}),(0,l.jsx)("div",{className:"flex flex-col items-end gap-2",children:t&&!r&&(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("button",{onClick:()=>(e=>{u(e._id),f({momentDescription:e.momentDescription||"",personalNote:e.personalNote||"",emotionalTags:e.emotionalTags||"",specialOccasion:e.specialOccasion||"",audioQuality:e.audioQuality||"good",videoQuality:e.videoQuality||"good",instruments:e.instruments||"",guestAppearances:e.guestAppearances||"",crowdReaction:e.crowdReaction||"",uniqueElements:e.uniqueElements||""})})(e),className:"bg-gray-600 text-white px-2 py-1 rounded text-xs hover:bg-gray-700",title:"Edit metadata",children:"\u270f\ufe0f Edit"}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to withdraw this submission? This cannot be undone.")){try{h(e),(await fetch(`${o}/moments/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`}})).ok?(console.log("\u2705 Submission withdrawn"),window.location.reload()):(console.error("\u274c Failed to withdraw submission"),alert("Failed to withdraw submission"))}catch(t){console.error("\u274c Delete error:",t),alert("Failed to withdraw submission")}h(null)}})(e._id),disabled:a,className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700 disabled:opacity-50",title:"Withdraw submission",children:a?"...":"\ud83d\uddd1\ufe0f Withdraw"})]})})]}),e.rejectionReason&&(0,l.jsxs)("div",{className:"mt-2 p-2 rounded text-sm "+("needs_revision"===e.approvalStatus?"bg-orange-50 border border-orange-200 text-orange-700":"bg-red-50 border border-red-200 text-red-700"),children:[(0,l.jsx)("strong",{children:"needs_revision"===e.approvalStatus?"Moderator feedback:":"Rejection reason:"})," ",e.rejectionReason]})]},e._id)})})]})});Ve.displayName="ProfileTab",Ge.displayName="UploadsTab",Ye.displayName="StatusTab",qe.displayName="MyAccount";const Ke=qe,Je=(0,r.memo)(e=>{let{onClose:t}=e;const{token:n,user:a}=i(),s="admin"===(null===a||void 0===a?void 0:a.role)||"solo@solo.solo"===(null===a||void 0===a?void 0:a.email)||"solo2@solo.solo"===(null===a||void 0===a?void 0:a.email),[c,d]=(null===a||void 0===a||a.role,(0,r.useState)(s?"users":"moderation")),[u,m]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[h,g]=(0,r.useState)(null),[x,b]=(0,r.useState)(!0),[y,v]=(0,r.useState)(""),w=(0,r.useCallback)(async()=>{try{if(b(!0),v(""),s){const e=await fetch(`${o}/admin/users`,{headers:{Authorization:`Bearer ${n}`}});if(e.ok){const t=await e.json();m(t.users)}else if(403===e.status)return void v("Access denied: Admin privileges required")}const e=await fetch(`${o}/moderation/pending`,{headers:{Authorization:`Bearer ${n}`}});if(e.ok){const t=await e.json();p(t.moments)}const t=await fetch(`${o}/admin/settings`,{headers:{Authorization:`Bearer ${n}`}});if(t.ok){const e=await t.json();g(e.settings)}}catch(y){v("Failed to load admin data")}finally{b(!1)}},[n,s]);(0,r.useEffect)(()=>{w()},[w]);const j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return x?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),(0,l.jsx)("div",{className:"text-center mt-4",children:"Loading admin panel..."})]})}):y&&y.includes("Access denied")?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md text-center",children:[(0,l.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\ud83d\udeab"}),(0,l.jsx)("div",{className:"text-xl font-bold text-gray-800 mb-2",children:"Access Denied"}),(0,l.jsx)("div",{className:"text-gray-600 mb-4",children:"Administrator privileges required"}),(0,l.jsx)("button",{onClick:t,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Close"})]})}):(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden border border-gray-300",style:{backgroundColor:"white"},children:[(0,l.jsxs)("div",{className:"bg-gray-100 px-6 py-4 border-b border-gray-300 flex items-center justify-between",style:{backgroundColor:"#e5e7eb"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"User management & content moderation"})]}),(0,l.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),y&&!y.includes("Access denied")&&(0,l.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:[(0,l.jsx)("div",{className:"text-red-700",children:y}),(0,l.jsx)("button",{onClick:()=>v(""),className:"text-red-500 hover:text-red-700 text-sm mt-1",children:"Dismiss"})]}),(0,l.jsx)("div",{className:"flex border-b",children:[...s?[{key:"users",label:"Users",count:u.length}]:[],{key:"moderation",label:"Pending Review",count:f.length},...s?[{key:"settings",label:"Settings",count:null}]:[]].map(e=>(0,l.jsxs)("button",{onClick:()=>d(e.key),className:"px-6 py-3 text-sm font-medium border-b-2 transition-colors "+(c===e.key?"border-purple-500 text-purple-600 bg-purple-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label,e.count>0&&(0,l.jsx)("span",{className:"ml-2 bg-gray-200 text-gray-700 rounded-full px-2 py-1 text-xs",children:e.count})]},e.key))}),(0,l.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[70vh] bg-white",children:["users"===c&&s&&(0,l.jsx)(Xe,{users:u,assignRole:async(e,t)=>{try{const r=await fetch(`${o}/admin/users/${e}/role`,{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({role:t})});if(r.ok)await r.json(),m(u.map(n=>n._id===e?{...n,role:t,roleAssignedAt:(new Date).toISOString()}:n));else{const e=await r.json();v(e.error||"Failed to assign role")}}catch(y){v("Failed to assign role")}},getRoleDisplay:e=>{const t={admin:{label:"Administrator",color:"text-purple-600"},mod:{label:"Moderator",color:"text-blue-600"},user:{label:"User",color:"text-gray-600"}};return t[e]||t.user},formatDate:j}),"moderation"===c&&(0,l.jsx)(Ze,{pendingMoments:f,approveMoment:async e=>{try{const t=await fetch(`${o}/moderation/moments/${e}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${n}`}});if(t.ok)console.log("\u2705 Moment approved"),p(f.filter(t=>t._id!==e));else{const e=await t.json();v(e.error||"Failed to approve moment")}}catch(y){console.error("\u274c Approval error:",y),v("Failed to approve moment")}},rejectMoment:async(e,t)=>{try{const r=await fetch(`${o}/moderation/moments/${e}/reject`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({reason:t})});if(r.ok)console.log("\u2705 Moment rejected and deleted"),p(f.filter(t=>t._id!==e));else{const e=await r.json();v(e.error||"Failed to reject moment")}}catch(y){console.error("\u274c Rejection error:",y),v("Failed to reject moment")}},formatDate:j}),"settings"===c&&s&&(0,l.jsx)(et,{platformSettings:h,setPlatformSettings:g,token:n})]})]})})}),Xe=(0,r.memo)(e=>{let{users:t,assignRole:n,getRoleDisplay:a,formatDate:o}=e;const[s,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),u=t.reduce((e,t)=>(e[t.role]=(e[t.role]||0)+1,e),{});return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(u).map(e=>{let[t,n]=e;const r=a(t);return(0,l.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:n}),(0,l.jsxs)("div",{className:`text-sm ${r.color}`,children:[r.label,"s"]})]})})},t)})}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold",children:["All Users (",t.length,")"]}),t.map(e=>{const t=a(e.role);return(0,l.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:e.displayName||e.email}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]}),(0,l.jsx)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.color} bg-gray-100`,children:t.label})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,l.jsxs)("div",{children:["Joined: ",o(e.createdAt)]}),(0,l.jsxs)("div",{children:["Last active: ",o(e.lastActive)]}),e.roleAssignedAt&&(0,l.jsxs)("div",{children:["Role assigned: ",o(e.roleAssignedAt)]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("select",{value:s===e._id?c:e.role,onChange:t=>{i(e._id),d(t.target.value)},className:"text-sm border border-gray-300 rounded px-2 py-1",children:[(0,l.jsx)("option",{value:"user",children:"User"}),(0,l.jsx)("option",{value:"mod",children:"Moderator"}),(0,l.jsx)("option",{value:"admin",children:"Administrator"})]}),s===e._id&&c!==e.role&&(0,l.jsx)("button",{onClick:()=>{n(e._id,c),i(null),d("")},className:"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700",children:"Update"})]})]})},e._id)})]})]})}),Ze=(0,r.memo)(e=>{let{pendingMoments:t,approveMoment:n,rejectMoment:a,formatDate:s}=e;const[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[x,b]=(0,r.useState)({}),{token:y}=i();return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold",children:["Pending Content Review (",t.length,")"]}),t.length>0&&(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Review content uploaded by users before it becomes public"})]}),0===t.length?(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"\u2705"}),(0,l.jsx)("div",{children:"No pending content"}),(0,l.jsx)("div",{className:"text-sm",children:"All uploads have been reviewed!"})]}):(0,l.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t,r;return(0,l.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-yellow-50",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[e.mediaUrl&&(0,l.jsx)("div",{className:"flex-shrink-0",children:"video"===e.mediaType?(0,l.jsx)("video",{src:e.mediaUrl,className:"w-32 h-24 object-cover rounded border",controls:!0,preload:"metadata"}):"image"===e.mediaType?(0,l.jsx)("img",{src:e.mediaUrl,alt:"Moment preview",className:"w-32 h-24 object-cover rounded border"}):(0,l.jsx)("div",{className:"w-32 h-24 bg-gray-200 rounded border flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-500 text-xs",children:"Audio"})})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:e.songName}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.venueName,", ",e.venueCity," \u2022 ",s(e.performanceDate)]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploaded by ",(null===(t=e.user)||void 0===t?void 0:t.displayName)||(null===(r=e.user)||void 0===r?void 0:r.email)," on ",s(e.createdAt)]}),e.momentDescription&&(0,l.jsxs)("p",{className:"text-sm text-gray-700 mt-2 bg-white p-2 rounded border",children:['"',e.momentDescription,'"']}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("button",{onClick:()=>p(f===e._id?null:e._id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:f===e._id?"\u25bc Hide Metadata":"\u25b6 Show All Metadata"})}),f===e._id&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded border",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Description:"})," ",e.momentDescription||"None"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Personal Note:"})," ",e.personalNote||"None"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Audio Quality:"})," ",e.audioQuality||"good"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Video Quality:"})," ",e.videoQuality||"good"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Special Occasion:"})," ",e.specialOccasion||"None"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Emotional Tags:"})," ",e.emotionalTags||"None"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Instruments:"})," ",e.instruments||"None"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Guest Appearances:"})," ",e.guestAppearances||"None"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Crowd Reaction:"})," ",e.crowdReaction||"None"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Unique Elements:"})," ",e.uniqueElements||"None"]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("strong",{children:"Moment Type:"})," ",e.momentType||"performance"]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("strong",{children:"Content Type:"})," ",e.contentType||"song"]})]}),!h&&(0,l.jsx)("button",{onClick:()=>(e=>{g(e._id),b({momentDescription:e.momentDescription||"",personalNote:e.personalNote||"",emotionalTags:e.emotionalTags||"",specialOccasion:e.specialOccasion||"",audioQuality:e.audioQuality||"good",videoQuality:e.videoQuality||"good",instruments:e.instruments||"",guestAppearances:e.guestAppearances||"",crowdReaction:e.crowdReaction||"",uniqueElements:e.uniqueElements||""})})(e),className:"mt-3 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"\u270f\ufe0f Edit Metadata"})]}),h===e._id&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded border border-blue-200",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Edit Metadata (changes will be applied and sent back to uploader)"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description:"}),(0,l.jsx)("textarea",{value:x.momentDescription,onChange:e=>b({...x,momentDescription:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Describe this moment..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Note:"}),(0,l.jsx)("textarea",{value:x.personalNote,onChange:e=>b({...x,personalNote:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Personal notes about this moment..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emotional Tags:"}),(0,l.jsx)("input",{type:"text",value:x.emotionalTags,onChange:e=>b({...x,emotionalTags:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"emotional, energetic, nostalgic (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Occasion:"}),(0,l.jsx)("input",{type:"text",value:x.specialOccasion,onChange:e=>b({...x,specialOccasion:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"birthday, anniversary, etc."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audio Quality:"}),(0,l.jsxs)("select",{value:x.audioQuality,onChange:e=>b({...x,audioQuality:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,l.jsx)("option",{value:"poor",children:"Poor"}),(0,l.jsx)("option",{value:"fair",children:"Fair"}),(0,l.jsx)("option",{value:"good",children:"Good"}),(0,l.jsx)("option",{value:"excellent",children:"Excellent"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Video Quality:"}),(0,l.jsxs)("select",{value:x.videoQuality,onChange:e=>b({...x,videoQuality:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,l.jsx)("option",{value:"poor",children:"Poor"}),(0,l.jsx)("option",{value:"fair",children:"Fair"}),(0,l.jsx)("option",{value:"good",children:"Good"}),(0,l.jsx)("option",{value:"excellent",children:"Excellent"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instruments:"}),(0,l.jsx)("input",{type:"text",value:x.instruments,onChange:e=>b({...x,instruments:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"guitar, piano, drums (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Appearances:"}),(0,l.jsx)("input",{type:"text",value:x.guestAppearances,onChange:e=>b({...x,guestAppearances:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"artist names (comma-separated)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crowd Reaction:"}),(0,l.jsx)("input",{type:"text",value:x.crowdReaction,onChange:e=>b({...x,crowdReaction:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"wild, singing along, silent..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unique Elements:"}),(0,l.jsx)("input",{type:"text",value:x.uniqueElements,onChange:e=>b({...x,uniqueElements:e.target.value}),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"extended solo, different arrangement (comma-separated)"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t",children:[(0,l.jsx)("button",{onClick:()=>(async e=>{try{(await fetch(`${o}/moderation/moments/${e}/send-back`,{method:"PUT",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({...x,moderatorNote:"Please review the suggested changes to your moment metadata."})})).ok?(console.log("\u2705 Sent back for review"),window.location.reload()):(console.error("\u274c Failed to send back for review"),alert("Failed to send back for review"))}catch(t){console.error("\u274c Send back error:",t),alert("Failed to send back for review")}g(null)})(e._id),className:"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700",children:"\ud83d\udce4 Apply Changes & Send Back"}),(0,l.jsx)("button",{onClick:()=>g(null),className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Cancel"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,l.jsx)("button",{onClick:()=>n(e._id),className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 flex items-center gap-1",disabled:h===e._id,children:"\u2705 Approve"}),(0,l.jsx)("button",{onClick:()=>m(e._id),className:"bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700 flex items-center gap-1",disabled:h===e._id,children:"\u274c Reject"})]}),u===e._id&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-white border rounded",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejection Reason:"}),(0,l.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Explain why this content is being rejected...",className:"w-full p-2 border border-gray-300 rounded text-sm",rows:"2"}),(0,l.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,l.jsx)("button",{onClick:()=>{return t=e._id,void(c.trim()?(a(t,c),d(""),m(null)):alert("Please provide a rejection reason"));var t},className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Confirm Rejection"}),(0,l.jsx)("button",{onClick:()=>{m(null),d("")},className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Cancel"})]})]})]})]})},e._id)})})]})}),et=(0,r.memo)(e=>{var t,n,a;let{platformSettings:s,setPlatformSettings:i,token:c}=e;const{cacheStatus:d,showDetails:u,refreshing:m,refreshStatus:f,handleRefresh:p,toggleDetails:h,checkRefreshStatus:g}=_(o),[x,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[w,j]=(0,r.useState)(s),[N,k]=(0,r.useState)(!1);if(r.useEffect(()=>{s&&(j(s),k(!1))},[s]),!s)return(0,l.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,l.jsx)("span",{className:"ml-3",children:"Loading platform settings..."})]});const S=(e,t)=>{j(n=>({...n,[e]:t})),k(!0)};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Platform Settings"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[y&&(0,l.jsx)("div",{className:"text-green-600 text-sm font-medium",children:y}),N&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{j(s),k(!1)},disabled:x,className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:"Reset"}),(0,l.jsx)("button",{onClick:async()=>{try{b(!0),v("");const e=await fetch(`${o}/admin/settings`,{method:"PUT",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(e.ok){const t=await e.json();i(t.settings),j(t.settings),k(!1),v("\u2705 All platform settings saved successfully"),setTimeout(()=>{window.location.reload()},1500)}else v("\u274c Failed to save settings")}catch(e){v("\u274c Error saving settings")}finally{b(!1)}},disabled:x,className:"px-4 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-1",children:x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),"Saving..."]}):(0,l.jsx)(l.Fragment,{children:"\ud83d\udcbe Save Changes"})})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"\ud83d\udcca Settings Summary"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,l.jsxs)("div",{className:"p-3 rounded-lg "+(null!==w&&void 0!==w&&w.web3Enabled?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"),children:[(0,l.jsx)("div",{className:"text-2xl",children:null!==w&&void 0!==w&&w.web3Enabled?"\ud83c\udf10":"\ud83d\udeab"}),(0,l.jsx)("div",{className:"text-sm font-medium",children:"Web3"}),(0,l.jsx)("div",{className:"text-xs",children:null!==w&&void 0!==w&&w.web3Enabled?"Enabled":"Disabled"})]}),(0,l.jsxs)("div",{className:"p-3 rounded-lg "+(null!==w&&void 0!==w&&w.uploadsEnabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:[(0,l.jsx)("div",{className:"text-2xl",children:null!==w&&void 0!==w&&w.uploadsEnabled?"\ud83d\udce4":"\ud83d\udeab"}),(0,l.jsx)("div",{className:"text-sm font-medium",children:"Uploads"}),(0,l.jsx)("div",{className:"text-xs",children:null!==w&&void 0!==w&&w.uploadsEnabled?"Enabled":"Disabled"})]}),(0,l.jsxs)("div",{className:"p-3 rounded-lg "+(null!==w&&void 0!==w&&w.maintenanceMode?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:[(0,l.jsx)("div",{className:"text-2xl",children:null!==w&&void 0!==w&&w.maintenanceMode?"\ud83d\udd27":"\u2705"}),(0,l.jsx)("div",{className:"text-sm font-medium",children:"Status"}),(0,l.jsx)("div",{className:"text-xs",children:null!==w&&void 0!==w&&w.maintenanceMode?"Maintenance":"Live"})]}),(0,l.jsxs)("div",{className:"p-3 rounded-lg "+(null!==w&&void 0!==w&&w.autoApprovalEnabled?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:null!==w&&void 0!==w&&w.autoApprovalEnabled?"Auto Approval":"Manual Review"}),(0,l.jsx)("div",{className:"text-sm font-medium",children:"Moderation"}),(0,l.jsx)("div",{className:"text-xs",children:null!==w&&void 0!==w&&w.autoApprovalEnabled?"Auto":"Manual"})]})]})]}),d&&(0,l.jsxs)("div",{className:"bg-amber-50 rounded-lg p-6 border border-amber-200",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-amber-900 mb-4 flex items-center gap-2",children:"\ud83d\udcca Cache Status"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-700",children:d.hasCache?"Cache Status":"Building UMO Database..."}),(0,l.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:d.hasCache?`Last updated: ${d.lastUpdated?new Date(d.lastUpdated).toLocaleDateString():"Unknown"}`:"First-time setup: Loading all UMO performance data"}),d.needsRefresh&&(0,l.jsx)("p",{className:"text-xs text-amber-700 mt-1 font-medium",children:"\u26a0\ufe0f Cache refresh recommended - new data available"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:h,className:"text-amber-700 hover:text-amber-900 text-sm font-medium",children:u?"Hide":"Details"}),d.hasCache&&(0,l.jsx)("button",{onClick:p,disabled:m,className:"px-3 py-1.5 bg-amber-600 text-white rounded text-sm hover:bg-amber-700 disabled:opacity-50 transition-colors",children:m?"Refreshing...":"Refresh Cache"})]})]}),u&&d.stats&&(0,l.jsx)("div",{className:"mt-3 pt-3 border-t border-amber-200 text-sm text-gray-700",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Performances:"})," ",d.stats.totalPerformances||0]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Songs:"})," ",d.stats.totalSongs||0]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"API Calls:"})," ",d.stats.apiCallsUsed||0]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Date Range:"})," ",(null===(t=d.stats.dateRange)||void 0===t?void 0:t.earliest)||"?"," - ",(null===(n=d.stats.dateRange)||void 0===n?void 0:n.latest)||"?"]})]})})]})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center gap-2",children:"\ud83c\udf10 Web3 & NFT Features"}),(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:"Enable Web3/NFT Layer"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Controls whether users can see NFT minting options, connect wallets, and create blockchain tokens. When disabled, all Web3 features are hidden from the interface."}),(null===w||void 0===w?void 0:w.web3Enabled)&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("p",{className:"text-xs text-purple-700 font-medium",children:"Active Features:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:null===(a=w.web3Features)||void 0===a?void 0:a.map(e=>(0,l.jsx)("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:e},e))})]})]}),(0,l.jsxs)("label",{className:"flex items-center cursor-pointer ml-4",children:[(0,l.jsx)("input",{type:"checkbox",checked:(null===w||void 0===w?void 0:w.web3Enabled)||!1,onChange:e=>S("web3Enabled",e.target.checked),disabled:x,className:"w-5 h-5 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium "+(null!==w&&void 0!==w&&w.web3Enabled?"text-green-700":"text-gray-500"),children:null!==w&&void 0!==w&&w.web3Enabled?"Enabled":"Disabled"})]})]})})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:"\ud83c\udf9b\ufe0f Platform Controls"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:"Enable Uploads"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to upload new moments"})]}),(0,l.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:(null===w||void 0===w?void 0:w.uploadsEnabled)||!1,onChange:e=>S("uploadsEnabled",e.target.checked),disabled:x,className:"w-5 h-5 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium "+(null!==w&&void 0!==w&&w.uploadsEnabled?"text-green-700":"text-gray-500"),children:null!==w&&void 0!==w&&w.uploadsEnabled?"Enabled":"Disabled"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Show maintenance message to users"})]}),(0,l.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:(null===w||void 0===w?void 0:w.maintenanceMode)||!1,onChange:e=>S("maintenanceMode",e.target.checked),disabled:x,className:"w-5 h-5 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500 focus:ring-2"}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium "+(null!==w&&void 0!==w&&w.maintenanceMode?"text-red-700":"text-gray-500"),children:null!==w&&void 0!==w&&w.maintenanceMode?"Active":"Inactive"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:"Auto-Approval"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Skip moderation queue (bypass review)"})]}),(0,l.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:(null===w||void 0===w?void 0:w.autoApprovalEnabled)||!1,onChange:e=>S("autoApprovalEnabled",e.target.checked),disabled:x,className:"w-5 h-5 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 focus:ring-2"}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium "+(null!==w&&void 0!==w&&w.autoApprovalEnabled?"text-orange-700":"text-gray-500"),children:null!==w&&void 0!==w&&w.autoApprovalEnabled?"Enabled":"Disabled"})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center gap-2",children:"\ud83d\udccb Platform Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform Name"}),(0,l.jsx)("div",{className:"text-gray-900",children:null===w||void 0===w?void 0:w.platformName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Email"}),(0,l.jsx)("div",{className:"text-gray-900",children:null===w||void 0===w?void 0:w.adminEmail})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Upload Size"}),(0,l.jsxs)("div",{className:"text-gray-900",children:[null!==w&&void 0!==w&&w.maxFileSize?Math.round(w.maxFileSize/1024/1024/1024):0," GB"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),(0,l.jsx)("div",{className:"text-gray-900",children:null!==w&&void 0!==w&&w.updatedAt?new Date(w.updatedAt).toLocaleString():"Never"})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform Description"}),(0,l.jsx)("div",{className:"text-gray-900 text-sm",children:null===w||void 0===w?void 0:w.platformDescription})]})]})]})});Xe.displayName="UsersTab",Ze.displayName="ModerationTab",et.displayName="SettingsTab",Je.displayName="AdminPanel";const tt=Je,nt=(0,r.memo)(()=>{const[e,t]=(0,r.useState)("home"),[n,a]=(0,r.useState)("moments"),[s,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,f]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),{user:v,logout:w,loading:j}=i(),{getBadgeInfo:N,refreshNotifications:k}=L(o);console.log("\ud83d\udd0d App.js - Auth state:",{user:v,loading:j,hasUser:!!v}),console.log("\ud83d\udd0d User email:",null===v||void 0===v?void 0:v.email),console.log("\ud83d\udd0d User role:",null===v||void 0===v?void 0:v.role),console.log("\ud83d\udd0d Admin button should show:","admin"===(null===v||void 0===v?void 0:v.role)||"mod"===(null===v||void 0===v?void 0:v.role)||"solo@solo.solo"===(null===v||void 0===v?void 0:v.email));const S=()=>{t("home"),c(null),u(null)};return j?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-xl flex items-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading King Gizzard Archive..."]})}):m?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,l.jsx)(He,{onClose:()=>f(!1)}),(0,l.jsx)("div",{className:"p-4 border-t",children:(0,l.jsx)("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Continue Browsing Without Login"})})]})}):(0,l.jsxs)("div",{className:"umo-container",children:[(0,l.jsxs)("div",{className:"umo-container-fluid",children:[(0,l.jsx)(rt,{user:v,logout:w,onLoginClick:()=>f(!0),onMyAccountClick:()=>{h(!0),k()},onAdminPanelClick:()=>{x(!0),k()},currentView:e,browseMode:n,onBrowseModeChange:e=>{a(e),c(null),u(null),t("home")},onHomeClick:S,badgeInfo:N(),showHowToGuide:b,onToggleHowToGuide:()=>y(!b)}),(0,l.jsx)(F,{}),(0,l.jsx)(at,{currentView:e,browseMode:n,selectedSong:s,selectedPerformance:d,onPerformanceSelect:e=>{console.log("Selected performance:",e),u(e),t("performance")},onSongSelect:e=>{console.log("Selected song data:",e),c(e),t("song")},onBack:S}),(0,l.jsx)(Qe,{})]}),p&&(0,l.jsx)(Ke,{onClose:()=>{h(!1),k()}}),g&&(0,l.jsx)(tt,{onClose:()=>{x(!1),k()}})]})});nt.displayName="MainApp";const rt=(0,r.memo)(e=>{let{user:t,logout:n,onLoginClick:a,onMyAccountClick:o,onAdminPanelClick:s,currentView:i,browseMode:c,onBrowseModeChange:d,onHomeClick:u,badgeInfo:m,showHowToGuide:f,onToggleHowToGuide:p}=e;const[h,g]=(0,r.useState)(!1),x=()=>g(!1);return(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"block sm:hidden",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4 p-3 bg-white/90 backdrop-blur-sm",style:{borderRadius:"4px",marginBottom:"1rem"},children:[(0,l.jsxs)("button",{onClick:()=>{p()},className:"flex-1 text-left flex items-center gap-2",title:"Click for site info and how to use",children:[(0,l.jsx)("h1",{className:"umo-heading umo-heading--sm text-blue-600",children:"King Gizzard Archive"}),f?(0,l.jsx)(y,{size:14,className:"text-blue-600"}):(0,l.jsx)(v,{size:14,className:"text-blue-600"})]}),(0,l.jsx)("button",{onClick:()=>g(!h),className:"p-2 text-gray-600 hover:text-gray-900 focus:outline-none",style:{minHeight:"44px",minWidth:"44px"},children:h?(0,l.jsx)(w,{size:24}):(0,l.jsx)(j,{size:24})})]}),f&&(0,l.jsxs)("div",{className:"mb-4 umo-card p-3",children:[(0,l.jsx)("h3",{className:"umo-heading umo-heading--sm mb-2",children:"How to Use King Gizzard Archive"}),(0,l.jsx)("p",{className:"umo-text-secondary text-xs mb-3",children:"Explore King Gizzard's performance history and upload your concert moments."}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center text-xs font-bold text-blue-600",children:"1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"umo-text-primary text-xs font-medium",children:"Browse & Explore"}),(0,l.jsx)("div",{className:"umo-text-secondary text-xs",children:"Use tabs to browse Moments, Shows, Songs"})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center text-xs font-bold text-blue-600",children:"2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"umo-text-primary text-xs font-medium",children:"Upload Moments"}),(0,l.jsx)("div",{className:"umo-text-secondary text-xs",children:"Login \u2192 My Account \u2192 Upload New Moment"})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-green-100 rounded-full flex items-center justify-center text-xs font-bold text-green-600",children:"\u2713"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"umo-text-primary text-xs font-medium",children:"Approval & Sharing"}),(0,l.jsx)("div",{className:"umo-text-secondary text-xs",children:"Check My Account for status updates"})]})]})]})]}),h&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:x,children:(0,l.jsx)("div",{className:"fixed top-0 right-0 h-full w-80 umo-glass shadow-lg transform transition-transform duration-300 ease-in-out",onClick:e=>e.stopPropagation(),children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-lg font-bold umo-text-primary",children:"Menu"}),(0,l.jsx)("button",{onClick:x,className:"umo-btn umo-btn--secondary p-2",style:{minHeight:"44px",minWidth:"44px"},children:(0,l.jsx)(w,{size:24})})]}),(0,l.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,l.jsx)("button",{onClick:()=>{d("moments"),x()},className:"umo-btn w-full text-left "+("moments"===c?"umo-btn--primary":"umo-btn--secondary"),style:{minHeight:"44px"},children:"Browse Moments"}),(0,l.jsx)("button",{onClick:()=>{d("performances"),x()},className:"umo-btn w-full text-left "+("performances"===c?"umo-btn--primary":"umo-btn--secondary"),style:{minHeight:"44px"},children:"Browse Shows"}),(0,l.jsx)("button",{onClick:()=>{d("songs"),x()},className:"umo-btn w-full text-left "+("songs"===c?"umo-btn--primary":"umo-btn--secondary"),style:{minHeight:"44px"},children:"Browse Songs"})]}),(0,l.jsx)("div",{className:"border-t border-gray-600 pt-4 space-y-3",children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-sm umo-text-secondary mb-3",children:["Logged in as: ",(0,l.jsx)("span",{className:"font-medium umo-text-primary",children:t.displayName})]}),(0,l.jsxs)("button",{onClick:()=>{o(),x()},className:"umo-btn umo-btn--secondary w-full text-left relative",style:{minHeight:"44px"},children:["My Account",m.show&&!m.isModOrAdmin&&(0,l.jsx)("div",{className:`absolute top-2 right-2 w-3 h-3 ${"blue"===m.color?"bg-blue-500":"bg-red-500"} rounded-full border border-white`,style:{minWidth:"12px",minHeight:"12px",zIndex:10}})]}),("admin"===t.role||"mod"===t.role||"solo@solo.solo"===t.email||"solo2@solo.solo"===t.email)&&(0,l.jsxs)("button",{onClick:()=>{s(),x()},className:"umo-btn umo-btn--primary w-full text-left relative",style:{minHeight:"44px"},children:["admin"===t.role||"solo@solo.solo"===t.email||"solo2@solo.solo"===t.email?"Admin Panel":"Moderation Panel",m.show&&m.isModOrAdmin&&(0,l.jsx)("div",{className:`absolute top-2 right-2 w-3 h-3 ${m.color,"bg-red-500"} rounded-full border border-white`,style:{minWidth:"12px",minHeight:"12px",zIndex:10}})]})]}):(0,l.jsx)("button",{onClick:()=>{a(),x()},className:"umo-btn umo-btn--primary w-full text-left",style:{minHeight:"44px"},children:"Login to Upload"})})]})})})]}),(0,l.jsxs)("div",{className:"hidden sm:block",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4 p-4 bg-white/90 backdrop-blur-sm",style:{borderRadius:"4px",marginBottom:"1.5rem"},children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,l.jsxs)("button",{onClick:()=>{p()},className:"flex items-center gap-2",title:"Click for site info and how to use",children:[(0,l.jsx)("h1",{className:"umo-heading umo-heading--lg text-blue-600 hover:text-blue-800 transition-colors",children:"King Gizzard Archive"}),f?(0,l.jsx)(y,{size:16,className:"text-blue-600"}):(0,l.jsx)(v,{size:16,className:"text-blue-600"})]})}),f&&(0,l.jsxs)("div",{className:"mt-3 umo-card p-4",children:[(0,l.jsx)("h3",{className:"umo-heading umo-heading--md mb-3",children:"How to Use King Gizzard Archive"}),(0,l.jsx)("p",{className:"umo-text-secondary text-sm mb-4",children:"Explore King Gizzard's complete performance history and upload your own concert moments."}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-sm font-bold text-blue-600",children:"1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"umo-text-primary font-medium mb-1 text-sm",children:"Browse & Explore"}),(0,l.jsx)("div",{className:"umo-text-secondary text-xs",children:"Use tabs to browse Moments, Shows, Songs. Search by city, venue, or song name."})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-sm font-bold text-blue-600",children:"2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"umo-text-primary font-medium mb-1 text-sm",children:"Upload Your Moments"}),(0,l.jsx)("div",{className:"umo-text-secondary text-xs",children:"Login \u2192 My Account \u2192 Upload New Moment. Add details like song, venue, and date."})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center text-sm font-bold text-orange-600",children:"\u23f3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"umo-text-primary font-medium mb-1 text-sm",children:"Wait for Approval"}),(0,l.jsx)("div",{className:"umo-text-secondary text-xs",children:"Uploads go through moderation. Check My Account for status updates."})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center text-sm font-bold text-green-600",children:"\u2713"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"umo-text-primary font-medium mb-1 text-sm",children:"Enjoy & Share"}),(0,l.jsx)("div",{className:"umo-text-secondary text-xs",children:"Approved moments appear in the public archive for all fans to discover."})]})]})]})]})]}),(0,l.jsx)("div",{className:"flex-shrink-0 ml-2",children:t?(0,l.jsxs)("div",{className:"text-right space-y-2",children:[(0,l.jsx)("div",{className:"text-xs text-gray-600 truncate max-w-32 mb-1",children:t.displayName}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsxs)("button",{onClick:o,className:"umo-btn umo-btn--secondary text-xs whitespace-nowrap relative",style:{minHeight:"32px"},children:["My Account",m.show&&!m.isModOrAdmin&&(0,l.jsx)("div",{className:`absolute -top-1 -right-1 w-3 h-3 ${"blue"===m.color?"bg-blue-500":"bg-red-500"} rounded-full border border-white`,style:{minWidth:"12px",minHeight:"12px",zIndex:10}})]}),("admin"===t.role||"mod"===t.role||"solo@solo.solo"===t.email||"solo2@solo.solo"===t.email)&&(0,l.jsxs)("button",{onClick:s,className:"umo-btn umo-btn--primary text-xs whitespace-nowrap relative",style:{minHeight:"32px"},children:["admin"===t.role||"solo@solo.solo"===t.email||"solo2@solo.solo"===t.email?"Admin":"Mod",m.show&&m.isModOrAdmin&&(0,l.jsx)("div",{className:`absolute -top-1 -right-1 w-3 h-3 ${m.color,"bg-red-500"} rounded-full border border-white`,style:{minWidth:"12px",minHeight:"12px",zIndex:10}})]})]})]}):(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Browse read-only"}),(0,l.jsx)("button",{onClick:a,className:"umo-btn umo-btn--primary text-sm whitespace-nowrap",style:{minHeight:"36px"},children:"Login to Upload"})]})})]}),"home"===i&&(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("div",{className:"umo-glass p-1 inline-flex w-full max-w-lg",style:{borderRadius:"2px"},children:[(0,l.jsx)("button",{onClick:()=>d("moments"),className:"umo-btn flex-1 "+("moments"===c?"umo-btn--primary":"umo-btn--ghost"),style:{minHeight:"44px"},children:"Moments"}),(0,l.jsx)("button",{onClick:()=>d("performances"),className:"umo-btn flex-1 "+("performances"===c?"umo-btn--primary":"umo-btn--ghost"),style:{minHeight:"44px"},children:"Shows"}),(0,l.jsx)("button",{onClick:()=>d("songs"),className:"umo-btn flex-1 "+("songs"===c?"umo-btn--primary":"umo-btn--ghost"),style:{minHeight:"44px"},children:"Songs"})]})})]})]})});rt.displayName="Header";const at=(0,r.memo)(e=>{let{currentView:t,browseMode:n,selectedSong:r,selectedPerformance:a,onPerformanceSelect:o,onSongSelect:s,onBack:i}=e;switch(t){case"song":return r?(0,l.jsx)(je,{songData:r,onBack:i,onPerformanceSelect:o}):null;case"performance":return a?(0,l.jsx)(Ae,{performance:a,onBack:i}):null;default:switch(n){case"performances":default:return(0,l.jsx)(G,{onPerformanceSelect:o});case"songs":return(0,l.jsx)(re,{onSongSelect:s});case"moments":return(0,l.jsx)(Ie,{onSongSelect:s,onPerformanceSelect:o})}}});function lt(){return(0,l.jsx)(m,{children:(0,l.jsx)(c,{children:(0,l.jsx)(nt,{})})})}at.displayName="MainContent";const ot=document.createElement("script");ot.src="https://cdn.tailwindcss.com",document.head.appendChild(ot);a.createRoot(document.getElementById("root")).render((0,l.jsx)(r.StrictMode,{children:(0,l.jsx)(lt,{})}))})();
//# sourceMappingURL=main.3ca81977.js.map